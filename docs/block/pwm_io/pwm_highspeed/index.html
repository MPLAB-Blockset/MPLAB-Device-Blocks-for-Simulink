<!doctype html><html lang=en><head><title>PWM HighSpeed - MPLAB Device Blocks for Simulink</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_highspeed/><link rel=icon type=image/x-icon href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/favicon.ico><style>:root{--bg-primary:#f5f7fa;--bg-secondary:#ffffff;--bg-tertiary:#e8ecf1;--text-primary:#1a1a1a;--text-secondary:#4a5568;--text-tertiary:#718096;--text-heading:#0f1419;--border-color:#d1d5db;--border-light:#e5e7eb;--border-medium:#cbd5e0;--accent-primary:#14508F;--accent-secondary:#0088CC;--accent-hover:#0A3A6B;--accent-light:#E6F2FF;--code-bg:#f3f4f6;--code-text:#9D174D;--pre-bg:linear-gradient(to bottom, #f9fafb 0%, #f3f4f6 100%);--pre-border:#d1d5db;--table-hover:#EBF5FF;--table-stripe:#f9fafb;--note-bg:linear-gradient(to right, #EBF5FF 0%, #F0F9FF 100%);--note-border:#0088CC;--note-text:#0369A1;--warning-bg:linear-gradient(to right, #FEF3C7 0%, #FFF9E6 100%);--warning-border:#D97706;--warning-text:#92400E;--shadow-sm:0 1px 3px rgba(0,0,0,0.06);--shadow-md:0 2px 6px rgba(0,0,0,0.08);--shadow-lg:0 4px 12px rgba(0,0,0,0.1)}[data-theme=dark]{--bg-primary:#0f1419;--bg-secondary:#1a1f29;--bg-tertiary:#242b38;--text-primary:#e8eaed;--text-secondary:#b4b9c5;--text-tertiary:#8b92a3;--text-heading:#f1f3f5;--border-color:#2d3748;--border-light:#374151;--border-medium:#4b5563;--accent-primary:#60A5FA;--accent-secondary:#38BDF8;--accent-hover:#93C5FD;--accent-light:#1e3a5f;--code-bg:#1e2530;--code-text:#F472B6;--pre-bg:linear-gradient(to bottom, #1a1f29 0%, #1e2530 100%);--pre-border:#374151;--table-hover:#1e3a5f;--table-stripe:#1a1f29;--note-bg:linear-gradient(to right, #1e3a5f 0%, #1e3a5f 100%);--note-border:#60A5FA;--note-text:#93C5FD;--warning-bg:linear-gradient(to right, #422006 0%, #422006 100%);--warning-border:#FBBF24;--warning-text:#FCD34D;--shadow-sm:0 1px 3px rgba(0,0,0,0.4);--shadow-md:0 2px 6px rgba(0,0,0,0.5);--shadow-lg:0 4px 12px rgba(0,0,0,0.6)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}html{background-color:var(--bg-primary);color:var(--text-primary)}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff!important;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-title a{color:#fff!important;text-decoration:none}.sidebar-title a:hover{color:rgba(255,255,255,.9)!important;text-decoration:none}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:4px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:6px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:5px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-title-wrapper{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.page-title-tags{display:flex;flex-wrap:wrap;gap:5px;align-items:center}.page-title-tags .family-tag{display:inline-block;padding:2px 7px;font-size:10px;font-weight:600;background-color:#2196f3;color:#fff;border-radius:3px;white-space:nowrap}.page-title-tags .family-detail{font-weight:400;opacity:.9;font-size:9px;margin-left:2px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:40px;max-width:200px;object-fit:contain}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-primary);margin-bottom:8px;padding:6px 10px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px;font-weight:500}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover);text-decoration:underline}.breadcrumbs span{margin:0 8px;color:var(--text-secondary);font-weight:400}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:initial;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.matlab-cmd{color:#c7254e;font-family:Consolas,Monaco,courier new,monospace;background-color:#f4f4f4;padding:3px 6px;border-radius:3px;font-size:14px;text-decoration:none}a.matlab-cmd:hover{text-decoration:underline;cursor:pointer}code.matlab-cmd{cursor:default}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}li mjx-container[display=true]{text-align:left!important;margin:8px 0!important}li p mjx-container[display=true]{text-align:left!important;margin:8px 0!important}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:flex;align-items:center;gap:15px;margin:20px auto;padding:15px;max-width:900px;background-color:#f8f9fa;border-radius:8px;border:1px solid #dee2e6;transition:all .2s ease-in-out}.block-card-link{display:flex;align-items:center;gap:15px;flex:1;text-decoration:none;color:inherit}.block-icon-container:has(.block-card-link):hover{background-color:#e9ecef;border-color:#0076a8;box-shadow:0 2px 8px rgba(0,118,168,.15);cursor:pointer}.block-icon-image{flex-shrink:0;width:150px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.block-icon-image picture{width:100%;max-width:150px;display:flex;align-items:center;justify-content:center}.block-icon-image img,.block-icon-image source{max-width:100%;max-height:100%;width:auto;height:auto;display:block;object-fit:contain}.block-icon-description{flex:1;font-size:16px;line-height:1.6;color:#333;column-count:1;max-width:100%}.family-tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;justify-content:center;width:100%}.family-tag{display:inline-block;padding:3px 8px;font-size:11px;font-weight:600;background-color:#2196f3;color:#fff;border-radius:4px;white-space:nowrap}.family-detail{font-weight:400;opacity:.9;font-size:10px;margin-left:3px}.chip-family-badges{display:flex;flex-direction:column;gap:6px;padding:12px;background-color:#e3f2fd;border:2px solid #2196f3;border-radius:6px;min-width:140px;flex-shrink:0}.chip-family-badges::before{content:"Device Support";font-size:11px;font-weight:700;color:#1565c0;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px;text-align:center}.chip-badge{display:block;padding:6px 10px;font-size:12px;font-weight:600;border-radius:4px;white-space:nowrap;text-align:center;transition:all .15s ease-in-out}.chip-badge:hover{transform:scale(1.05);box-shadow:0 2px 4px rgba(0,0,0,.2)}.chip-badge.dspic30f{background-color:#e3f2fd;color:#1565c0;border:1px solid #90caf9}.chip-badge.dspic33f{background-color:#e8f5e9;color:#2e7d32;border:1px solid #81c784}.chip-badge.dspic33e{background-color:#fff3e0;color:#e65100;border:1px solid #ffb74d}.chip-badge.dspic33c{background-color:#f3e5f5;color:#6a1b9a;border:1px solid #ba68c8}.chip-badge.dspic33a{background-color:#fce4ec;color:#c2185b;border:1px solid #f06292}.chip-badge.pic32{background-color:#e0f7fa;color:#00695c;border:1px solid #4db6ac}.chip-badge.sam{background-color:#fff9c4;color:#f57f17;border:1px solid #fdd835}.chip-badge.all-families{background-color:#e0e0e0;color:#424242;border:1px solid #9e9e9e;font-weight:700}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","name":"PWM HighSpeed","description":"MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/block\/pwm_io\/pwm_highspeed\/","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-16","dateModified":"2025-11-30","inLanguage":"en-US"}</script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},options:{enableMenu:!1,renderActions:{addMenu:[]}}}</script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js async></script><script>(function(){const e=localStorage.getItem("theme"),t=["light","dark"],n=e&&t.includes(e)?e:null,s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,o=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",o)})()</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><div class=sidebar-title><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/>MPLAB Device Blocks for Simulink</a></div></div><div class=sidebar-nav><div class=nav-section><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/ class=nav-section-title><span><span class=icon>üè†</span>
<span class=nav-text>Home</span></span></a></div><div class=nav-section id=section-/getting_started/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/ class=nav-section-title onclick='toggleSection(event,"/getting_started/")'><span><span class=icon>üöÄ</span>
<span class=nav-text>Getting Started</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/installation/ class=nav-link>MPLAB Blockset Installation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/quick_start/ class=nav-link>Quick Start Guide
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/overview/ class=nav-link>MCHP Blockset Overview
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/board_templates/ class=nav-link>Board Templates
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/motor_control_examples/ class=nav-link>Motor Control Examples
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/scheduler_multitasking/ class=nav-link>Scheduler & Multitasking
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/external_mode_pil/ class=nav-link>External Mode & PIL Testing
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/data_visualization/ class=nav-link>Data Visualization with PIC GUI
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/supported_devices/ class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-/videos/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/videos/ class=nav-section-title><span><span class=icon></span>
<span class=nav-text>Video Tutorials</span></span></a></div><div class=nav-section id=section-/user_guide/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/ class=nav-section-title onclick='toggleSection(event,"/user_guide/")'><span><span class=icon>üìö</span>
<span class=nav-text>User Guide</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/code_generation/ class=nav-link>Code Generation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/compiler_setup/ class=nav-link>Compiler Setup
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/external_mode/ class=nav-link>External Mode
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/user_guide/pil_testing/ class=nav-link>PIL Testing</a></div></div><div class=nav-section id=section-/block/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/ class=nav-section-title onclick='toggleSection(event,"/block/")'><span><span class=icon>üß©</span>
<span class=nav-text>Block Reference</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><div class=nav-section id=section-/block/pwm_io/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/ class=nav-section-title onclick='toggleSection(event,"/block/pwm_io/")'><span><span class=icon>‚ö°</span>
<span class=nav-text>PWM</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/mcpwm/ class=nav-link>MCPWM
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm/ class=nav-link>PWM
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_highspeed/ class="nav-link active">PWM HighSpeed
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_highspeed_override/ class=nav-link>PWM HighSpeed Override
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_hs_fep/ class=nav-link>PWM HS FEP
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_sam7x/ class=nav-link>PWM SAM7x
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/pwm_sam7x_override/ class=nav-link>PWM SAM7x Override
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/tcc_pwm/ class=nav-link>TCC PWM</a></div></div><div class=nav-section id=section-/block/adc/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/ class=nav-section-title onclick='toggleSection(event,"/block/adc/")'><span><span class=icon>üìä</span>
<span class=nav-text>ADC</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc/ class=nav-link>ADC - Standard ADC Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_highspeed_sar/ class=nav-link>ADC HighSpeed SAR - High-Speed SAR ADC Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_highspeed_sar_dspic/ class=nav-link>ADC HighSpeed SAR dsPIC - High-Speed SAR ADC for dsPIC33C
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_hs_12b/ class=nav-link>ADC HS 12b - 12-bit High-Speed ADC for dsPIC33A
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_same5x/ class=nav-link>ADC SAME5x - ADC for SAM E5x/D5x/C2x Families
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/adc_samrh707x/ class=nav-link>ADC SAMRH707x - ADC for SAM RH707x Radiation-Hardened MCU
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc/afec_sam7x/ class=nav-link>AFEC SAM7x - Analog Front-End Controller for SAM 7x</a></div></div><div class=nav-section id=section-/block/communication/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/ class=nav-section-title onclick='toggleSection(event,"/block/communication/")'><span><span class=icon>üì°</span>
<span class=nav-text>Communication</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><div class=nav-section id=section-/block/communication/uart/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/ class=nav-section-title onclick='toggleSection(event,"/block/communication/uart/")'><span><span class=icon>üì°</span>
<span class=nav-text>UART</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_break_and_autobaud/ class=nav-link>UART Break/Autobaud
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_config/ class=nav-link>UART Config Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_rx/ class=nav-link>UART Rx Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_tx/ class=nav-link>UART Tx Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/uart/uart_txmatlab/ class=nav-link>UART TxMatlab Block</a></div></div><div class=nav-section id=section-/block/communication/can/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/ class=nav-section-title onclick='toggleSection(event,"/block/communication/can/")'><span><span class=icon>üöå</span>
<span class=nav-text>CAN</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_config/ class=nav-link>CAN Config
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_rx/ class=nav-link>CAN Rx
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/can/can_tx/ class=nav-link>CAN Tx</a></div></div><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/i2c/ class=nav-link>I2C Master - Communication Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/communication/spi/ class=nav-link>SPI Master/Slave - Communication Block</a></div></div><div class=nav-section id=section-/block/timers/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/ class=nav-section-title onclick='toggleSection(event,"/block/timers/")'><span><span class=icon>‚è±Ô∏è</span>
<span class=nav-text>Timers</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/timer_config/ class=nav-link>TIMER Config - Timer Configuration Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/timers/timer_pil_profiling/ class=nav-link>TIMER PIL Profiling - PIL Timing Profiler</a></div></div><div class=nav-section id=section-/block/capture_compare/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/ class=nav-section-title onclick='toggleSection(event,"/block/capture_compare/")'><span><span class=icon>üìè</span>
<span class=nav-text>Input Capture / Output Compare</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/input_capture/ class=nav-link>IC - Input Capture Block
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/output_compare_hw/ class=nav-link>OC HW - Output Compare (Hardware)
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/capture_compare/output_compare_sw/ class=nav-link>OC SW - Software Output Compare</a></div></div><div class=nav-section id=section-/block/digital_io/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/ class=nav-section-title onclick='toggleSection(event,"/block/digital_io/")'><span><span class=icon>üîå</span>
<span class=nav-text>Digital I/O</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_input/ class=nav-link>Digital Input
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output/ class=nav-link>Digital Output
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output_read/ class=nav-link>Digital Output Read
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/digital_io/digital_output_write/ class=nav-link>Digital Output Write</a></div></div><div class=nav-section id=section-/block/encoders/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/ class=nav-section-title onclick='toggleSection(event,"/block/encoders/")'><span><span class=icon>üîÑ</span>
<span class=nav-text>Encoders</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/change_notification/ class=nav-link>CN - Change Notification (Pin Interrupt)
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/pdec/ class=nav-link>PDEC - Position Decoder for SAM Devices
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/qdec_samx/ class=nav-link>QDEC SAMx - Quadrature Decoder for SAM Devices
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/encoders/qei/ class=nav-link>QEI - Quadrature Encoder Interface</a></div></div><div class=nav-section id=section-/block/analog_io/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/ class=nav-section-title onclick='toggleSection(event,"/block/analog_io/")'><span><span class=icon>üìâ</span>
<span class=nav-text>Analog I/O</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><div class=nav-section id=section-/block/analog_io/comparator_opamps_volt_ref/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/ class=nav-section-title onclick='toggleSection(event,"/block/analog_io/comparator_opamps_volt_ref/")'><span><span class=icon></span>
<span class=nav-text>Comparator, OpAmp & Voltage Reference</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator/ class=nav-link>MCHP High-Speed Analog Comparator Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope/ class=nav-link>MCHP High-Speed Analog Comparator with Slope Compensation Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/op_amp/ class=nav-link>MCHP Op-Amp Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/comparator_opamps_volt_ref/pga/ class=nav-link>MCHP PGA Documentation</a></div></div><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/dac_samx/ class=nav-link>MCHP DAC SAMx Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog_io/acc_samx/ class=nav-link>Analog Comparator Controller (ACC) SAMx</a></div></div><div class=nav-section id=section-/block/system_configuration/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/ class=nav-section-title onclick='toggleSection(event,"/block/system_configuration/")'><span><span class=icon>‚öôÔ∏è</span>
<span class=nav-text>System Configuration</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/compiler_options/ class=nav-link>CompilerOptimisation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/idle_task/ class=nav-link>IdleTask
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/interrupt/ class=nav-link>Interrupt
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/master/ class=nav-link>Master
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/mcu_load/ class=nav-link>MCU LOAD
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/mcu_overload/ class=nav-link>MCU OVERLOAD
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/scheduler_options/ class=nav-link>Scheduler Options
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/secondary_core/ class=nav-link>SECONDARY CORE
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system_configuration/tasks_state/ class=nav-link>Tasks State</a></div></div><div class=nav-section id=section-/block/utility/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/ class=nav-section-title onclick='toggleSection(event,"/block/utility/")'><span><span class=icon>üîß</span>
<span class=nav-text>Utility</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/doc/ class=nav-link>Doc
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/msi/ class=nav-link>MSI
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/port_info/ class=nav-link>PortInfo
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/simulink_reset_config/ class=nav-link>Simulink Reset Config
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/timer_info/ class=nav-link>TimerInfo
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/utility/utility/ class=nav-link>Utility Blocks</a></div></div><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/adc_blocks/ class=nav-link>ADC Blocks - Analog-to-Digital Converter Reference
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/analog/ class=nav-link>Analog Signal Conditioning Blocks Documentation
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/user_functions/c_function_call/ class=nav-link>C Function Call
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/can/ class=nav-link>CAN Communication Blocks
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_blocks/ class=nav-link>PWM Blocks - Block Reference
</a><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/system/system/ class=nav-link>System Blocks</a></div></div><div class=nav-section id=section-/examples/><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/examples/ class=nav-section-title onclick='toggleSection(event,"/examples/")'><span><span class=icon>üìñ</span>
<span class=nav-text>Examples</span>
</span><span class=toggle-icon>‚ñ∂</span></a><div class=nav-section-children><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/examples/field_weakening/ class=nav-link>Field-weakening</a></div></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/>Home</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/>MPLAB Device Blocks for Simulink</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/>Block Reference</a>
<span>></span>
<a href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block/pwm_io/>PWM</a>
<span>></span>
<span>PWM HighSpeed</span></div><div class=page-header><div class=page-title-wrapper><h1>PWM HighSpeed</h1><div class=page-title-tags><span class=family-tag>dsPIC33C <span class=family-detail>CH/CK/CDV</span></span>
<span class=family-tag>dsPIC33E <span class=family-detail>GS</span></span>
<span class=family-tag>dsPIC33F <span class=family-detail>selected</span></span></div></div><div class=page-header-right><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/microchip-logo.png alt="Microchip Logo" class=microchip-logo width=800 height=709>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>‚òÄÔ∏è</span>
<span id=theme-text>Light</span></button></div></div><div class=block-icon-container><div class=block-icon-image><picture><source srcset=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/block_PWM_HS.svg type=image/svg+xml><img src=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/images/blocks/block_PWM_HS.png alt="Pwm Highspeed Block Icon"></picture></div><div class=block-icon-description>This block is designed for demanding motor control and power conversion applications requiring precise timing, independent channel control, and high switching frequencies.</div></div><h2 id=block-inputsoutputs>Block Inputs/Outputs</h2><h3 id=block-inputs>Block Inputs</h3><table><thead><tr><th>Input</th><th>Type</th><th>Condition</th><th>Description</th></tr></thead><tbody><tr><td>Period</td><td>uint16 or uint16[]</td><td>Period input enabled</td><td>Period value(s). Label varies by mode: <code>Period[1 2...]</code> for master time base, <code>Period Hx</code>/<code>Period Lx</code> for independent mode</td></tr><tr><td>DutyCycle 1..N</td><td>uint16 or uint16[2]</td><td>Duty cycle enabled</td><td>Duty cycle values. Single value or [up down] for double update</td></tr><tr><td>Phase 1..N</td><td>uint16</td><td>Phase input enabled</td><td>Phase shift values for interleaved operation</td></tr><tr><td>Trigger 1..N</td><td>uint16</td><td>Dynamic trigger enabled</td><td>Dynamic ADC trigger point values</td></tr></tbody></table><h3 id=block-outputs>Block Outputs</h3><table><thead><tr><th>Output</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Fault State 1..N</td><td>boolean</td><td>Fault status output per PWM (if enabled)</td></tr></tbody></table><h2 id=scaling>Scaling</h2><p>This block uses <strong>uint16 raw values</strong> for all inputs (period, duty cycle, phase, trigger). User scaling is required.</p><table><thead><tr><th>Input Type</th><th>Range</th><th>Scaling</th><th>Description</th></tr></thead><tbody><tr><td><strong>Uint16 raw</strong></td><td>0 to <code>PWMxmax</code></td><td>User handles scaling</td><td>Direct register value</td></tr></tbody></table><p><strong>‚ö†Ô∏è Important:</strong> The block performs no range checking on inputs. Users must clamp values before the block input (e.g., using a <strong>Saturation</strong> block) to prevent overflow.</p><h3 id=uint-raw-input>Uint Raw Input</h3><ul><li><strong>Uint raw:</strong> Integer values transfer directly to peripheral registers with no runtime computation‚Äîmaximum efficiency.</li></ul><p>The block creates workspace variables for user scaling:</p><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>PWMmax</code></td><td>Global maximum period value (when using master time base)</td></tr><tr><td><code>PWM1max</code>&mldr;<code>PWMNmax</code></td><td>Maximum period per channel (based on <strong>Max Period</strong> in GUI)</td></tr><tr><td><code>PWMxmax_H</code>, <code>PWMxmax_L</code></td><td>For Independent mode with separate H/L periods</td></tr></tbody></table><p><strong>Fixed Period (period input disabled):</strong></p><p>$$\text{DutyCycle}_\text{raw} = \text{DutyCycle}_\text{normalized} \times \text{PWMxmax}$$<noscript></p><p><code>DutyCycle_raw = DutyCycle_normalized √ó PWMxmax</code></noscript></p><p>Where <code>DutyCycle_normalized</code> is in the range [0, 1] relative to the fixed <strong>Max Period</strong>.</p><p><strong>Variable Period (period input enabled):</strong></p><p>When the period is dynamically controlled via block input, both period and duty cycle use the same scaling:</p><p>$$\text{Period}_\text{raw} = \text{Period}_\text{normalized} \times \text{PWMxmax}$$<noscript></p><p><code>Period_raw = Period_normalized √ó PWMxmax</code></noscript></p><p>$$\text{DutyCycle}_\text{raw} = \text{DutyCycle}_\text{normalized} \times \text{Period}_\text{raw}$$<noscript></p><p><code>DutyCycle_raw = DutyCycle_normalized √ó Period_raw</code></noscript></p><p><strong>‚ö†Ô∏è Constraints:</strong></p><ul><li>Period input must always be <strong>&lt; PWMxmax</strong> (Max Period in GUI)</li><li>Duty cycle normalizes to the actual period input, not <code>PWMxmax</code></li><li>If ADC triggers from PWM events and drives the scheduler, changing period alters the control loop sample time</li></ul><h3 id=center-aligned-vs-edge-aligned>Center-Aligned vs Edge-Aligned</h3><p><strong>Center-Aligned Mode:</strong> The <code>PWMxmax</code> workspace variable is <strong>halved</strong> at configuration time because the timer counts both up and down. This applies to all input types (Uint raw, Float).</p><p><strong>No runtime division:</strong> Since <code>PWMxmax</code> is already halved, the block passes integer inputs directly to registers without any runtime shift operation. Users simply scale their values to the halved <code>PWMxmax</code>.</p><p><strong>Edge-Aligned Mode:</strong> The timer counts up only. <code>PWMxmax</code> represents the full period count. Duty cycle updates take effect at the next period boundary (unless Immediate Update is enabled).</p><h3 id=double-update-mode>Double Update Mode</h3><p>When <strong>Double Update</strong> is enabled (requires Center-Aligned Mode + Independent Period):</p><ul><li>Duty cycle input becomes a <strong>2-element vector</strong>: <code>[val_up val_down]</code></li><li>First value applied during up-count, second during down-count</li><li>Enables asymmetric PWM waveforms for harmonic reduction</li></ul><p>Workspace variables for double update:</p><ul><li><code>PWMxmax_H</code> ‚Äî Maximum value for high-side (up-count)</li><li><code>PWMxmax_L</code> ‚Äî Maximum value for low-side (down-count)</li></ul><h3 id=dead-time>Dead Time</h3><ul><li><p><strong>GUI configuration:</strong> Specify in <strong>seconds</strong> (e.g., <code>1e-6</code> for 1 ¬µs)</p></li><li><p><strong>Integer block input:</strong> Dead time uses a different scaling base (full period, not halved).</p><p><strong>‚ö†Ô∏è In center-aligned mode, multiply <code>PWMxmax</code> by 2</strong> for dead time scaling:</p></li></ul><p>$$\text{DeadTime}_\text{raw} = \frac{\text{DeadTime}_s \times 2 \times \text{PWMxmax}}{\text{MaxPeriod}_s}$$<noscript></p><p><code>DeadTime_raw = (DeadTime_s √ó 2 √ó PWMxmax) / MaxPeriod_s</code></noscript></p><ul><li><strong>Note:</strong> Dead time scaling is <strong>identical</strong> in center-aligned and edge-aligned modes‚Äîthe factor of 2 compensates for the halved <code>PWMxmax</code></li></ul><h2 id=block-parameters>Block Parameters</h2><p>This block uses a custom 5-tab GUI dialog. All parameters shown below are visible to users.</p><details open><summary><strong>Main Tab</strong></summary><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><strong>PWM-H and PWM-L mode</strong></td><td><em>Complementary</em> (PWM-L is complement of PWM-H), <em>Redundant</em> (identical signals), <em>Push-Pull</em> (alternating on H/L), or <em>Independent</em> (separate control)</td></tr><tr><td><strong>Independent Period</strong></td><td>Enable independent period per PWM channel (required for Center Aligned mode)</td></tr><tr><td><strong>Independent Duty Cycle</strong></td><td>Enable independent duty cycle per PWM channel</td></tr><tr><td><strong>Enable Channels</strong></td><td>Per-channel enable checkboxes for PWM 1..N (H and L separately)</td></tr><tr><td><strong>Max Period (s)</strong></td><td>Maximum period in seconds per channel. Defines <code>PWMxmax</code> workspace variables</td></tr><tr><td><strong>Center Aligned Mode</strong></td><td>Align PWMs to middle of up/down time. Resolution is divided by two</td></tr><tr><td><strong>Immediate Update</strong></td><td>Update duty-cycle, phase, and period immediately (vs. at period boundary)</td></tr><tr><td><strong>Double Update</strong></td><td>In Center Aligned mode, update twice per PWM cycle. Input becomes [val1 val2] vector</td></tr><tr><td><strong>Block Sampling Time (s)</strong></td><td>Sample time for block outputs</td></tr></tbody></table></details><details><summary><strong>Block Input and Initialisation Tab</strong></summary><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><strong>Initial Period (s)</strong></td><td>Starting period value per channel (H and L separately for Independent mode)</td></tr><tr><td><strong>Period is a block Input</strong></td><td>Enable period block input per channel</td></tr><tr><td><strong>Initial Duty Cycle (%)</strong></td><td>Starting duty cycle percentage per channel</td></tr><tr><td><strong>Duty Cycle is a block Input</strong></td><td>Enable duty cycle block input per channel</td></tr><tr><td><strong>Initial Phase (s)</strong></td><td>Starting phase shift in seconds per channel</td></tr><tr><td><strong>Phase is a block Input</strong></td><td>Enable phase shift block input per channel</td></tr><tr><td><strong>Initial ADC Trigger (s)</strong></td><td>Starting ADC trigger timing per channel</td></tr><tr><td><strong>Trigger is a block input</strong></td><td>Enable dynamic trigger adjustment per channel</td></tr></tbody></table></details><details><summary><strong>Fault & Current-Limitation Tab</strong></summary><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><strong>Fault</strong></td><td>Fault source selection per PWM: <em>Disabled</em>, <em>FLTx pin</em>, <em>Comparator</em>, or combinations</td></tr><tr><td><strong>Fault pin</strong></td><td>Select fault input pin per PWM channel</td></tr><tr><td><strong>Fault Pin Active</strong></td><td><em>High</em> or <em>Low</em> - polarity of fault input</td></tr><tr><td><strong>Fault PWMxH state</strong></td><td>Output state during fault: <em>Low</em>, <em>High</em>, or <em>High-Z</em></td></tr><tr><td><strong>Fault PWMxL state</strong></td><td>Output state during fault: <em>Low</em>, <em>High</em>, or <em>High-Z</em></td></tr><tr><td><strong>Fault State is a block output</strong></td><td>Enable fault status output port per channel</td></tr><tr><td><strong>Fault Mode</strong></td><td><em>Normal</em> (Override Active/Inactive set to 0/1) or <em>Independent</em> (keeps PWM enabled/disabled)</td></tr><tr><td><strong>Current-Limit Source</strong></td><td>Current limit trigger source selection</td></tr><tr><td><strong>Current Limit PWMxH/L state</strong></td><td>Output state during current limit</td></tr></tbody></table></details><details><summary><strong>Fault & Cur-Lim Blanking Tab</strong></summary><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><strong>Leading Edge Blanking</strong></td><td>Enable blanking after PWM transitions to ignore switching noise on fault inputs</td></tr><tr><td><strong>LEB Duration</strong></td><td>Blanking time period in timer counts</td></tr><tr><td><strong>LEB Source</strong></td><td>Trigger source: <em>Rising edge PWMxH</em>, <em>Falling edge PWMxH</em>, or <em>PWMxL edges</em></td></tr></tbody></table></details><details><summary><strong>Dead Time Tab</strong></summary><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><strong>Dead Time</strong></td><td>Mode selection: <em>Disabled</em>, <em>Positive</em>, <em>Negative</em> (edge-aligned only), or <em>Compensation</em></td></tr><tr><td><strong>Dead Time (s)</strong></td><td>Dead-time duration for PWMxH transitions (seconds) per channel</td></tr><tr><td><strong>Alternate Dead Time (s)</strong></td><td>Dead-time duration for PWMxL transitions (seconds) per channel</td></tr></tbody></table></details><h2 id=output-modes>Output Modes</h2><table><thead><tr><th>Mode</th><th>Description</th><th>Use Case</th></tr></thead><tbody><tr><td>Complementary</td><td>PWM-L is complement of PWM-H with dead-time insertion</td><td>Standard motor drive, half-bridge converters</td></tr><tr><td>Redundant</td><td>PWM-L is identical to PWM-H</td><td>Parallel drive, increased current capability</td></tr><tr><td>Push-Pull</td><td>PWM pulses alternate on PWM-H and PWM-L outputs</td><td>Push-pull converters, full-bridge DC-DC</td></tr><tr><td>Independent</td><td>PWM-H and PWM-L have separate period and duty cycle</td><td>Dual independent loads, asymmetric control</td></tr></tbody></table><h2 id=additional-features>Additional Features</h2><h3 id=pwm-adc-synchronization>PWM-ADC Synchronization</h3><p>Synchronizing ADC sampling with PWM switching is essential for accurate current measurement in motor control and power conversion.</p><h4 id=option-3-pwm--adc--task-motor-control-standard>Option 3: PWM ‚Üí ADC ‚Üí Task (Motor Control Standard)</h4><p><strong>Configuration using Initial ADC Trigger:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% In PWM HighSpeed GUI, Block Input and Initialisation tab:</span>
</span></span><span style=display:flex><span>Initial_ADC_Trigger <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Trigger at valley (center-aligned)</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Or for edge-aligned:</span>
</span></span><span style=display:flex><span>Initial_ADC_Trigger <span style=color:#1f2328>=</span> Max_Period <span style=color:#0550ae>/</span> <span style=color:#0550ae>2</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Trigger at mid-period</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% In ADC block:</span>
</span></span><span style=display:flex><span>Trigger_Source <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;PWM Trigger 1&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Sample_Time <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Inherited&#39;</span><span style=color:#1f2328>;</span>
</span></span></code></pre></div><p><strong>Benefits:</strong></p><ul><li>Synchronized current sensing with PWM switching</li><li>Sample when low-side FET is ON (minimal switching noise)</li><li>Control loop rate automatically matches PWM frequency</li></ul><h3 id=best-practices>Best Practices</h3><table><thead><tr><th>PWM Mode</th><th>Recommended Trigger Timing</th><th>Configuration</th></tr></thead><tbody><tr><td>Center-Aligned</td><td>At valley (maximum current flow)</td><td>Initial ADC Trigger = 0</td></tr><tr><td>Edge-Aligned</td><td>Mid-period (stable PWM state)</td><td>Initial ADC Trigger = Max_Period / 2</td></tr><tr><td>Interleaved Phases</td><td>Staggered triggers per phase</td><td>Different trigger values per PWM</td></tr></tbody></table><h3 id=usage-examples>Usage Examples</h3><h4 id=example-1-3-phase-motor-control-complementary-mode>Example 1: 3-Phase Motor Control (Complementary Mode)</h4><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Main tab:</span>
</span></span><span style=display:flex><span>PWM_HL_mode <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Complementary&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Independent_Period <span style=color:#1f2328>=</span> false<span style=color:#1f2328>;</span>      <span style=color:#57606a>% Master time base</span>
</span></span><span style=display:flex><span>Independent_Duty_Cycle <span style=color:#1f2328>=</span> true<span style=color:#1f2328>;</span>   <span style=color:#57606a>% Per-channel control</span>
</span></span><span style=display:flex><span>Center_Aligned_Mode <span style=color:#1f2328>=</span> true<span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Immediate_Update <span style=color:#1f2328>=</span> false<span style=color:#1f2328>;</span>        <span style=color:#57606a>% Synchronized updates</span>
</span></span><span style=display:flex><span>Double_Update <span style=color:#1f2328>=</span> false<span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Max Period for 20 kHz PWM:</span>
</span></span><span style=display:flex><span>Max_Period <span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#0550ae>/</span><span style=color:#0550ae>20000</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 50 ¬µs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Dead Time tab:</span>
</span></span><span style=display:flex><span>Dead_Time <span style=color:#1f2328>=</span> <span style=color:#0550ae>1e-6</span><span style=color:#1f2328>;</span>      <span style=color:#57606a>% 1 ¬µs</span>
</span></span><span style=display:flex><span>Alt_Dead_Time <span style=color:#1f2328>=</span> <span style=color:#0550ae>1e-6</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 1 ¬µs</span>
</span></span></code></pre></div><h4 id=example-2-asymmetric-center-aligned-double-update>Example 2: Asymmetric Center-Aligned (Double Update)</h4><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Main tab:</span>
</span></span><span style=display:flex><span>Independent_Period <span style=color:#1f2328>=</span> true<span style=color:#1f2328>;</span>       <span style=color:#57606a>% Required for Double Update</span>
</span></span><span style=display:flex><span>Center_Aligned_Mode <span style=color:#1f2328>=</span> true<span style=color:#1f2328>;</span>      <span style=color:#57606a>% Required for Double Update</span>
</span></span><span style=display:flex><span>Double_Update <span style=color:#1f2328>=</span> true<span style=color:#1f2328>;</span>            <span style=color:#57606a>% Enable asymmetric PWM</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Duty cycle input becomes [val1 val2] for up/down count</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Use case: Harmonic reduction, EMI optimization</span>
</span></span></code></pre></div><h3 id=troubleshooting>Troubleshooting</h3><h4 id=double-update-mode-requirements>Double Update Mode Requirements</h4><p><strong>Double Update requires:</strong></p><ul><li>Independent Period = enabled</li><li>Center Aligned Mode = enabled</li></ul><p>If conditions not met, double update is automatically disabled.</p><h4 id=immediate-vs-synchronized-update>Immediate vs. Synchronized Update</h4><ul><li><strong>Immediate Update = off (default):</strong> Updates at period boundary. Eliminates pulse width glitches. <strong>Recommended for motor control.</strong></li><li><strong>Immediate Update = on:</strong> Updates immediately. Use for fast transient response but may cause glitches.</li></ul><h2 id=supported-device-families>Supported Device Families</h2><table><thead><tr><th>Family</th><th>Masksets</th><th>Key Features</th></tr></thead><tbody><tr><td>dsPIC33F (selected)</td><td>DOS_00958_pwm_TLAH, DOS_00958_pwm_TLAY</td><td>High-speed PWM, Auxiliary clock support</td></tr><tr><td>dsPIC33EP (GS)</td><td>DOS_00958_pwm_TLAH, DOS_00958_pwm_TLAY</td><td>Enhanced features, APLL clock, up to 12 channels</td></tr><tr><td>dsPIC33C/CH/CK</td><td>Various (WAC, WBH masksets)</td><td>Full-featured high-speed PWM, independent time bases</td></tr></tbody></table><h2 id=related-blocks>Related Blocks</h2><ul><li><a href=pwm/><strong>MCHP_PWM</strong></a>
- Standard PWM for dsPIC30F/33F/33E</li><li><a href=pwm_highspeed_override/><strong>MCHP_PWM_HighSpeed_Override</strong></a>
- Override control for this block</li><li><a href=pwm_hs_fep/><strong>MCHP_PWM_HS_FEP</strong></a>
- PWM with Fine Edge Positioning (dsPIC33A)</li><li><a href=mcpwm/><strong>MCHP_MCPWM</strong></a>
- Motor Control PWM (advanced fault handling)</li><li><a href=../adc/adc/><strong>MCHP_ADC</strong></a>
- ADC with PWM trigger synchronization</li></ul><h2 id=see-also>See Also</h2><h3 id=datasheets>Datasheets</h3><ul><li><a href=https://www.microchip.com/dsPIC33F target=_blank rel="noopener noreferrer">dsPIC33F Family Reference Manual</a></li><li><a href=https://www.microchip.com/dsPIC33E target=_blank rel="noopener noreferrer">dsPIC33E/EP Family Reference Manual</a></li><li><a href=https://www.microchip.com/dsPIC33C target=_blank rel="noopener noreferrer">dsPIC33C Family Reference Manual</a></li></ul><div class=nav-footer><p>Last updated: January 2026 | MPLAB Blockset Documentation v3.63.02</p><p>&copy; 2026 Microchip Technology Incorporated and its subsidiaries</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
‚ò∞</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="üåô",n.textContent="Dark"):(t.textContent="‚òÄÔ∏è",n.textContent="Light")}(function(){const t=localStorage.getItem("theme"),s=["light","dark"],o=t&&s.includes(t)?t:null,i=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,n=o||(i?"dark":"light");document.documentElement.setAttribute("data-theme",n),updateThemeButton(n)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}});function getExpandedSections(){try{const e=sessionStorage.getItem("expandedSections");if(!e)return new Set;const t=JSON.parse(e);if(!Array.isArray(t))return new Set;const n=t.filter(e=>typeof e=="string"&&/^[a-zA-Z0-9/_-]+$/.test(e));return new Set(n)}catch{return console.warn("Invalid sessionStorage data, resetting expandedSections"),new Set}}function saveExpandedSections(e){sessionStorage.setItem("expandedSections",JSON.stringify([...e]))}function saveSidebarScroll(){const e=document.querySelector(".sidebar");e&&sessionStorage.setItem("sidebarScrollTop",e.scrollTop)}function restoreSidebarScroll(){const e=document.querySelector(".sidebar"),t=sessionStorage.getItem("sidebarScrollTop");if(e&&t){const n=parseInt(t,10);!isNaN(n)&&n>=0&&n<1e5&&(e.scrollTop=n)}}window.toggleSection=function(e,t){const n=document.getElementById("section-"+t);if(n){const e=getExpandedSections();n.classList.contains("expanded")?(n.classList.remove("expanded"),e.delete(t)):(n.classList.add("expanded"),e.add(t)),saveExpandedSections(e),saveSidebarScroll()}};function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;n===e&&t.classList.add("active")})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage(),restoreSidebarScroll();const t=document.querySelectorAll(".nav-link, .nav-section-title");t.forEach(e=>{e.addEventListener("click",function(){saveSidebarScroll()})})}()</script></body></html>