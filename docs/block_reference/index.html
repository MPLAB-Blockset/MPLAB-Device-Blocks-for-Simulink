<!doctype html><html lang=en><head><title>Block Reference - MPLAB Device Blocks for Simulink</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/index.html><link rel=icon type=image/x-icon href=../favicon.ico><style>html,html[data-theme=dark],body{color-scheme:light only!important;background-color:#fff!important;color:#222!important}:root{--bg-primary:#f8f9fa;--bg-secondary:white;--bg-tertiary:#f8f9fa;--text-primary:#2c3e50;--text-secondary:#666;--text-tertiary:#6c757d;--text-heading:#1a1a1a;--border-color:#dee2e6;--border-light:#e1e8ed;--border-medium:#e9ecef;--accent-primary:#1C355E;--accent-secondary:#41B6E6;--accent-hover:#2a5a8f;--accent-light:#D1DDE6;--code-bg:#f4f4f4;--code-text:#c7254e;--pre-bg:linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);--pre-border:#d0d0d0;--table-hover:#E5F3FF;--table-stripe:#f8f9fa;--note-bg:linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);--note-border:#2196F3;--note-text:#1976D2;--warning-bg:linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);--warning-border:#ff9800;--warning-text:#f57c00;--shadow-sm:0 2px 4px rgba(0,0,0,0.05);--shadow-md:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 2px 12px rgba(0,0,0,0.08)}[data-theme=dark]{--bg-primary:#1a1d23;--bg-secondary:#242831;--bg-tertiary:#2d3139;--text-primary:#e4e6eb;--text-secondary:#adb5bd;--text-tertiary:#8b95a1;--text-heading:#e4e6eb;--border-color:#3a3f4b;--border-light:#3a3f4b;--border-medium:#404654;--accent-primary:#41B6E6;--accent-secondary:#5AC8FA;--accent-hover:#6DD5FF;--accent-light:#1a2d3f;--code-bg:#2d3139;--code-text:#ff6b9d;--pre-bg:linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);--pre-border:#3a3f4b;--table-hover:#1e3a52;--table-stripe:#2d3139;--note-bg:linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);--note-border:#4da6d6;--note-text:#66b3e0;--warning-bg:linear-gradient(to right, #3d3520 0%, #3d3520 100%);--warning-border:#ffb347;--warning-text:#ffc870;--shadow-sm:0 2px 4px rgba(0,0,0,0.3);--shadow-md:0 2px 8px rgba(0,0,0,0.4);--shadow-lg:0 2px 12px rgba(0,0,0,0.5)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:8px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:8px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:40px;max-width:200px;object-fit:contain}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-secondary);margin-bottom:16px;padding:10px 14px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover)}.breadcrumbs span{margin:0 8px;color:var(--text-tertiary)}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:initial;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}li mjx-container[display=true]{text-align:left!important;margin:8px 0!important}li p mjx-container[display=true]{text-align:left!important;margin:8px 0!important}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:flex;align-items:center;gap:15px;margin:20px auto;padding:15px;max-width:900px;background-color:#f8f9fa;border-radius:8px;border:1px solid #dee2e6;transition:all .2s ease-in-out}.block-card-link{display:flex;align-items:center;gap:15px;flex:1;text-decoration:none;color:inherit}.block-icon-container:has(.block-card-link):hover{background-color:#e9ecef;border-color:#0076a8;box-shadow:0 2px 8px rgba(0,118,168,.15);cursor:pointer}.block-icon-image{flex-shrink:0;width:150px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.block-icon-image picture{width:100%;max-width:150px;display:flex;align-items:center;justify-content:center}.block-icon-image img,.block-icon-image source{max-width:100%;max-height:100%;width:auto;height:auto;display:block;object-fit:contain}.block-icon-description{flex:1;font-size:16px;line-height:1.6;color:#333;column-count:1;max-width:100%}.family-tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;justify-content:center;width:100%}.family-tag{display:inline-block;padding:3px 8px;font-size:11px;font-weight:600;background-color:#2196f3;color:#fff;border-radius:4px;white-space:nowrap}.family-detail{font-weight:400;opacity:.9;font-size:10px;margin-left:3px}.chip-family-badges{display:flex;flex-direction:column;gap:6px;padding:12px;background-color:#e3f2fd;border:2px solid #2196f3;border-radius:6px;min-width:140px;flex-shrink:0}.chip-family-badges::before{content:"Device Support";font-size:11px;font-weight:700;color:#1565c0;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px;text-align:center}.chip-badge{display:block;padding:6px 10px;font-size:12px;font-weight:600;border-radius:4px;white-space:nowrap;text-align:center;transition:all .15s ease-in-out}.chip-badge:hover{transform:scale(1.05);box-shadow:0 2px 4px rgba(0,0,0,.2)}.chip-badge.dspic30f{background-color:#e3f2fd;color:#1565c0;border:1px solid #90caf9}.chip-badge.dspic33f{background-color:#e8f5e9;color:#2e7d32;border:1px solid #81c784}.chip-badge.dspic33e{background-color:#fff3e0;color:#e65100;border:1px solid #ffb74d}.chip-badge.dspic33c{background-color:#f3e5f5;color:#6a1b9a;border:1px solid #ba68c8}.chip-badge.dspic33a{background-color:#fce4ec;color:#c2185b;border:1px solid #f06292}.chip-badge.pic32{background-color:#e0f7fa;color:#00695c;border:1px solid #4db6ac}.chip-badge.sam{background-color:#fff9c4;color:#f57f17;border:1px solid #fdd835}.chip-badge.all-families{background-color:#e0e0e0;color:#424242;border:1px solid #9e9e9e;font-weight:700}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","name":"Block Reference","description":"MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/block_reference\/index.html","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-16","dateModified":"2025-10-16","inLanguage":"en-US"}</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><h2 class=sidebar-title>MPLAB Blockset</h2></div><div class=sidebar-nav><div class=nav-section><a href=../index.html class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>🏠</span>Home</span></a></div><div class=nav-section id=section-getting-started><a href=../getting_started/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("getting-started"),!0'><span><span class=icon>🚀</span>Getting Started</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("getting-started"),!1'>▶</span></a><div class=nav-section-children><a href=../getting_started/overview.html class=nav-link>Overview</a>
<a href=../getting_started/installation.html class=nav-link>Installation</a>
<a href=../getting_started/quick_start.html class=nav-link>Quick Start Guide</a>
<a href=../getting_started/board_templates.html class=nav-link>Board Templates</a>
<a href=../getting_started/motor_control_examples.html class=nav-link>Motor Control Examples</a>
<a href=../getting_started/scheduler_multitasking.html class=nav-link>Scheduler & Multitasking</a>
<a href=../getting_started/external_mode_pil.html class=nav-link>External Mode & PIL</a>
<a href=../getting_started/data_visualization.html class=nav-link>Data Visualization</a>
<a href=../getting_started/supported_devices.html class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-user-guide><a href=../user_guide/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("user-guide"),!0'><span><span class=icon>📚</span>User Guide</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("user-guide"),!1'>▶</span></a><div class=nav-section-children><a href=../user_guide/code_generation.html class=nav-link>Code Generation</a>
<a href=../user_guide/compiler_setup.html class=nav-link>Compiler Setup</a>
<a href=../user_guide/external_mode.html class=nav-link>External Mode</a>
<a href=../user_guide/pil_testing.html class=nav-link>PIL Testing</a></div></div><div class=nav-section id=section-block-reference><a href=../block_reference/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("block-reference"),!0'><span><span class=icon>🧩</span>Block Reference</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("block-reference"),!1'>▶</span></a><div class=nav-section-children><div class=nav-subsection id=section-pwm><a href=../block_reference/pwm_io/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("pwm"),!0'><span><span class=icon>⚡</span>PWM</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("pwm"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/pwm_io/pwm.html class=nav-block-link>PWM</a>
<a href=../block_reference/pwm_io/pwm_highspeed.html class=nav-block-link>PWM High-Speed</a>
<a href=../block_reference/pwm_io/pwm_hs_fep.html class=nav-block-link>PWM HS FEP</a>
<a href=../block_reference/pwm_io/pwm_highspeed_override.html class=nav-block-link>PWM HS Override</a>
<a href=../block_reference/pwm_io/mcpwm.html class=nav-block-link>MCPWM (PIC32)</a>
<a href=../block_reference/pwm_io/pwm_sam7x.html class=nav-block-link>PWM SAM7x</a>
<a href=../block_reference/pwm_io/pwm_sam7x_override.html class=nav-block-link>PWM SAM7x Override</a>
<a href=../block_reference/pwm_io/tcc_pwm.html class=nav-block-link>TCC PWM (SAM)</a></div></div><div class=nav-subsection id=section-timers><a href=../block_reference/timers/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("timers"),!0'><span><span class=icon>⏱️</span>Timers</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("timers"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/timers/timer_config.html class=nav-block-link>Timer Config</a>
<a href=../block_reference/timers/timer_pil_profiling.html class=nav-block-link>PIL Profiling Timer</a></div></div><div class=nav-subsection id=section-capture-compare><a href=../block_reference/capture_compare/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("capture-compare"),!0'><span><span class=icon>📏</span>Input Capture / Output Compare</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("capture-compare"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/capture_compare/input_capture.html class=nav-block-link>Input Capture</a>
<a href=../block_reference/capture_compare/output_compare_hw.html class=nav-block-link>Output Compare (HW)</a>
<a href=../block_reference/capture_compare/output_compare_sw.html class=nav-block-link>Output Compare (SW)</a></div></div><div class=nav-subsection id=section-adc><a href=../block_reference/adc/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("adc"),!0'><span><span class=icon>📊</span>ADC</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("adc"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/adc/adc.html class=nav-block-link>ADC (dsPIC)</a>
<a href=../block_reference/adc/adc_hs_12b.html class=nav-block-link>ADC HS 12-bit</a>
<a href=../block_reference/adc/adc_highspeed_sar.html class=nav-block-link>ADC High-Speed SAR</a>
<a href=../block_reference/adc/adc_highspeed_sar_dspic.html class=nav-block-link>ADC HS SAR (dsPIC)</a>
<a href=../block_reference/adc/adc_same5x.html class=nav-block-link>ADC (SAM E5x)</a>
<a href=../block_reference/adc/adc_samrh707x.html class=nav-block-link>ADC (SAMRH707x)</a>
<a href=../block_reference/adc/afec_sam7x.html class=nav-block-link>AFEC (SAM7x)</a></div></div><div class=nav-subsection id=section-communication><a href=../block_reference/communication/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("communication"),!0'><span><span class=icon>📡</span>Communication</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("communication"),!1'>▶</span></a><div class=nav-section-children><div class=nav-subsection id=section-uart><a href=../block_reference/communication.html#uart-blocks class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("uart"),!0'><span><span class=icon></span>UART</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("uart"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/communication/uart/uart_config.html class=nav-block-link>UART Config</a>
<a href=../block_reference/communication/uart/uart_tx.html class=nav-block-link>UART Tx</a>
<a href=../block_reference/communication/uart/uart_rx.html class=nav-block-link>UART Rx</a>
<a href=../block_reference/communication/uart/uart_txmatlab.html class=nav-block-link>UART Tx MATLAB</a>
<a href=../block_reference/communication/uart/uart_break_and_autobaud.html class=nav-block-link>UART Break & Autobaud</a></div></div><div class=nav-subsection id=section-can><a href=../block_reference/communication.html#can-blocks class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("can"),!0'><span><span class=icon></span>CAN</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("can"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/communication/can/can_config.html class=nav-block-link>CAN Config</a>
<a href=../block_reference/communication/can/can_tx.html class=nav-block-link>CAN Tx</a>
<a href=../block_reference/communication/can/can_rx.html class=nav-block-link>CAN Rx</a></div></div><a href=../block_reference/communication/i2c.html class=nav-block-link>I2C Master/Slave</a>
<a href=../block_reference/communication/spi.html class=nav-block-link>SPI Master/Slave</a></div></div><div class=nav-subsection id=section-digital-io><a href=../block_reference/digital_io/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("digital-io"),!0'><span><span class=icon>🔌</span>Digital I/O</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("digital-io"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/digital_io/digital_input.html class=nav-block-link>Digital Input</a>
<a href=../block_reference/digital_io/digital_output.html class=nav-block-link>Digital Output</a>
<a href=../block_reference/digital_io/digital_output_read.html class=nav-block-link>Digital Output Read</a>
<a href=../block_reference/digital_io/digital_output_write.html class=nav-block-link>Digital Output Write</a></div></div><div class=nav-subsection id=section-encoders><a href=../block_reference/encoders/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("encoders"),!0'><span><span class=icon>🔄</span>Encoders</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("encoders"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/encoders_counters/qei.html class=nav-block-link>QEI (Quadrature Encoder)</a>
<a href=../block_reference/encoders_counters/pdec.html class=nav-block-link>PDEC (SAM)</a>
<a href=../block_reference/encoders_counters/qdec_samx.html class=nav-block-link>QDEC (SAM)</a>
<a href=../block_reference/encoders_counters/change_notification.html class=nav-block-link>Change Notification</a></div></div><div class=nav-subsection id=section-analog-io><a href=../block_reference/analog_io/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("analog-io"),!0'><span><span class=icon>📉</span>Analog I/O</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("analog-io"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/analog_io/dac_samx.html class=nav-block-link>DAC (SAM)</a>
<a href=../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html class=nav-block-link>High-Speed Comparator</a>
<a href=../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html class=nav-block-link>Comparator w/ Slope</a>
<a href=../block_reference/analog_io/comparator_opamps_volt_ref/op_amp.html class=nav-block-link>Op-Amp</a>
<a href=../block_reference/analog_io/comparator_opamps_volt_ref/pga.html class=nav-block-link>PGA (Programmable Gain Amp)</a></div></div><div class=nav-subsection id=section-system-config><a href=../block_reference/system_configuration/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("system-config"),!0'><span><span class=icon>⚙️</span>System Config</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("system-config"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/system_configuration/master.html class=nav-block-link>Master</a>
<a href=../block_reference/system_configuration/interrupt.html class=nav-block-link>Interrupt</a>
<a href=../block_reference/system_configuration/compiler_options.html class=nav-block-link>Compiler Options</a>
<a href=../block_reference/system_configuration/scheduler_options.html class=nav-block-link>Scheduler Options</a>
<a href=../block_reference/system_configuration/idle_task.html class=nav-block-link>Idle Task</a>
<a href=../block_reference/system_configuration/mcu_load.html class=nav-block-link>MCU Load</a>
<a href=../block_reference/system_configuration/mcu_overload.html class=nav-block-link>MCU Overload</a>
<a href=../block_reference/system_configuration/tasks_state.html class=nav-block-link>Tasks State</a>
<a href=../block_reference/system_configuration/secondary_core.html class=nav-block-link>Secondary Core</a></div></div><div class=nav-subsection id=section-utility><a href=../block_reference/utility/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("utility"),!0'><span><span class=icon>🔧</span>Utility Blocks</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("utility"),!1'>▶</span></a><div class=nav-section-children><a href=../block_reference/user_functions/c_function_call.html class=nav-block-link>C Function Call</a>
<a href=../block_reference/utility/doc.html class=nav-block-link>Documentation Block</a>
<a href=../block_reference/utility/msi.html class=nav-block-link>MSI (Model Sample Info)</a>
<a href=../block_reference/utility/port_info.html class=nav-block-link>Port Info</a>
<a href=../block_reference/utility/timer_info.html class=nav-block-link>Timer Info</a>
<a href=../block_reference/utility/simulink_reset_config.html class=nav-block-link>Simulink Reset Config</a></div></div></div></div><div class=nav-section id=section-examples><a href=../examples/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("examples"),!0'><span><span class=icon>📖</span>Examples</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("examples"),!1'>▶</span></a><div class=nav-section-children><a href=../examples/field_weakening.html class=nav-link>Field Weakening</a></div></div><div class=nav-section id=section-github><a href=https://github.com/microchip-technology/mplab-blocksetindex.html class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>💻</span>GitHub</span></a></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=../index.html>Home</a>
<span>></span>
<a href=../index.html></a><span>></span>
<span>Block Reference</span></div><div class=under-construction-banner><span class=icon>⚠️</span>
<strong>Documentation Under Construction</strong> —
This documentation is currently being developed. All information has not been validated by Microchip yet.</div><div class=page-header><h1>Block Reference</h1><div class=page-header-right><img src=../images/microchip-logo.png alt="Microchip Logo" class=microchip-logo>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>☀️</span>
<span id=theme-text>Light</span></button></div></div><p>Complete reference documentation for all <strong>MPLAB Blockset</strong> peripheral and system blocks.</p><h2 id=block-categories>Block Categories</h2><h3 id=-pwm>⚡ PWM</h3><p>High-performance pulse-width modulation for motor control and signal generation.</p><ul><li><strong><a href=pwm_io/>PWM Blocks</a></strong> - Comprehensive PWM configuration for all device families</li></ul><p><strong>Popular Blocks:</strong></p><ul><li><a href=pwm_io/pwm_hs_fep.html>PWM HS FEP</a> - dsPIC33A high-resolution PWM with fine edge positioning</li><li><a href=pwm_io/pwm_highspeed.html>PWM High-Speed</a> - dsPIC33C/CH/CK advanced PWM</li><li><a href=pwm_io/mcpwm.html>MCPWM</a> - Motor Control PWM for PIC32MK</li></ul><h3 id=-timers>⏱️ Timers</h3><p>Timer configuration and resource management for periodic tasks and profiling.</p><ul><li><strong><a href=timers/>Timer Blocks</a></strong> - Timer configuration, PIL profiling</li></ul><p><strong>Key Features:</strong></p><ul><li>Named timer resources for sharing across peripherals</li><li>Automatic prescaler calculation</li><li>Performance profiling for PIL testing</li></ul><h3 id=-input-capture--output-compare>📏 Input Capture / Output Compare</h3><p>Event timing and waveform generation with hardware accuracy.</p><ul><li><strong><a href=capture_compare/>Input Capture / Output Compare Blocks</a></strong> - Event measurement, pulse generation</li></ul><p><strong>Key Features:</strong></p><ul><li>Zero-latency event capture</li><li>Autonomous output generation</li><li>Frequency and pulse width measurement</li></ul><h3 id=-adc>📊 ADC</h3><p>High-speed analog-to-digital conversion for precision measurement.</p><ul><li><strong><a href=adc/>ADC Blocks</a></strong> - High-speed SAR ADC, multi-channel sampling, trigger configuration</li></ul><p><strong>Key Features:</strong></p><ul><li>Simultaneous multi-channel sampling</li><li>PWM synchronization for motor control</li><li>DMA-based high-throughput acquisition</li></ul><h3 id=-analog-io>📉 Analog I/O</h3><p>Analog signal processing and voltage generation.</p><ul><li><strong><a href=analog_io/>Analog I/O Blocks</a></strong> - DAC, comparators, op-amps, PGA</li></ul><p><strong>Key Features:</strong></p><ul><li>High-speed comparators for fault protection</li><li>Programmable gain amplifiers for sensor interfacing</li><li>DAC for waveform generation</li></ul><h3 id=-communication>📡 Communication</h3><p>Serial communication interfaces for data exchange and networking.</p><ul><li><strong><a href=communication/uart/>UART Blocks</a></strong> - Config, Tx, Rx, Tx-MATLAB (picgui), Break/Autobaud</li><li><strong><a href=communication/can/>CAN Blocks</a></strong> - CAN Config, Tx, Rx with filtering</li><li><strong><a href=communication/spi.html>SPI Master/Slave</a></strong> - High-speed synchronous serial</li><li><strong><a href=communication/i2c.html>I2C Master/Slave</a></strong> - Multi-master I2C bus communication</li></ul><h3 id=-digital-io>🔢 Digital I/O</h3><p>GPIO configuration and control for inputs and outputs.</p><ul><li><strong><a href=digital_io/digital_input.html>Digital Input</a></strong> - Read buttons, sensors with pull-up/down</li><li><strong><a href=digital_io/digital_output.html>Digital Output</a></strong> - Control LEDs, relays with feedback</li><li><strong><a href=digital_io/digital_output_write.html>Digital Output Write</a></strong> - High-speed LAT writes</li><li><strong><a href=digital_io/digital_output_read.html>Digital Output Read</a></strong> - Verify output states</li></ul><h3 id=-encoders--counters>🔄 Encoders & Counters</h3><p>Position and speed measurement for motor control applications.</p><ul><li><strong><a href=encoders_counters/qei.html>QEI</a></strong> - Quadrature Encoder Interface for dsPIC</li><li><strong><a href=encoders_counters/pdec.html>PDEC</a></strong> - Position Decoder for SAM devices</li><li><strong><a href=encoders_counters/qdec_samx.html>QDEC</a></strong> - Quadrature Decoder for SAM</li><li><strong><a href=encoders_counters/change_notification.html>Change Notification</a></strong> - GPIO interrupt-on-change</li></ul><h3 id=-system-configuration>⚙️ System Configuration</h3><p>Core configuration blocks required in every model.</p><ul><li><strong><a href=system_configuration/master.html>Master Block</a></strong> - <strong>Required</strong> - Chip selection, clock, fuses</li><li><strong><a href=system_configuration/interrupt.html>Interrupt</a></strong> - ISR configuration for triggered subsystems</li><li><strong><a href=system_configuration/compiler_options.html>Compiler Options</a></strong> - Optimization, DFP, linker settings</li><li><strong><a href=system_configuration/scheduler_options.html>Scheduler Options</a></strong> - Rate monotonic scheduler config</li><li><strong><a href=system_configuration/idle_task.html>Idle Task</a></strong> - Background task for power saving</li><li><strong><a href=system_configuration/mcu_load.html>MCU Load</a></strong> - CPU utilization monitoring</li><li><strong><a href=system_configuration/mcu_overload.html>MCU Overload</a></strong> - Deadline miss detection</li><li><strong><a href=system_configuration/tasks_state.html>Tasks State</a></strong> - Task execution monitoring</li></ul><h3 id=-utility-blocks>🛠️ Utility Blocks</h3><p>Helper blocks for development, debugging, and visualization.</p><ul><li><strong><a href=user_functions/c_function_call.html>C Function Call</a></strong> - Call custom C code from Simulink</li><li><strong><a href=utility/port_info.html>Port Info</a></strong> - GPIO pin assignment visualization</li><li><strong><a href=utility/timer_info.html>Timer Info</a></strong> - Timer resource allocation display</li><li><strong><a href=utility/msi.html>MSI</a></strong> - Master-Secondary Interface (dsPIC33CH dual-core)</li><li><strong><a href=utility/doc.html>Documentation Block</a></strong> - Quick access to help resources</li></ul><h2 id=quick-reference-by-use-case>Quick Reference by Use Case</h2><h3 id=motor-control-application>Motor Control Application</h3><p><strong>Essential blocks:</strong></p><ol><li><strong>MCHP_Master</strong> - Select dsPIC33 device</li><li><strong>PWM HS FEP / PWM High-Speed</strong> - Generate motor drive signals</li><li><strong>ADC</strong> - Sample phase currents and bus voltage</li><li><strong>QEI</strong> - Read encoder position and speed</li><li><strong>UART</strong> - Debug output or parameter tuning</li></ol><h3 id=power-supply-control>Power Supply Control</h3><p><strong>Essential blocks:</strong></p><ol><li><strong>MCHP_Master</strong> - Select target device</li><li><strong>PWM</strong> - Control converter switching</li><li><strong>ADC</strong> - Measure output voltage/current</li><li><strong>Digital Input</strong> - Detect fault conditions</li><li><strong>UART / CAN</strong> - Communication interface</li></ol><h3 id=sensor-data-acquisition>Sensor Data Acquisition</h3><p><strong>Essential blocks:</strong></p><ol><li><strong>MCHP_Master</strong> - Configure target and clock</li><li><strong>ADC / I2C / SPI</strong> - Read sensor data</li><li><strong>UART Tx-MATLAB</strong> - Stream data to picgui</li><li><strong>Digital Output</strong> - Status LEDs</li><li><strong>Timer</strong> - Periodic sampling</li></ol><h2 id=block-naming-convention>Block Naming Convention</h2><p><strong>All blocks use <code>MCHP_</code> prefix during development:</strong></p><ul><li><code>MCHP_PWM_HS_FEP</code> - PWM High-Speed with Fine Edge Positioning</li><li><code>MCHP_ADC</code> - Analog-to-Digital Converter</li><li><code>MCHP_UART_Config</code> - UART Configuration</li></ul><p><strong>Note:</strong> The product name is &ldquo;MPLAB Blockset&rdquo; but block names retain the <code>MCHP_</code> prefix for compatibility.</p><h2 id=device-family-support>Device Family Support</h2><p>Each block documentation specifies supported device families:</p><ul><li><strong>Architecture ID 1</strong>: dsPIC30F</li><li><strong>Architecture ID 2</strong>: dsPIC33F, PIC24F</li><li><strong>Architecture ID 3</strong>: dsPIC33E</li><li><strong>Architecture ID 4</strong>: dsPIC33C (CH/CK/CDV)</li><li><strong>Architecture ID 5</strong>: SAM E7x/S7x (ARM Cortex-M7)</li><li><strong>Architecture ID 6</strong>: SAM E5x/D5x (ARM Cortex-M4)</li><li><strong>Architecture ID 7</strong>: SAM C2x/D2x (ARM Cortex-M0+)</li><li><strong>Architecture ID 8</strong>: dsPIC33A (32-bit DSC with FPU)</li></ul><h2 id=documentation-structure>Documentation Structure</h2><p>Each block page typically includes:</p><ul><li><strong>Block Description</strong> - Purpose and functionality</li><li><strong>Supported Device Families</strong> - Compatible chips and architectures</li><li><strong>Block Inputs/Outputs</strong> - Port configuration</li><li><strong>Configuration Parameters</strong> - GUI options and settings</li><li><strong>Usage Examples</strong> - Step-by-step tutorials</li><li><strong>Implementation Details</strong> - Register configuration, code generation</li><li><strong>Troubleshooting</strong> - Common issues and solutions</li><li><strong>See Also</strong> - Related blocks and resources</li></ul><h2 id=navigation>Navigation</h2><ul><li><strong><a href=../getting_started/>Getting Started</a></strong> - Installation and tutorials</li><li><strong><a href=../user_guide/>User Guide</a></strong> - Development workflow</li><li><strong><a href=../examples/>Examples</a></strong> - Working demonstrations</li></ul><hr><p><strong>Need help finding a specific block?</strong> Use your browser&rsquo;s search (Ctrl+F) or browse the categories above.</p><h2><a href=../block_reference/adc/index.html>ADC Blocks</a></h2><h2 id=overview>Overview</h2><p>ADC (Analog-to-Digital Converter) blocks provide high-performance data acquisition for motor control, power conversion, and sensor applications. The MPLAB Blockset offers ADC blocks optimized for different device families, from basic 10-bit converters to advanced 12-bit SAR ADCs with multiple dedicated cores, hardware sequencing, and PWM synchronization.</p><h2 id=available-adc-blocks>Available ADC Blocks</h2><h3 id=mchp_adc---standard-adc-for-dspicpic24>MCHP_ADC - Standard ADC for dsPIC/PIC24</h3><div class=block-icon-container><a href=adc.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/ADC.svg type=image/svg+xml><source srcset=../images/blocks/analog/ADC_hu_c942c8ccd0f56541.webp type=image/webp><img src=../images/blocks/analog/ADC.png alt="ADC Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Classic ADC module</strong> for legacy dsPIC and PIC24 devices with scan mode and simultaneous sampling. - **Resolution**: 10-bit or 12-bit (device-dependent)</div></a></div><hr><h3 id=mchp_adc_highspeed_sar_dspic---high-speed-sar-adc-for-dspic33c>MCHP_ADC_HighSpeed_SAR_dsPIC - High-Speed SAR ADC for dsPIC33C</h3><div class=block-icon-container><a href=adc_highspeed_sar_dspic.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/ADC_HighSpeed_SAR.svg type=image/svg+xml><source srcset=../images/blocks/analog/ADC_HighSpeed_SAR_hu_8e152d7664b27d7d.webp type=image/webp><img src=../images/blocks/analog/ADC_HighSpeed_SAR.png alt="ADC_HighSpeed_SAR Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33C</span></div></div><div class=block-icon-description><strong>Advanced SAR ADC for dsPIC33C</strong> with dedicated cores and shared ADC7 for high-performance motor control. - **Resolution**: 6/8/10/12-bit selectable</div></a></div><hr><h3 id=mchp_adc_hs_12b---high-speed-12-bit-adc-for-dspic33a>MCHP_ADC_HS_12b - High-Speed 12-bit ADC for dsPIC33A</h3><div class=block-icon-container><a href=adc_hs_12b.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/ADC_HS_12b_dsPICA.svg type=image/svg+xml><source srcset=../images/blocks/analog/ADC_HS_12b_dsPICA_hu_2f797a68e348409e.webp type=image/webp><img src=../images/blocks/analog/ADC_HS_12b_dsPICA.png alt="ADC_HS_12b_dsPICA Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33A</span></div></div><div class=block-icon-description><strong>12-bit ADC for dsPIC33A</strong> with flexible software sequencing and multiple cores. - **Resolution**: 12-bit fixed</div></a></div><hr><h3 id=mchp_adc_highspeed_sar---high-speed-sar-adc-for-pic32>MCHP_ADC_HighSpeed_SAR - High-Speed SAR ADC for PIC32</h3><div class=block-icon-container><a href=adc_highspeed_sar.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/ADC_PIC32_High_Speed_SAR.svg type=image/svg+xml><source srcset=../images/blocks/analog/ADC_PIC32_High_Speed_SAR_hu_fb763cbf03c0121.webp type=image/webp><img src=../images/blocks/analog/ADC_PIC32_High_Speed_SAR.png alt="ADC_PIC32_High_Speed_SAR Block Icon"></picture><div class=family-tags><span class=family-tag>PIC32</span></div></div><div class=block-icon-description><strong>High-speed SAR ADC for PIC32</strong> with dedicated cores and special input channels. - **Resolution**: 6/8/10/12-bit selectable</div></a></div><hr><h3 id=mchp_adc_same5x---adc-for-sam-e5xd5xc2x>MCHP_ADC_SAME5x - ADC for SAM E5x/D5x/C2x</h3><div class=block-icon-container><a href=adc_same5x.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/ADC_SAMx5_SAMC2x.svg type=image/svg+xml><source srcset=../images/blocks/analog/ADC_SAMx5_SAMC2x_hu_622e96b4be37ca88.webp type=image/webp><img src=../images/blocks/analog/ADC_SAMx5_SAMC2x.png alt="ADC_SAMx5_SAMC2x Block Icon"></picture><div class=family-tags><span class=family-tag>SAM</span></div></div><div class=block-icon-description><strong>Dual ADC for SAM Cortex-M4 devices</strong> with flexible sequencing and oversampling. - **Resolution**: 12-bit with 16-bit oversampling</div></a></div><hr><h3 id=mchp_afec_sam7x---analog-front-end-controller-for-sam-e7xs7xv7x>MCHP_AFEC_SAM7x - Analog Front-End Controller for SAM E7x/S7x/V7x</h3><div class=block-icon-container><a href=afec_sam7x.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/ADC_SAMx7.svg type=image/svg+xml><source srcset=../images/blocks/analog/ADC_SAMx7_hu_9b229f4aefbf5568.webp type=image/webp><img src=../images/blocks/analog/ADC_SAMx7.png alt="ADC_SAMx7 Block Icon"></picture><div class=family-tags><span class=family-tag>SAM</span></div></div><div class=block-icon-description><strong>Advanced Analog Front-End Controller</strong> for high-performance SAM Cortex-M7 devices with programmable gain. - **Resolution**: 12-bit with 16-bit oversampling</div></a></div><hr><h3 id=mchp_adc_samrh707x---radiation-hardened-adc-for-sam-rh707x>MCHP_ADC_SAMRH707x - Radiation-Hardened ADC for SAM RH707x</h3><div class=block-icon-container><a href=adc_samrh707x.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/ADC_SAMRH707x.svg type=image/svg+xml><source srcset=../images/blocks/analog/ADC_SAMRH707x_hu_d102b54cd8f8ba21.webp type=image/webp><img src=../images/blocks/analog/ADC_SAMRH707x.png alt="ADC_SAMRH707x Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Space-grade radiation-hardened ADC</strong> for SAM RH707x high-reliability Cortex-M7 devices. - **Resolution**: 12-bit</div></a></div><hr><h2 id=block-selection-guide>Block Selection Guide</h2><h3 id=by-device-family>By Device Family</h3><table><thead><tr><th>Device Family</th><th>Recommended ADC Block</th><th>Key Advantage</th></tr></thead><tbody><tr><td><strong>dsPIC30F / dsPIC33F</strong></td><td><strong>ADC</strong></td><td>Legacy support, proven reliability</td></tr><tr><td><strong>dsPIC33E</strong> (non-GS)</td><td><strong>ADC</strong></td><td>10/12-bit, simultaneous sampling</td></tr><tr><td><strong>dsPIC33C</strong> (CH/CK/CDV)</td><td><strong>ADC_HighSpeed_SAR_dsPIC</strong></td><td>Dedicated cores, 3.25 Msps</td></tr><tr><td><strong>dsPIC33A</strong> (33AK)</td><td><strong>ADC_HS_12b</strong></td><td>Software sequencing, 12-bit precision</td></tr><tr><td><strong>PIC24</strong></td><td><strong>ADC</strong></td><td>Compatible with PIC24 peripherals</td></tr><tr><td><strong>PIC32MK / PIC32MZ</strong></td><td><strong>ADC_HighSpeed_SAR</strong></td><td>High-speed, special inputs (VBat, Temp)</td></tr><tr><td><strong>SAM E5x / D5x / C2x</strong></td><td><strong>ADC_SAME5x</strong></td><td>Dual ADC, oversampling</td></tr><tr><td><strong>SAM E7x / S7x / V7x</strong></td><td><strong>AFEC_SAM7x</strong></td><td>Programmable gain, offset compensation</td></tr><tr><td><strong>SAM RH707x</strong></td><td><strong>ADC_SAMRH707x</strong></td><td>Radiation hardened, aerospace-grade</td></tr></tbody></table><h3 id=by-application-requirements>By Application Requirements</h3><table><thead><tr><th>Application</th><th>Block Choice</th><th>Why?</th></tr></thead><tbody><tr><td><strong>3-Phase FOC (dsPIC33A)</strong></td><td>ADC_HS_12b</td><td>12-bit precision, flexible sequencing</td></tr><tr><td><strong>3-Phase FOC (dsPIC33C)</strong></td><td>ADC_HighSpeed_SAR_dsPIC</td><td>Dedicated cores for simultaneous sampling</td></tr><tr><td><strong>3-Phase FOC (dsPIC33E/F)</strong></td><td>ADC</td><td>Simultaneous sampling mode</td></tr><tr><td><strong>Dual Motor Control</strong></td><td>ADC_HighSpeed_SAR_dsPIC</td><td>6 dedicated cores</td></tr><tr><td><strong>Precision Measurement</strong></td><td>AFEC_SAM7x</td><td>Programmable gain, offset compensation</td></tr><tr><td><strong>High-Speed Multi-Channel</strong></td><td>ADC_HighSpeed_SAR</td><td>3.25 Msps per core</td></tr><tr><td><strong>Battery Monitoring</strong></td><td>ADC_HighSpeed_SAR</td><td>VBat special input</td></tr><tr><td><strong>Temperature Sensing</strong></td><td>ADC_HighSpeed_SAR</td><td>Internal temperature sensor</td></tr><tr><td><strong>Aerospace Applications</strong></td><td>ADC_SAMRH707x</td><td>Radiation hardening, fault detection</td></tr></tbody></table><h3 id=by-resolution-requirements>By Resolution Requirements</h3><p><strong>🟢 10-bit</strong> (Good for fast sampling, noise-tolerant applications)</p><h2><a href=../block_reference/adc_blocks.html>ADC Blocks - Analog-to-Digital Converter Reference</a></h2><p>The MCHP Blockset provides comprehensive ADC support for all Microchip microcontroller families. Each family has optimized ADC blocks tailored to the specific peripheral architecture and capabilities.</p><h2 id=dspic--pic24-family-adc-blocks>dsPIC & PIC24 Family ADC Blocks</h2><p>[MCHP_ADC] Standard ADC for dsPIC30F, dsPIC33F, dsPIC33E, dsPIC33C, and PIC24 families. <strong>Resolution:</strong> 10/12-bit<strong>Features:</strong> Scan mode, simultaneous sampling, DMA support<strong>Best for:</strong> General-purpose acquisition, motor control [MCHP_ADC_HighSpeed_SAR_dsPIC] High-speed SAR ADC for dsPIC33C with dedicated cores and shared ADC7. <strong>Resolution:</strong> 6/8/10/12-bit<strong>Cores:</strong> 3-6 dedicated + shared ADC7<strong>Speed:</strong> Up to 3.25 Msps per core<strong>Best for:</strong> High-speed multi-channel, simultaneous sampling [MCHP_ADC_HS_12b] 12-bit high-speed ADC with software sequencing for dsPIC33A family. <strong>Resolution:</strong> 12-bit fixed<strong>Cores:</strong> 2-5 (variant dependent)<strong>Sequencing:</strong> 6 sequences × 6 conversions<strong>Devices:</strong> Perseus, Pegasus, Blue Ridge, Serpens (33AK series)<strong>Best for:</strong> Advanced FOC motor control, flexible multi-channel</p><h2><a href=../block_reference/analog.html>Analog Signal Conditioning Blocks Documentation</a></h2><p>Integrated analog peripherals for signal amplification, buffering, and voltage generation</p><h2 id=overview>Overview</h2><p>Analog signal conditioning blocks provide access to integrated analog peripherals in Microchip microcontrollers, enabling precision signal processing without external components. These blocks eliminate the need for discrete amplifiers, comparators, and DACs in many applications, reducing BOM cost, board space, and improving signal integrity.</p><pre><code>                Integrated signal chain reduces external component count
                Direct connection to ADC for optimized analog front-end
                Software-configurable gain and operating modes
                Low noise and high precision for measurement applications
                Calibration capabilities for enhanced accuracy
</code></pre><h2 id=available-blocks>Available Blocks</h2><p>[</p><h2><a href=../block_reference/user_functions/c_function_call.html>Block Reference</a></h2><div class=block-icon-container><div class=block-icon-image><picture><source srcset=../images/blocks/user_functions/C_Function_Call.svg type=image/svg+xml><source srcset=../images/blocks/user_functions/C_Function_Call_hu_1903f38a17cf2455.webp type=image/webp><img src=../images/blocks/user_functions/C_Function_Call.png alt="C Function Call Block Icon"></picture></div><div class=block-icon-description>Complete reference for all MCHP Blockset peripheral blocks.</div></div><h3 id=pwm-blocks>[PWM Blocks]</h3><p>Pulse Width Modulation blocks for motor control and power conversion.</p><h3 id=adc-blocks>[ADC Blocks]</h3><p>Analog-to-Digital Converter blocks for sensor interfaces.</p><h3 id=communication-blocks>[Communication Blocks]</h3><p>UART, SPI, I2C, CAN, and other communication interfaces.</p><h3 id=timer-blocks>[Timer Blocks]</h3><p>Timer and interrupt configuration blocks.</p><h2 id=see-also>See Also</h2><p><a href=../getting_started.html>Getting Started</a> | <a href=../user_guide.html>User Guide</a></p><h2><a href=../block_reference/can.html>CAN Communication Blocks</a></h2><h2 id=overview>Overview</h2><p>The <strong>CAN (Controller Area Network)</strong> block family enables robust, multi-master communication on CAN bus networks. CAN is widely used in automotive, industrial automation, and embedded systems for reliable data exchange in electrically noisy environments.</p><p>The MCHP Blockset provides three blocks for CAN communication: <strong>CAN Config</strong> for peripheral setup, <strong>CAN Tx</strong> for message transmission, and <strong>CAN Rx</strong> for message reception with flexible filtering. These blocks support both CAN 2.0 (standard) and CAN-FD (flexible data-rate) protocols.</p><h2><a href=../block_reference/encoders_counters/change_notification.html>CN - Change Notification (Pin Interrupt)</a></h2><div class=block-icon-container><div class=block-icon-image><picture><source srcset=../images/blocks/digital/ChangeNotification.svg type=image/svg+xml><source srcset=../images/blocks/digital/ChangeNotification_hu_852ac152d222f9ce.webp type=image/webp><img src=../images/blocks/digital/ChangeNotification.png alt="Change Notification Block Icon"></picture></div><div class=block-icon-description>Change Notification - Pin State Change Interrupts and Timing</div></div><h2 id=overview>Overview</h2><p>The MCHP_CN block provides an interface to the Change Notification (CN) peripheral, which detects pin state changes and measures transition timing. While primarily used for GPIO interrupts (buttons, switches), CN can also serve as a simple encoder interface or pulse counter.
<strong>Key Features:</strong></p><ul><li>Multi-pin state change detection (up to 32 CN pins)</li><li>Edge detection: rising, falling, or both</li><li>Transition timing measurement (time between edges)</li><li>Period measurement (rising-to-rising or falling-to-falling)</li><li>Programmable pull-up/pull-down resistors</li><li>Interrupt generation on pin change</li><li>Wake from sleep on pin change</li><li>Can be used for simple rotary encoders or pulse counting</li></ul><h3 id=device-support>Device Support</h3><table><thead><tr><th>Family</th><th>CN Type</th><th>CN Pins</th><th>Notes</th></tr></thead><tbody><tr><td>dsPIC30F</td><td>Type 0</td><td>CN0-CN15</td><td>Dedicated CN peripheral</td></tr><tr><td>dsPIC33F</td><td>Type 0</td><td>CN0-CN23</td><td>Dedicated CN peripheral</td></tr><tr><td>dsPIC33E</td><td>Type 1</td><td>All GPIO pins</td><td>All ports have CN capability</td></tr><tr><td>dsPIC33C</td><td>Type 1</td><td>All GPIO pins</td><td>All ports have CN capability</td></tr><tr><td>PIC32MK</td><td>Type 2</td><td>Port-based</td><td>One interrupt per port</td></tr><tr><td>PIC24F</td><td>Type 0/1</td><td>Varies</td><td>Family dependent</td></tr></tbody></table><h2 id=block-parameters>Block Parameters</h2><h3 id=channel-selection>Channel Selection</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>CN Channels (dsPIC30F/33F)</td><td>Vector of CN channel numbers, e.g., [0 1 2] for CN0, CN1, CN2</td></tr><tr><td>CN Port (dsPIC33E/C, PIC32MK)</td><td>Port pin list, e.g., [A0 A1 B5] for PA0, PA1, PB5</td></tr></tbody></table><h3 id=measurement-configuration-per-channel>Measurement Configuration (per channel)</h3><table><thead><tr><th>Mode Value</th><th>Measurement</th><th>Output Ports</th></tr></thead><tbody><tr><td>0</td><td>Change detect only</td><td>Change detected flag only</td></tr><tr><td>1</td><td>Measure time UP (rising edge to falling edge)</td><td>T_Up (pulse width high)</td></tr><tr><td>2</td><td>Measure time DOWN (falling edge to rising edge)</td><td>T_Down (pulse width low)</td></tr><tr><td>3</td><td>Measure UP & DOWN</td><td>T_Up, T_Down</td></tr><tr><td>4</td><td>Period on rising edge</td><td>P_Rising (time between rising edges)</td></tr><tr><td>8</td><td>Period on falling edge</td><td>P_Falling (time between falling edges)</td></tr><tr><td>5</td><td>UP + Period on rising</td><td>T_Up, P_Rising</td></tr><tr><td>10</td><td>DOWN + Period on falling</td><td>T_Down, P_Falling</td></tr></tbody></table><h3 id=change-detection-per-channel>Change Detection (per channel)</h3><table><thead><tr><th>Value</th><th>Detection Mode</th><th>Output</th></tr></thead><tbody><tr><td>0</td><td>No change detection</td><td>-</td></tr><tr><td>1</td><td>Rising edge</td><td>CNx_Rise (timestamp)</td></tr><tr><td>2</td><td>Falling edge</td><td>CNx_Fall (timestamp)</td></tr><tr><td>3</td><td>Both edges</td><td>CNx_Rise&amp;Fall (timestamp)</td></tr></tbody></table><h3 id=advanced-configuration>Advanced Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Output Port Value</td><td>Enable current pin state output (boolean per channel)</td></tr><tr><td>Max Channel</td><td>Maximum expected time for measurements (seconds, per channel)</td></tr><tr><td>Safe Margin</td><td>Percentage margin for timer overflow protection (per channel)</td></tr><tr><td>Interrupt Priority</td><td>CN interrupt priority level (1-7)</td></tr></tbody></table><h2 id=cn-peripheral-registers>CN Peripheral Registers</h2><h3 id=dspic30f33f-type-0>dsPIC30F/33F (Type 0)</h3><p>// Enable CN module CNCONbits.ON = 1; // Enable specific CN pins CNEN1bits.CN0IE = 1; // Enable CN0 CNEN1bits.CN1IE = 1; // Enable CN1// Enable pull-ups CNPU1bits.CN0PUE = 1; // Pull-up on CN0// Interrupt configuration IFS1bits.CNIF = 0; // Clear interrupt flag IEC1bits.CNIE = 1; // Enable CN interrupt IPC4bits.CNIP = 5; // Priority level// Read current state state = PORTBbits.RB0; // Read pin state (if CN0 is on RB0)</p><h2><a href=../block_reference/encoders_counters/pdec.html>PDEC - Position Decoder for SAM Devices</a></h2><div class=block-icon-container><div class=block-icon-image><picture><source srcset=../images/blocks/digital/PDEC.svg type=image/svg+xml><source srcset=../images/blocks/digital/PDEC_hu_ac88e49fe226bfd2.webp type=image/webp><img src=../images/blocks/digital/PDEC.png alt="PDEC Block Icon"></picture></div><div class=block-icon-description>Position Decoder - Hall Sensors and Stepper Motor Interface</div></div><h2 id=overview>Overview</h2><p>The MCHP_PDEC block provides an interface to the Position Decoder (PDEC) peripheral on SAM E5x and E7x microcontrollers. Unlike traditional quadrature encoders, PDEC is optimized for Hall effect sensors (3-phase BLDC motors) and stepper motor position tracking, with specialized features for these applications.
<strong>Key Features:</strong></p><ul><li>3-input position decoder (Hall sensors: A, B, C)</li><li>Quadrature encoder mode (X2/X4)</li><li>Counter with direction input mode</li><li>Configurable position counter and revolution counter</li><li>Auto-correction for phase errors</li><li>Programmable digital filtering</li><li>Index pulse support</li><li>Angular position calculation (9-bit + configurable resolution)</li></ul><h3 id=device-support>Device Support</h3><table><thead><tr><th>Family</th><th>PDEC Module</th><th>Features</th></tr></thead><tbody><tr><td>SAM E54/E53/E51</td><td>1</td><td>Hall sensor, quadrature, stepper position</td></tr><tr><td>SAM E70/S70/V71</td><td>1</td><td>Hall sensor, quadrature, stepper position</td></tr></tbody></table><h2 id=block-parameters>Block Parameters</h2><h3 id=operating-mode>Operating Mode</h3><table><thead><tr><th>Parameter</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>Mode</td><td>• Quadrature Encoder</td><td>• Counter with direction</td></tr></tbody></table><h3 id=position-configuration>Position Configuration</h3><table><thead><tr><th>Parameter</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>Counter Output</td><td>on/off</td><td>Enable position counter output</td></tr><tr><td>Counter Datatype</td><td>unsigned/signed</td><td>Position counter sign</td></tr><tr><td>Revolution Output</td><td>on/off</td><td>Enable revolution counter</td></tr><tr><td>Revolution Datatype</td><td>unsigned/signed</td><td>Revolution counter sign</td></tr><tr><td>Counter Revolution Length</td><td>• Counter is 16-bit (9+7 bit resolution)</td><td>• Counter is 17-bit (9+8 bit resolution)</td></tr></tbody></table><h3 id=index-and-reset>Index and Reset</h3><table><thead><tr><th>Parameter</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>Index</td><td>• Not used</td><td>• Reset counter</td></tr><tr><td>Max Counter Reset</td><td>Integer value</td><td>Modulo limit for position counter</td></tr><tr><td>Max Position Input</td><td>on/off</td><td>Enable dynamic modulo limit via block input</td></tr><tr><td>Reset Input</td><td>on/off</td><td>Enable external reset input</td></tr></tbody></table><h3 id=signal-configuration>Signal Configuration</h3><table><thead><tr><th>Pin</th><th>Function (Quadrature)</th><th>Function (Hall Sensor)</th></tr></thead><tbody><tr><td>QDI0</td><td>Phase A</td><td>Hall A</td></tr><tr><td>QDI1</td><td>Phase B</td><td>Hall B</td></tr><tr><td>QDI2</td><td>Index</td><td>Hall C</td></tr><tr><td>Parameter</td><td>Options</td><td>Description</td></tr><tr><td>Invert QDI0/1/2</td><td>on/off</td><td>Invert input polarity</td></tr><tr><td>Swap Pin Phase A & B</td><td>on/off</td><td>Reverse direction (quadrature mode)</td></tr><tr><td>Auto Correction</td><td>on/off</td><td>Automatic phase error correction</td></tr><tr><td>Digital Filter</td><td>disabled or time period</td><td>Input signal filtering</td></tr></tbody></table><h2 id=hall-sensor-operation>Hall Sensor Operation</h2><h3 id=3-phase-hall-sensor-interface>3-Phase Hall Sensor Interface</h3><p>PDEC decodes 3-wire Hall sensor signals for BLDC motor position:
Hall Sensor States (6-step commutation): State | Hall A | Hall B | Hall C | Sector &mdash;&mdash;-|&mdash;&mdash;&ndash;|&mdash;&mdash;&ndash;|&mdash;&mdash;&ndash;|&mdash;&mdash;&ndash; 1 | 0 | 0 | 1 | 0-60° 2 | 0 | 1 | 1 | 60-120° 3 | 0 | 1 | 0 | 120-180° 4 | 1 | 1 | 0 | 180-240° 5 | 1 | 0 | 0 | 240-300° 6 | 1 | 0 | 1 | 300-360° Valid transitions: 1→2→3→4→5→6→1 (CW) 1→6→5→4→3→2→1 (CCW)</p><h2><a href=../block_reference/pwm_blocks.html>PWM Blocks - Block Reference</a></h2><p>Comprehensive PWM (Pulse Width Modulation) blocks for motor control, power conversion, and signal generation across all MCHP Blockset supported families.</p><p><strong>Device Family Support:</strong></p><ul><li>dsPIC30F/33F/33E: → <a href=pwm_io/pwm.html>MCHP_PWM</a></li><li>dsPIC33C/CH/CK: → <a href=pwm_io/pwm_highspeed.html>MCHP_PWM_HighSpeed</a></li><li>dsPIC33A: → <a href=pwm_io/pwm_hs_fep.html>MCHP_PWM_HS_FEP</a></li><li>SAM/ARM: → <a href=pwm_io/pwm_sam7x.html>MCHP_PWM_SAM7x</a> or <a href=pwm_io/tcc_pwm.html>MCHP_TCC_PWM</a></li></ul><h2 id=dspic-family-pwm-blocks>dsPIC Family PWM Blocks</h2><ul><li><a href=pwm_io/pwm.html><strong>MCHP_PWM</strong></a> - Standard PWM for dsPIC30F/33F/33E with dead-time and fault protection</li><li><a href=pwm_io/pwm_highspeed.html><strong>MCHP_PWM_HighSpeed</strong></a> - High-Speed PWM with independent time bases and 4 output modes (dsPIC33C/CH/CK)</li><li><a href=pwm_io/pwm_highspeed_override.html><strong>MCHP_PWM_HighSpeed_Override</strong></a> - PWM Override Control for emergency shutdown and diagnostics</li><li><a href=pwm_io/pwm_hs_fep.html><strong>MCHP_PWM_HS_FEP</strong></a> - High-Speed PWM with Fine Edge Positioning, 16× resolution High-Resolution mode (dsPIC33A)</li></ul><h2 id=motor-control-pwm>Motor Control PWM</h2><ul><li><a href=pwm_io/mcpwm.html><strong>MCHP_MCPWM</strong></a> - Motor Control PWM with advanced fault handling, dead-time compensation, and leading-edge blanking (PIC32MK, dsPIC33C, dsPIC33A)</li></ul><h2 id=samarm-family-pwm-blocks>SAM/ARM Family PWM Blocks</h2><ul><li><a href=pwm_io/pwm_sam7x.html><strong>MCHP_PWM_SAM7x</strong></a> - SAM7x PWM peripheral for SAME5x/SAME7x/SAMC2x/SAMD2x families</li><li><a href=pwm_io/pwm_sam7x_override.html><strong>MCHP_PWM_SAM7x_Override</strong></a> - SAM7x Override control for PWM outputs</li><li><a href=pwm_io/tcc_pwm.html><strong>MCHP_TCC_PWM</strong></a> - Timer/Counter for Control PWM with pattern generation for BLDC motors (SAME5x, SAMC2x, SAMD2x)</li></ul><h2 id=common-features>Common Features</h2><ul><li><strong>Output Modes:</strong> Complementary, Redundant, Push-Pull, Independent</li><li><strong>Alignment:</strong> Edge-aligned, Center-aligned (symmetric/asymmetric)</li><li><strong>Dead-Time:</strong> Configurable insertion for shoot-through protection</li><li><strong>Fault Protection:</strong> Hardware fault inputs with configurable response</li><li><strong>ADC Synchronization:</strong> Trigger outputs for precise current sampling</li><li><strong>High Resolution:</strong> Up to 16× enhanced timing precision (selected blocks)</li></ul><h2 id=see-also>See Also</h2><ul><li><a href=../block_reference/>Block Reference Home</a></li><li><a href=../block_reference/adc_blocks.html>ADC Blocks</a></li><li><a href=../getting_started/motor_control_examples.html>Motor Control Application Guide</a></li><li><a href=../examples/>PWM Examples</a></li></ul><h2><a href=../block_reference/encoders_counters/qdec_samx.html>QDEC SAMx - Quadrature Decoder for SAM Devices</a></h2><div class=block-icon-container><div class=block-icon-image><picture><source srcset=../images/blocks/digital/QDEC_SAMx.svg type=image/svg+xml><source srcset=../images/blocks/digital/QDEC_SAMx_hu_f4b3c4a998d58aca.webp type=image/webp><img src=../images/blocks/digital/QDEC_SAMx.png alt="QDEC SAMx Block Icon"></picture></div><div class=block-icon-description>Quadrature Decoder Using TC Modules - SAM Device Encoder Interface</div></div><h2 id=overview>Overview</h2><p>The MCHP_QDEC_SAMx block implements quadrature encoder decoding using the Timer/Counter (TC) modules on SAM microcontrollers (E5x, E7x, C2x). Unlike dedicated QEI peripherals, this implementation uses TC modules in quadrature mode to decode encoder signals for position and speed measurement.
<strong>Key Features:</strong></p><ul><li>Quadrature position decoding using TC modules</li><li>32-bit position counter with revolution counter</li><li>Index pulse support for position reset</li><li>Direction detection</li><li>Speed measurement using time base</li><li>Phase error detection (quadrature integrity check)</li><li>Missing pulse error detection</li><li>Configurable digital filtering</li><li>Rotation change flag</li></ul><h3 id=device-support>Device Support</h3><table><thead><tr><th>Family</th><th>TC Modules</th><th>Max QDEC Instances</th><th>Features</th></tr></thead><tbody><tr><td>SAM E54/E53</td><td>TC0-TC7</td><td>2-4</td><td>Position, speed, index, error detection</td></tr><tr><td>SAM E70/S70/V71</td><td>TC0-TC11</td><td>4</td><td>Position, speed, index, error detection</td></tr><tr><td>SAM C21</td><td>TC0-TC7</td><td>2-4</td><td>Position, speed, index, error detection</td></tr></tbody></table><p><strong>Important:</strong> Each QDEC instance requires 3 TC channels (one complete TC module). For example, TC0 uses channels 0, 1, and 2 for phase A/B counting, index counting, and speed time base respectively.</p><h2><a href=../block_reference/encoders_counters/qei.html>QEI - Quadrature Encoder Interface</a></h2><div class=block-icon-container><div class=block-icon-image><picture><source srcset=../images/blocks/digital/QEI.svg type=image/svg+xml><source srcset=../images/blocks/digital/QEI_hu_a8e4c27744a4f455.webp type=image/webp><img src=../images/blocks/digital/QEI.png alt="QEI Block Icon"></picture></div><div class=block-icon-description>Quadrature Encoder Interface - Position and Velocity Measurement</div></div><h2 id=overview>Overview</h2><p>The MCHP_QEI block provides an interface to the Quadrature Encoder Interface (QEI) peripheral available on dsPIC and PIC32 microcontrollers. This peripheral decodes quadrature encoder signals to measure position, direction, and velocity of rotating shafts, making it ideal for motor control and precision positioning applications.
<strong>Key Features:</strong></p><ul><li>Quadrature decoding (X2 and X4 modes)</li><li>16-bit or 32-bit position counter</li><li>Index pulse detection and position reset</li><li>Direction sensing</li><li>Programmable digital filtering</li><li>Velocity measurement (32-bit QEI only)</li><li>Multiple operating modes: encoder, pulse counter, up/down counter</li><li>Position modulo and reset options</li></ul><h3 id=device-support>Device Support</h3><table><thead><tr><th>Family</th><th>QEI Type</th><th>Max Modules</th><th>Features</th></tr></thead><tbody><tr><td>dsPIC30F</td><td>16-bit</td><td>1-2</td><td>Basic quadrature decoding, index reset</td></tr><tr><td>dsPIC33F</td><td>16-bit</td><td>1-2</td><td>Basic quadrature decoding, index reset</td></tr><tr><td>dsPIC33E</td><td>32-bit</td><td>1-2</td><td>Extended position counter, velocity measurement</td></tr><tr><td>dsPIC33C</td><td>32-bit</td><td>1-2</td><td>Extended position counter, velocity measurement</td></tr><tr><td>dsPIC33A</td><td>32-bit</td><td>1-2</td><td>Enhanced position/velocity, advanced filtering</td></tr><tr><td>PIC32MK</td><td>32-bit</td><td>1-2</td><td>Extended features, modulo with index reset</td></tr></tbody></table><h2 id=block-parameters>Block Parameters</h2><h3 id=operating-mode>Operating Mode</h3><table><thead><tr><th>Parameter</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>QEI Mode</td><td>• Quadrature Encoder</td><td>• External Pulse Counter</td></tr><tr><td>X2/X4 Mode</td><td>on/off (16-bit QEI only)</td><td>X2: 2 counts/line, X4: 4 counts/line</td></tr></tbody></table><h3 id=position-counter-configuration>Position Counter Configuration</h3><table><thead><tr><th>Parameter</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>Position Output</td><td>• is not an output</td><td>• 16-bit unsigned</td></tr><tr><td>Position Reset Mode</td><td>• Never reset</td><td>• Reset on INDEX</td></tr><tr><td>Modulo Limits</td><td>[Low High] vector</td><td>Position counter modulo boundaries</td></tr><tr><td>Initial Value</td><td>Integer</td><td>Position initialization value</td></tr></tbody></table><h3 id=index-pulse-configuration>Index Pulse Configuration</h3><table><thead><tr><th>Parameter</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>Index Counter Output</td><td>• is not an output</td><td>• 16-bit unsigned/signed</td></tr><tr><td>Index Match Value</td><td>QEA/QEB state (00, 01, 10, 11)</td><td>Encoder state when index is valid</td></tr><tr><td>Index Polarity</td><td>Active high/low</td><td>Index pulse polarity</td></tr></tbody></table><h3 id=velocity-measurement-32-bit-qei>Velocity Measurement (32-bit QEI)</h3><table><thead><tr><th>Parameter</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>Velocity Output</td><td>• is not an output</td><td>• 16-bit unsigned</td></tr><tr><td>Period Output</td><td>• is not an output</td><td>• 16-bit unsigned</td></tr><tr><td>Max Period</td><td>Time (seconds)</td><td>Maximum period for velocity calculation</td></tr></tbody></table><h3 id=signal-conditioning>Signal Conditioning</h3><table><thead><tr><th>Parameter</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>Digital Filter</td><td>on/off</td><td>Enable input signal filtering</td></tr><tr><td>Filter Cutoff Freq</td><td>Frequency (Hz)</td><td>Low-pass filter cutoff frequency</td></tr><tr><td>Swap QEA/QEB</td><td>on/off</td><td>Reverse encoder direction</td></tr><tr><td>Invert Polarity</td><td>QEA, QEB, INDEX, HOME</td><td>Invert input signal polarity</td></tr></tbody></table><h3 id=pin-configuration-remappable-devices>Pin Configuration (Remappable Devices)</h3><table><thead><tr><th>Pin</th><th>Function</th><th>Description</th></tr></thead><tbody><tr><td>QEA/QEIA</td><td>Phase A Input</td><td>Encoder channel A (or pulse input)</td></tr><tr><td>QEB/QEIB</td><td>Phase B Input</td><td>Encoder channel B (or direction input)</td></tr><tr><td>INDEX/QEINDX</td><td>Index Input</td><td>Index pulse for position reset</td></tr><tr><td>HOME/QEIHOM</td><td>Home Input</td><td>Home reference signal (optional)</td></tr></tbody></table><h2 id=quadrature-encoding-principles>Quadrature Encoding Principles</h2><h3 id=x4-quadrature-decoding>X4 Quadrature Decoding</h3><p>In X4 mode, the QEI peripheral counts on both rising and falling edges of both channels, providing 4 counts per encoder line:
QEA <em><strong>┌───┐</strong></em>┌───┐<em><strong>┌───┐</strong></em>┌───┐___ │ │ │ │ │ │ │ │ └───┘ └───┘ └───┘ └───┘ QEB <em><strong><em><strong>┌───┐</strong></em>┌───┐</strong></em>┌───┐___┌─── │ │ │ │ │ │ │ ____└───┘ └───┘ └───┘ └─── Count: 0 1 2 3 4 5 6 7 8 9 10 11 12 Direction: FORWARD (QEA leads QEB by 90°)</p><h2><a href=../block_reference/system/system.html>System Blocks</a></h2><p>System blocks configure the fundamental behavior of MCHP Blockset models, including target selection, clock configuration, multitasking scheduler, and runtime monitoring.</p><h2 id=core-configuration-blocks>Core Configuration Blocks</h2><table><thead><tr><th>Block</th><th>Description</th><th>Required?</th></tr></thead><tbody><tr><td>MCHP_Master</td><td>Main configuration block - chip selection, clock, fuses, build settings</td><td>✓ Yes - ALWAYS required</td></tr><tr><td>MCHP_Scheduler_Options</td><td>Rate monotonic scheduler configuration and overload behavior</td><td>Optional (default settings used)</td></tr><tr><td>MCHP_Interrupt</td><td>Interrupt service routine configuration for triggered subsystems</td><td>Optional (for ISR-driven tasks)</td></tr></tbody></table><h2 id=task-management-blocks>Task Management Blocks</h2><table><thead><tr><th>Block</th><th>Description</th><th>Purpose</th></tr></thead><tbody><tr><td>MCHP_IdleTask</td><td>Background task executed when CPU is idle</td><td>Power saving, watchdog, diagnostics</td></tr><tr><td>MCHP_Tasks_State</td><td>Real-time task execution state monitoring</td><td>Debug timing, verify preemption</td></tr></tbody></table><h2 id=performance-monitoring-blocks>Performance Monitoring Blocks</h2><table><thead><tr><th>Block</th><th>Description</th><th>Output</th></tr></thead><tbody><tr><td>MCHP_MCU_LOAD</td><td>CPU utilization measurement (percentage)</td><td>0-100% CPU load</td></tr><tr><td>MCHP_MCU_OVERLOAD</td><td>Task deadline miss detection and diagnostics</td><td>Overload flags, task ID, count</td></tr></tbody></table><h2 id=advanced-features>Advanced Features</h2><table><thead><tr><th>Block</th><th>Description</th><th>Applicability</th></tr></thead><tbody><tr><td>MCHP_SECONDARY_CORE</td><td>Dual-core secondary (slave) core configuration</td><td>dsPIC33CH only</td></tr></tbody></table><h2 id=typical-model-setup>Typical Model Setup</h2><ul><li><strong>Add MCHP_Master</strong> - Select target chip, configure clock</li><li><strong>Add peripherals</strong> - PWM, ADC, UART, etc.</li><li><strong>Configure scheduling</strong> - Add MCHP_Scheduler_Options if custom behavior needed</li><li><strong>Add monitoring</strong> - MCHP_MCU_LOAD for performance validation</li><li><strong>Build and test</strong> - Verify timing with MCHP_Tasks_State</li></ul><h2 id=see-also>See Also</h2><ul><li><a href=../block_reference/>Block Reference Home</a></li><li>[Utility Blocks] - Compiler optimization, X2C debugging</li><li>[PWM Blocks] - Pulse-width modulation</li><li>[ADC Blocks] - Analog-to-digital conversion</li></ul><h2><a href=../block_reference/analog_io/index.html>Analog I/O Blocks</a></h2><h2 id=overview>Overview</h2><p>Analog I/O blocks provide precise voltage generation, signal conditioning, and threshold detection capabilities for motor control, power conversion, and instrumentation applications. The MPLAB Blockset offers DAC outputs for waveform generation, high-speed comparators for fault protection, operational amplifiers for signal conditioning, and programmable gain amplifiers for sensor interfacing.</p><h2 id=available-analog-io-blocks>Available Analog I/O Blocks</h2><h3 id=mchp_dacc_samx---digital-to-analog-converter-for-sam-devices>MCHP_DACC_SAMx - Digital-to-Analog Converter for SAM Devices</h3><div class=block-icon-container><a href=dac_samx.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/DAC_SAMx.svg type=image/svg+xml><source srcset=../images/blocks/analog/DAC_SAMx_hu_104f8b18ae542768.webp type=image/webp><img src=../images/blocks/analog/DAC_SAMx.png alt="DAC_SAMx Block Icon"></picture><div class=family-tags><span class=family-tag>SAM</span></div></div><div class=block-icon-description><strong>High-performance DAC for waveform generation</strong> and precision voltage output on SAM ARM microcontrollers. - **Resolution**: 10-bit or 12-bit (device-dependent)</div></a></div><hr><h3 id=mchp_highspeed_analogcomparator---fast-threshold-detection>MCHP_HighSpeed_AnalogComparator - Fast Threshold Detection</h3><div class=block-icon-container><a href=comparator_opamps_volt_ref/highspeed_analogcomparator.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/HighSpeed_AnalogComparator.svg type=image/svg+xml><source srcset=../images/blocks/analog/HighSpeed_AnalogComparator_hu_9405d758d9dcfaf7.webp type=image/webp><img src=../images/blocks/analog/HighSpeed_AnalogComparator.png alt="HighSpeed_AnalogComparator Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Sub-microsecond comparator</strong> for overcurrent protection and fault detection with PWM integration. - **Response Time**: 100-200 ns (high-speed mode)</div></a></div><hr><h3 id=mchp_highspeed_analogcomparator_wslope---comparator-with-slope-compensation>MCHP_HighSpeed_AnalogComparator_wSlope - Comparator with Slope Compensation</h3><div class=block-icon-container><a href=comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/HighSpeed_AnalogComparator_wSlope.svg type=image/svg+xml><source srcset=../images/blocks/analog/HighSpeed_AnalogComparator_wSlope_hu_91b0e41e62b25853.webp type=image/webp><img src=../images/blocks/analog/HighSpeed_AnalogComparator_wSlope.png alt="HighSpeed_AnalogComparator_wSlope Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span></div></div><div class=block-icon-description><strong>Advanced comparator with slope compensation</strong> for peak current mode control in switched-mode power supplies. - **Slope Compensation**: Prevents subharmonic oscillation</div></a></div><hr><h3 id=mchp_op_amp---operational-amplifier-configuration>MCHP_OP_AMP - Operational Amplifier Configuration</h3><div class=block-icon-container><a href=comparator_opamps_volt_ref/op_amp.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/OpAmp.svg type=image/svg+xml><source srcset=../images/blocks/analog/OpAmp_hu_fb5a2d1d77b1826d.webp type=image/webp><img src=../images/blocks/analog/OpAmp.png alt="OpAmp Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span>
<span class=family-tag>PIC32</span></div></div><div class=block-icon-description><strong>On-chip operational amplifier</strong> for signal conditioning and buffering. - **Gain Configuration**: Unity gain buffer or programmable gain</div></a></div><hr><h3 id=mchp_pga---programmable-gain-amplifier>MCHP_PGA - Programmable Gain Amplifier</h3><div class=block-icon-container><a href=comparator_opamps_volt_ref/pga.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/analog/PGA.svg type=image/svg+xml><source srcset=../images/blocks/analog/PGA_hu_1a67ae8490f70464.webp type=image/webp><img src=../images/blocks/analog/PGA.png alt="PGA Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33C</span>
<span class=family-tag>PIC32</span>
<span class=family-tag>SAM</span></div></div><div class=block-icon-description><strong>Programmable Gain Amplifier</strong> for dynamic signal amplification with software-controlled gain. - **Selectable Gain**: Multiple gain settings (1x, 2x, 4x, 8x, 16x, 32x)</div></a></div><hr><h2 id=block-selection-guide>Block Selection Guide</h2><h3 id=by-application>By Application</h3><table><thead><tr><th>Application</th><th>Recommended Block</th><th>Why?</th></tr></thead><tbody><tr><td><strong>Voltage Reference</strong></td><td><strong>DAC</strong></td><td>Precision DC voltage for biasing or reference</td></tr><tr><td><strong>Waveform Generation</strong></td><td><strong>DAC</strong></td><td>Audio, function generator, test signals</td></tr><tr><td><strong>Overcurrent Protection</strong></td><td><strong>High-Speed Comparator</strong></td><td>Fast fault detection with PWM shutdown</td></tr><tr><td><strong>Peak Current Mode Control</strong></td><td><strong>Comparator with Slope</strong></td><td>SMPS regulation with slope compensation</td></tr><tr><td><strong>Sensor Buffering</strong></td><td><strong>Op-Amp</strong></td><td>Impedance matching and signal conditioning</td></tr><tr><td><strong>Variable Gain Sensing</strong></td><td><strong>PGA</strong></td><td>Dynamic amplification for wide-range sensors</td></tr><tr><td><strong>DC Bus Monitoring</strong></td><td><strong>High-Speed Comparator</strong></td><td>Overvoltage/undervoltage detection</td></tr></tbody></table><h3 id=by-device-family>By Device Family</h3><table><thead><tr><th>Device Family</th><th>DAC</th><th>High-Speed Comparator</th><th>Comparator w/Slope</th><th>Op-Amp</th><th>PGA</th></tr></thead><tbody><tr><td><strong>dsPIC30F</strong></td><td>❌</td><td>❌</td><td>❌</td><td>❌</td><td>❌</td></tr><tr><td><strong>dsPIC33F</strong></td><td>❌</td><td>❌</td><td>❌</td><td>❌</td><td>❌</td></tr><tr><td><strong>dsPIC33E</strong></td><td>❌</td><td>✅ (EP/EV)</td><td>✅ (EP/EV)</td><td>⚠️ (selected)</td><td>❌</td></tr><tr><td><strong>dsPIC33C</strong></td><td>❌</td><td>✅ (CH/CK)</td><td>✅ (CH/CK)</td><td>✅</td><td>✅</td></tr><tr><td><strong>PIC32MK</strong></td><td>❌</td><td>❌</td><td>❌</td><td>✅</td><td>✅</td></tr><tr><td><strong>SAM E5x/E7x/C2x</strong></td><td>✅</td><td>❌</td><td>❌</td><td>❌</td><td>⚠️ (selected)</td></tr></tbody></table><p><strong>Legend:</strong> ✅ Full Support | ⚠️ Selected Devices | ❌ Not Available</p><h2><a href=../block_reference/pwm_io/index.html>PWM</a></h2><h2 id=overview>Overview</h2><p>Pulse Width Modulation (PWM) blocks provide high-performance waveform generation for motor control, power conversion, and signal generation applications. The MPLAB Blockset offers PWM blocks optimized for different device families and application requirements, from basic edge-aligned PWM to advanced high-resolution PWM with fine edge positioning.</p><h2 id=available-pwm-blocks>Available PWM Blocks</h2><h3 id=mchp_pwm_hs_fep---high-resolution-pwm-with-fine-edge-positioning>MCHP_PWM_HS_FEP - High-Resolution PWM with Fine Edge Positioning</h3><div class=block-icon-container><a href=pwm_hs_fep.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/pwm/PWM_HS_FEP.svg type=image/svg+xml><source srcset=../images/blocks/pwm/PWM_HS_FEP_hu_595104f6f0e9206a.webp type=image/webp><img src=../images/blocks/pwm/PWM_HS_FEP.png alt="PWM_HS_FEP Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33A <span class=family-detail>AK/GA</span></span></div></div><div class=block-icon-description><strong>High-resolution PWM for dsPIC33A</strong> with ultra-high resolution timing for advanced motor control and power conversion.</div></a></div><hr><h3 id=mchp_pwm_highspeed---high-speed-pwm-for-dspic33cchck>MCHP_PWM_HighSpeed - High-Speed PWM for dsPIC33C/CH/CK</h3><div class=block-icon-container><a href=pwm_highspeed.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/pwm/PWM_HS.svg type=image/svg+xml><source srcset=../images/blocks/pwm/PWM_HS_hu_f29c3b39862a87c5.webp type=image/webp><img src=../images/blocks/pwm/PWM_HS.png alt="PWM_HS Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33C <span class=family-detail>CH/CK/CDV</span></span>
<span class=family-tag>dsPIC33E <span class=family-detail>GS</span></span>
<span class=family-tag>dsPIC33F <span class=family-detail>selected</span></span></div></div><div class=block-icon-description><strong>Advanced PWM for dsPIC33C/33E families</strong> with independent time bases and flexible output modes. - **Independent Time Bases**: Per-channel period control</div></a></div><hr><h3 id=mchp_pwm---standard-pwm-for-dspic30f33f33e>MCHP_PWM - Standard PWM for dsPIC30F/33F/33E</h3><div class=block-icon-container><a href=pwm.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/pwm/PWM.svg type=image/svg+xml><source srcset=../images/blocks/pwm/PWM_hu_516d13d9106f9db7.webp type=image/webp><img src=../images/blocks/pwm/PWM.png alt="PWM Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC30F</span>
<span class=family-tag>dsPIC33F</span>
<span class=family-tag>dsPIC33E <span class=family-detail>EP/EV/FJ</span></span></div></div><div class=block-icon-description><strong>Classic PWM module</strong> for legacy dsPIC devices with complementary outputs and dead-time. - **Up to 4 Complementary Pairs**: PWMxH / PWMxL outputs</div></a></div><hr><h3 id=mchp_mcpwm---motor-control-pwm-for-pic32mk>MCHP_MCPWM - Motor Control PWM for PIC32MK</h3><div class=block-icon-container><a href=mcpwm.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/pwm/MCPWM.svg type=image/svg+xml><source srcset=../images/blocks/pwm/MCPWM_hu_22ed66b6da9b3cf8.webp type=image/webp><img src=../images/blocks/pwm/MCPWM.png alt="MCPWM Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33A <span class=family-detail>AK/GA</span></span>
<span class=family-tag>dsPIC33C <span class=family-detail>selected</span></span>
<span class=family-tag>PIC32 <span class=family-detail>MK</span></span></div></div><div class=block-icon-description><strong>Enhanced PWM for PIC32MK and dsPIC33A</strong> with digital comparator integration and advanced fault handling. - **Digital Comparator Inputs**: For fault detection and dead-time compensation</div></a></div><hr><h3 id=mchp_pwm_sam7x---pwm-for-sam-arm-microcontrollers>MCHP_PWM_SAM7x - PWM for SAM ARM Microcontrollers</h3><div class=block-icon-container><a href=pwm_sam7x.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/pwm/PWM_SAMx7.svg type=image/svg+xml><source srcset=../images/blocks/pwm/PWM_SAMx7_hu_6f960528f3ece83b.webp type=image/webp><img src=../images/blocks/pwm/PWM_SAMx7.png alt="PWM_SAMx7 Block Icon"></picture><div class=family-tags><span class=family-tag>SAM <span class=family-detail>E7x/S7x/V7x</span></span></div></div><div class=block-icon-description><strong>Advanced PWM for SAM ARM devices</strong> with complementary outputs, dead-time, and fault protection. - **Up to 8 PWM Channels**: Device-dependent (E7x up to 8, E5x up to 6)</div></a></div><hr><h3 id=mchp_tcc_pwm---timercounter-for-control-sam>MCHP_TCC_PWM - Timer/Counter for Control (SAM)</h3><div class=block-icon-container><a href=tcc_pwm.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/pwm/TCC_PWM.svg type=image/svg+xml><source srcset=../images/blocks/pwm/TCC_PWM_hu_b6bed4fc5c09dd56.webp type=image/webp><img src=../images/blocks/pwm/TCC_PWM.png alt="TCC_PWM Block Icon"></picture><div class=family-tags><span class=family-tag>SAM <span class=family-detail>E5x/C2x/D2x</span></span></div></div><div class=block-icon-description><strong>TCC peripheral for SAM E5x/C2x/D2x</strong> with pattern generation and complementary outputs. - **Up to 6 Channels**: Per TCC instance (device-dependent)</div></a></div><hr><h3 id=pwm-override-blocks>PWM Override Blocks</h3><p><strong>Override blocks provide software control over PWM outputs:</strong></p><h2><a href=../block_reference/communication/index.html>Communication Blocks</a></h2><h2 id=overview>Overview</h2><p>Communication blocks provide serial interfaces for data exchange, sensor connectivity, and network integration. The MPLAB Blockset offers comprehensive support for UART (asynchronous serial), SPI (high-speed synchronous), I2C (multi-master bus), and CAN (automotive/industrial networking) protocols across all Microchip device families.</p><h2 id=uart-blocks---asynchronous-serial-communication>UART Blocks - Asynchronous Serial Communication</h2><h3 id=mchp_uart_config---uart-configuration-and-initialization>MCHP_UART_Config - UART Configuration and Initialization</h3><div class=block-icon-container><a href=uart/uart_config.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/bus_uart/UART_Config.svg type=image/svg+xml><source srcset=../images/blocks/bus_uart/UART_Config_hu_1765183ed556d577.webp type=image/webp><img src=../images/blocks/bus_uart/UART_Config.png alt="UART_Config Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>UART peripheral configuration block</strong> that initializes baud rate, parity, stop bits, and hardware flow control. - **Baud Rate Configuration**: Automatic calculation from system clock</div></a></div><hr><h3 id=mchp_uart_tx---uart-transmit>MCHP_UART_Tx - UART Transmit</h3><div class=block-icon-container><a href=uart/uart_tx.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/bus_uart/UART_Tx.svg type=image/svg+xml><source srcset=../images/blocks/bus_uart/UART_Tx_hu_bdfa0a38149e87f2.webp type=image/webp><img src=../images/blocks/bus_uart/UART_Tx.png alt="UART_Tx Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>UART transmit block</strong> for sending data via UART peripheral with automatic buffering. - **Byte and Array Transmission**: Single bytes or data arrays</div></a></div><hr><h3 id=mchp_uart_rx---uart-receive>MCHP_UART_Rx - UART Receive</h3><div class=block-icon-container><a href=uart/uart_rx.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/bus_uart/UART_Rx.svg type=image/svg+xml><source srcset=../images/blocks/bus_uart/UART_Rx_hu_1f16565ef2f8fc54.webp type=image/webp><img src=../images/blocks/bus_uart/UART_Rx.png alt="UART_Rx Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>UART receive block</strong> for receiving data with automatic buffering and error detection. - **Automatic Reception**: Interrupt-driven data capture</div></a></div><hr><h3 id=mchp_uart_txmatlab---uart-transmit-to-matlab>MCHP_UART_TxMatlab - UART Transmit to MATLAB</h3><div class=block-icon-container><a href=uart/uart_txmatlab.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/bus_uart/UART_TxMatlab.svg type=image/svg+xml><source srcset=../images/blocks/bus_uart/UART_TxMatlab_hu_f0dd838bf84802fa.webp type=image/webp><img src=../images/blocks/bus_uart/UART_TxMatlab.png alt="UART_TxMatlab Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Specialized UART block for real-time data logging</strong> to MATLAB using picgui graphical interface. - **Real-Time Plotting**: Stream data directly to MATLAB GUI</div></a></div><hr><h3 id=mchp_uart_break_and_autobaud---uart-break-detection-and-auto-baud>MCHP_UART_Break_and_Autobaud - UART Break Detection and Auto-Baud</h3><div class=block-icon-container><a href=uart/uart_break_and_autobaud.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/bus_uart/UART_Config.svg type=image/svg+xml><source srcset=../images/blocks/bus_uart/UART_Config_hu_1765183ed556d577.webp type=image/webp><img src=../images/blocks/bus_uart/UART_Config.png alt="UART_Config Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Advanced UART features</strong> for break signal generation/detection and automatic baud rate detection. - **Break Signal Generation**: Generate break condition (13 or 14 bits)</div></a></div><hr><h2 id=spi-blocks---synchronous-serial-interface>SPI Blocks - Synchronous Serial Interface</h2><h3 id=mchp_spi---spi-masterslave>MCHP_SPI - SPI Master/Slave</h3><div class=block-icon-container><a href=spi.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/bus_spi/BUS_SPI.svg type=image/svg+xml><source srcset=../images/blocks/bus_spi/BUS_SPI_hu_77c6d0cc5c92d203.webp type=image/webp><img src=../images/blocks/bus_spi/BUS_SPI.png alt="BUS_SPI Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>High-speed SPI communication block</strong> for interfacing with sensors, displays, and external peripherals. - **Master/Slave Mode**: Configurable role</div></a></div><hr><h2 id=i2c-blocks---multi-master-bus>I2C Blocks - Multi-Master Bus</h2><h3 id=mchp_i2c_master---i2c-master-controller>MCHP_I2C_Master - I2C Master Controller</h3><div class=block-icon-container><a href=i2c.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/bus_i2c/BUS_I2C_MASTER.svg type=image/svg+xml><source srcset=../images/blocks/bus_i2c/BUS_I2C_MASTER_hu_c8597e50ff5150cc.webp type=image/webp><img src=../images/blocks/bus_i2c/BUS_I2C_MASTER.png alt="BUS_I2C_MASTER Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33F</span>
<span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span>
<span class=family-tag>PIC32</span>
<span class=family-tag>SAM</span></div></div><div class=block-icon-description><strong>I2C master controller</strong> for multi-device bus communication with automatic protocol handling. - **7-bit and 10-bit Addressing**: Standard and extended addressing</div></a></div><hr><h2 id=can-blocks---controller-area-network>CAN Blocks - Controller Area Network</h2><h3 id=mchp_can_config---can-configuration>MCHP_CAN_Config - CAN Configuration</h3><div class=block-icon-container><a href=can/can_config.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/bus_can/CAN_Config.svg type=image/svg+xml><source srcset=../images/blocks/bus_can/CAN_Config_hu_3578314e6e24ffc8.webp type=image/webp><img src=../images/blocks/bus_can/CAN_Config.png alt="CAN_Config Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33F</span>
<span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span>
<span class=family-tag>PIC32</span>
<span class=family-tag>SAM</span></div></div><div class=block-icon-description><strong>CAN bus configuration block</strong> that initializes bit timing, filters, and message buffers. - **CAN 2.0A/B Support**: Standard and extended identifiers</div></a></div><hr><h3 id=mchp_can_tx---can-transmit>MCHP_CAN_Tx - CAN Transmit</h3><div class=block-icon-container><a href=can/can_tx.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/bus_can/CAN_Tx.svg type=image/svg+xml><source srcset=../images/blocks/bus_can/CAN_Tx_hu_cf47c72cf4daf1a1.webp type=image/webp><img src=../images/blocks/bus_can/CAN_Tx.png alt="CAN_Tx Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33F</span>
<span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span>
<span class=family-tag>PIC32</span>
<span class=family-tag>SAM</span></div></div><div class=block-icon-description><strong>CAN message transmission block</strong> for sending standard or extended CAN frames. - **Standard/Extended IDs**: 11-bit or 29-bit identifiers</div></a></div><hr><h3 id=mchp_can_rx---can-receive>MCHP_CAN_Rx - CAN Receive</h3><div class=block-icon-container><a href=can/can_rx.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/bus_can/CAN_Rx.svg type=image/svg+xml><source srcset=../images/blocks/bus_can/CAN_Rx_hu_ba2ac711c7ee4d82.webp type=image/webp><img src=../images/blocks/bus_can/CAN_Rx.png alt="CAN_Rx Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33F</span>
<span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span>
<span class=family-tag>PIC32</span>
<span class=family-tag>SAM</span></div></div><div class=block-icon-description><strong>CAN message reception block</strong> with automatic filtering and interrupt-driven reception. - **Message Filtering**: Hardware acceptance filters (mask/match)</div></a></div><hr><h2 id=block-selection-guide>Block Selection Guide</h2><h3 id=by-communication-protocol>By Communication Protocol</h3><table><thead><tr><th>Protocol</th><th>Block(s)</th><th>Speed</th><th>Wiring</th><th>Best For</th></tr></thead><tbody><tr><td><strong>UART</strong></td><td>Config + Tx + Rx</td><td>Up to 10 Mbps</td><td>2-wire (TX/RX)</td><td>Point-to-point, GPS, Bluetooth, debug console</td></tr><tr><td><strong>SPI</strong></td><td>SPI Master/Slave</td><td>Up to 50 Mbps</td><td>4-wire (MOSI/MISO/SCK/CS)</td><td>High-speed sensors, displays, SD cards</td></tr><tr><td><strong>I2C</strong></td><td>I2C Master</td><td>Up to 1 Mbps</td><td>2-wire (SDA/SCL)</td><td>Multi-device bus, EEPROMs, sensors, RTCs</td></tr><tr><td><strong>CAN</strong></td><td>Config + Tx + Rx</td><td>Up to 1 Mbps</td><td>2-wire (CAN_H/CAN_L)</td><td>Automotive, industrial networks, robust environments</td></tr></tbody></table><h3 id=by-application-requirements>By Application Requirements</h3><table><thead><tr><th>Application</th><th>Recommended Protocol</th><th>Block Choice</th></tr></thead><tbody><tr><td><strong>GPS Module</strong></td><td>UART</td><td>UART_Config + UART_Rx</td></tr><tr><td><strong>Bluetooth Module</strong></td><td>UART</td><td>UART_Config + UART_Tx + UART_Rx</td></tr><tr><td><strong>SD Card Interface</strong></td><td>SPI</td><td>SPI Master</td></tr><tr><td><strong>IMU Sensor</strong></td><td>SPI or I2C</td><td>SPI (fast) or I2C (multi-device)</td></tr><tr><td><strong>OLED Display</strong></td><td>SPI or I2C</td><td>SPI (high-speed) or I2C (simple wiring)</td></tr><tr><td><strong>EEPROM</strong></td><td>I2C</td><td>I2C Master</td></tr><tr><td><strong>Real-Time Clock</strong></td><td>I2C</td><td>I2C Master</td></tr><tr><td><strong>Motor Control Network</strong></td><td>CAN</td><td>CAN_Config + CAN_Tx + CAN_Rx</td></tr><tr><td><strong>Automotive ECU</strong></td><td>CAN</td><td>CAN_Config + CAN_Tx + CAN_Rx</td></tr><tr><td><strong>MATLAB Data Logging</strong></td><td>UART</td><td>UART_TxMatlab + picgui</td></tr></tbody></table><h3 id=by-device-family-capabilities>By Device Family Capabilities</h3><table><thead><tr><th>Device Family</th><th>UART</th><th>SPI</th><th>I2C</th><th>CAN</th></tr></thead><tbody><tr><td><strong>dsPIC30F</strong></td><td>✅ Up to 2</td><td>✅ Up to 2</td><td>✅ Up to 2</td><td>✅ Up to 2</td></tr><tr><td><strong>dsPIC33F</strong></td><td>✅ Up to 2</td><td>✅ Up to 2</td><td>✅ Up to 2</td><td>✅ Up to 2</td></tr><tr><td><strong>dsPIC33E</strong></td><td>✅ Up to 4</td><td>✅ Up to 3</td><td>✅ Up to 3</td><td>✅ Up to 2</td></tr><tr><td><strong>dsPIC33C</strong></td><td>✅ Up to 4</td><td>✅ Up to 4</td><td>✅ Up to 4</td><td>✅ Up to 2</td></tr><tr><td><strong>dsPIC33A</strong></td><td>✅ Up to 4</td><td>✅ Up to 4</td><td>✅ Up to 4</td><td>✅ Up to 2</td></tr><tr><td><strong>PIC24</strong></td><td>✅ Up to 2</td><td>✅ Up to 2</td><td>✅ Up to 2</td><td>❌</td></tr><tr><td><strong>PIC32MK</strong></td><td>✅ Up to 6</td><td>✅ Up to 6</td><td>✅ Up to 5</td><td>✅ Up to 4</td></tr><tr><td><strong>PIC32MZ</strong></td><td>✅ Up to 6</td><td>✅ Up to 6</td><td>✅ Up to 5</td><td>✅ Up to 4</td></tr><tr><td><strong>SAM E5x/D5x</strong></td><td>✅ Up to 6</td><td>✅ Up to 8</td><td>✅ Up to 8</td><td>✅ CAN FD</td></tr><tr><td><strong>SAM E7x/S7x/V7x</strong></td><td>✅ Up to 3</td><td>✅ Up to 3</td><td>✅ Up to 3</td><td>✅ CAN FD (MCAN)</td></tr></tbody></table><p><strong>Note:</strong> Actual peripheral count is device-dependent. Consult datasheet for exact numbers.</p><h2><a href=../block_reference/digital_io/index.html>Digital I/O Blocks</a></h2><h2 id=overview>Overview</h2><p>Digital I/O blocks provide direct control of microcontroller GPIO (General Purpose Input/Output) pins for interfacing with LEDs, buttons, relays, logic signals, and external digital peripherals. The MPLAB Blockset offers simple-to-use blocks for reading inputs, writing outputs, and detecting pin state changes across all Microchip device families.</p><h2 id=available-digital-io-blocks>Available Digital I/O Blocks</h2><h3 id=mchp_digital_input---read-gpio-pin-state>MCHP_Digital_Input - Read GPIO Pin State</h3><div class=block-icon-container><a href=digital_input.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/digital/DigitalInput.svg type=image/svg+xml><source srcset=../images/blocks/digital/DigitalInput_hu_836c9c9cfa4f2aa.webp type=image/webp><img src=../images/blocks/digital/DigitalInput.png alt="DigitalInput Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>GPIO input block</strong> for reading digital pin states from buttons, switches, sensors, and external logic signals. - **Pin Selection**: Choose any available GPIO pin</div></a></div><hr><h3 id=mchp_digital_output---write-gpio-pin-state>MCHP_Digital_Output - Write GPIO Pin State</h3><div class=block-icon-container><a href=digital_output.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/digital/DigitalOutput.svg type=image/svg+xml><source srcset=../images/blocks/digital/DigitalOutput_hu_b678eb9934c89523.webp type=image/webp><img src=../images/blocks/digital/DigitalOutput.png alt="DigitalOutput Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>GPIO output block</strong> for controlling LEDs, relays, external logic, and digital peripherals. - **Pin Selection**: Choose any available GPIO pin</div></a></div><hr><h3 id=mchp_digital_output_write---update-gpio-state>MCHP_Digital_Output_Write - Update GPIO State</h3><div class=block-icon-container><a href=digital_output_write.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/digital/DigitalOutput_Write.svg type=image/svg+xml><source srcset=../images/blocks/digital/DigitalOutput_Write_hu_7128eed0d9a3383f.webp type=image/webp><img src=../images/blocks/digital/DigitalOutput_Write.png alt="DigitalOutput_Write Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Runtime GPIO write block</strong> for dynamically changing pin states during execution. - **Dynamic Control**: Change pin state based on algorithm logic</div></a></div><hr><h3 id=mchp_digital_output_read---read-gpio-output-state>MCHP_Digital_Output_Read - Read GPIO Output State</h3><div class=block-icon-container><a href=digital_output_read.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/digital/DigitalOutput_Read.svg type=image/svg+xml><source srcset=../images/blocks/digital/DigitalOutput_Read_hu_7d8a1c62b3dd9928.webp type=image/webp><img src=../images/blocks/digital/DigitalOutput_Read.png alt="DigitalOutput_Read Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Read-back GPIO output state</strong> for verifying pin states and implementing state machines. - **Output Verification**: Read current pin output state</div></a></div><hr><h3 id=mchp_changenotification---gpio-interrupt-on-change>MCHP_ChangeNotification - GPIO Interrupt on Change</h3><div class=block-icon-container><a href=../block_reference.html#change-notification class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/digital/ChangeNotification.svg type=image/svg+xml><source srcset=../images/blocks/digital/ChangeNotification_hu_852ac152d222f9ce.webp type=image/webp><img src=../images/blocks/digital/ChangeNotification.png alt="ChangeNotification Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC30F</span>
<span class=family-tag>dsPIC33F</span>
<span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span>
<span class=family-tag>PIC32</span></div></div><div class=block-icon-description><strong>Interrupt-driven pin change detection</strong> for efficient monitoring of button presses and external events. - **Edge Detection**: Rising, falling, or both edges</div></a></div><hr><h2 id=block-selection-guide>Block Selection Guide</h2><h3 id=by-application>By Application</h3><table><thead><tr><th>Application</th><th>Recommended Block</th><th>Why?</th></tr></thead><tbody><tr><td><strong>LED Control</strong></td><td>Digital_Output</td><td>Simple on/off control</td></tr><tr><td><strong>Button Reading</strong></td><td>Digital_Input</td><td>Poll button state</td></tr><tr><td><strong>Button Interrupt</strong></td><td>ChangeNotification</td><td>Efficient event detection</td></tr><tr><td><strong>Relay Control</strong></td><td>Digital_Output</td><td>Set initial state, control via Write</td></tr><tr><td><strong>Chip Select (SPI)</strong></td><td>Digital_Output + Write</td><td>Manual CS control</td></tr><tr><td><strong>State Machine</strong></td><td>Digital_Output_Read + Write</td><td>Read current state before change</td></tr><tr><td><strong>Fault Indicators</strong></td><td>Digital_Output_Write</td><td>Dynamic LED control</td></tr><tr><td><strong>Limit Switches</strong></td><td>Digital_Input or ChangeNotification</td><td>Polling or interrupt-based</td></tr></tbody></table><h3 id=by-performance-requirements>By Performance Requirements</h3><p><strong>🟢 Polling Mode</strong> (Simple, predictable timing)</p><h2><a href=../block_reference/capture_compare/index.html>Input Capture / Output Compare</a></h2><h2 id=overview>Overview</h2><p>Input Capture and Output Compare blocks provide hardware-based event timing and waveform generation capabilities for precise measurement and control applications. These peripherals operate independently of CPU execution, ensuring deterministic timing for frequency measurement, pulse width detection, servo control, and custom waveform generation.</p><h2 id=available-blocks>Available Blocks</h2><h3 id=mchp_ic---input-capture-for-event-timing>MCHP_IC - Input Capture for Event Timing</h3><div class=block-icon-container><a href=input_capture.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/pulse_input/InputCapture.png alt="InputCapture Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Hardware event capture</strong> that records timer values when external events occur on input pins. - **Edge Detection**: Rising, falling, or both edges</div></a></div><hr><h3 id=mchp_oc_hw---hardware-output-compare>MCHP_OC_HW - Hardware Output Compare</h3><div class=block-icon-container><a href=output_compare_hw.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/pulse_input/OutputCompare_HW.png alt="OutputCompare_HW Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC30F</span>
<span class=family-tag>dsPIC33F</span>
<span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span>
<span class=family-tag>PIC32</span></div></div><div class=block-icon-description><strong>Hardware-based output generation</strong> using Output Compare (OC) peripheral with zero CPU overhead. - **Autonomous Operation**: Hardware toggles/sets/clears output pins</div></a></div><hr><h3 id=mchp_oc_sw---software-output-compare>MCHP_OC_SW - Software Output Compare</h3><div class=block-icon-container><a href=output_compare_sw.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/pulse_input/OutputCompare_SW.png alt="OutputCompare_SW Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC30F</span>
<span class=family-tag>dsPIC33F</span>
<span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span></div></div><div class=block-icon-description><strong>Interrupt-driven software output compare</strong> for flexible output control with CPU overhead. - **Interrupt-Based**: Timer interrupt triggers output changes</div></a></div><hr><h2 id=block-selection-guide>Block Selection Guide</h2><h3 id=by-application>By Application</h3><table><thead><tr><th>Application</th><th>Recommended Block</th><th>Why?</th></tr></thead><tbody><tr><td><strong>Measure Input Frequency</strong></td><td><strong>IC</strong> (Input Capture)</td><td>Hardware captures edge timing automatically</td></tr><tr><td><strong>Measure Pulse Width</strong></td><td><strong>IC</strong> (Input Capture)</td><td>Captures rising and falling edges</td></tr><tr><td><strong>Generate Simple PWM</strong></td><td><strong>OC_HW</strong> (Output Compare)</td><td>Lightweight alternative to PWM module</td></tr><tr><td><strong>Generate Complex Waveform</strong></td><td><strong>OC_SW</strong> (Software OC)</td><td>Flexible interrupt-driven control</td></tr><tr><td><strong>Servo Control</strong></td><td><strong>OC_HW</strong> (Hardware OC)</td><td>Precise pulse generation with zero CPU overhead</td></tr><tr><td><strong>Frequency Counter</strong></td><td><strong>IC</strong> (Input Capture)</td><td>Automatic edge counting and timing</td></tr></tbody></table><h3 id=by-performance-requirements>By Performance Requirements</h3><p><strong>🟢 Zero CPU Overhead</strong> (Hardware-based, autonomous)</p><h2><a href=../block_reference/timers/index.html>Timer Blocks</a></h2><h2 id=overview>Overview</h2><p>Timer blocks provide precise timing and resource management capabilities essential for embedded applications. The MPLAB Blockset offers timer configuration for creating named timer resources that can be shared across peripherals, and profiling tools for measuring code execution performance.</p><h2 id=available-timer-blocks>Available Timer Blocks</h2><h3 id=mchp_timer_config---timer-configuration-and-resource-management>MCHP_TIMER_Config - Timer Configuration and Resource Management</h3><div class=block-icon-container><a href=timer_config.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/timers/Timer.svg type=image/svg+xml><source srcset=../images/blocks/timers/Timer_hu_9619a382f292dd18.webp type=image/webp><img src=../images/blocks/timers/Timer.png alt="Timer Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>High-level timer configuration block</strong> that creates named timer resources for sharing across peripherals. - **Named Timer Resources**: Create reusable timer configurations</div></a></div><hr><h3 id=mchp_timer_pil_profiling---processor-in-the-loop-timing-profiler>MCHP_TIMER_PIL_Profiling - Processor-in-the-Loop Timing Profiler</h3><div class=block-icon-container><a href=timer_pil_profiling.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/timers/Timer_PIL_Profiling.svg type=image/svg+xml><source srcset=../images/blocks/timers/Timer_PIL_Profiling_hu_6b6c9c2593566fd7.webp type=image/webp><img src=../images/blocks/timers/Timer_PIL_Profiling.png alt="Timer_PIL_Profiling Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Code execution timing measurement</strong> for performance profiling during PIL simulations. - **Microsecond Precision**: Hardware timer-based measurement</div></a></div><hr><h2 id=block-selection-guide>Block Selection Guide</h2><h3 id=by-application>By Application</h3><table><thead><tr><th>Application</th><th>Recommended Block</th><th>Why?</th></tr></thead><tbody><tr><td><strong>Periodic Task Execution</strong></td><td><strong>TIMER_Config</strong></td><td>Creates time base for multitasking scheduler</td></tr><tr><td><strong>Measure Code Execution Time</strong></td><td><strong>TIMER_PIL_Profiling</strong></td><td>Hardware-accurate timing for PIL</td></tr><tr><td><strong>Time Base for Peripherals</strong></td><td><strong>TIMER_Config</strong></td><td>Shared resource for PWM, IC, OC, ADC</td></tr><tr><td><strong>Performance Optimization</strong></td><td><strong>TIMER_PIL_Profiling</strong></td><td>Identify bottlenecks and validate deadlines</td></tr></tbody></table><hr><h2 id=timer-resource-management>Timer Resource Management</h2><h3 id=timer-types-available>Timer Types Available</h3><p><strong>Timer Resources:</strong></p><h2><a href=../block_reference/encoders/index.html>Encoder Blocks</a></h2><h2 id=overview>Overview</h2><p>Encoder blocks provide hardware-based position and velocity measurement using quadrature encoders, essential for motor control and motion feedback applications. The MPLAB Blockset offers dedicated encoder interfaces (QEI, PDEC, QDEC) that decode incremental encoder signals with zero CPU overhead, enabling precise position tracking and velocity calculation for motor control feedback loops.</p><h2 id=available-encoder-blocks>Available Encoder Blocks</h2><h3 id=mchp_qei---quadrature-encoder-interface-for-dspic>MCHP_QEI - Quadrature Encoder Interface for dsPIC</h3><div class=block-icon-container><a href=encoders_counters/qei.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/qei/QEI.png alt="QEI Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC30F</span>
<span class=family-tag>dsPIC33F</span>
<span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span></div></div><div class=block-icon-description><strong>Dedicated QEI peripheral for dsPIC</strong> with hardware quadrature decoding, velocity measurement, and index pulse support. - **Hardware Quadrature Decoding**: No CPU overhead for edge counting</div></a></div><hr><h3 id=mchp_pdec---position-decoder-for-sam-arm>MCHP_PDEC - Position Decoder for SAM ARM</h3><div class=block-icon-container><a href=encoders_counters/pdec.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/qei/PDEC.png alt="PDEC Block Icon"></picture><div class=family-tags><span class=family-tag>SAM</span></div></div><div class=block-icon-description><strong>Advanced position decoder for SAM</strong> with angular position tracking and configurable filtering. - **Angular Position Output**: Direct angle calculation (0-360°)</div></a></div><hr><h3 id=mchp_qdec_samx---quadrature-decoder-using-tc-for-sam>MCHP_QDEC_SAMx - Quadrature Decoder using TC for SAM</h3><div class=block-icon-container><a href=encoders_counters/qdec_samx.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/qei/QDEC_SAMx.png alt="QDEC_SAMx Block Icon"></picture><div class=family-tags><span class=family-tag>SAM</span></div></div><div class=block-icon-description><strong>Timer/Counter-based quadrature decoder</strong> for SAM devices without dedicated PDEC. - **TC Module Quadrature Mode**: Uses Timer/Counter peripheral</div></a></div><hr><h3 id=mchp_changenotification---software-encoder-decoding>MCHP_ChangeNotification - Software Encoder Decoding</h3><div class=block-icon-container><a href=encoders_counters/change_notification.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/qei/ChangeNotification.png alt="ChangeNotification Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC30F</span>
<span class=family-tag>dsPIC33F</span>
<span class=family-tag>dsPIC33E</span>
<span class=family-tag>dsPIC33C</span>
<span class=family-tag>PIC32</span></div></div><div class=block-icon-description><strong>GPIO interrupt-based encoder decoding</strong> for devices without dedicated QEI/PDEC peripherals. - **Software Decoding**: Interrupt-driven quadrature state machine</div></a></div><hr><h2 id=block-selection-guide>Block Selection Guide</h2><h3 id=by-device-family>By Device Family</h3><table><thead><tr><th>Device Family</th><th>Recommended Block</th><th>Alternative</th><th>Notes</th></tr></thead><tbody><tr><td><strong>dsPIC30F / 33F / 33E</strong></td><td><strong>QEI</strong></td><td>ChangeNotification</td><td>QEI preferred for motor control</td></tr><tr><td><strong>dsPIC33C / 33A</strong></td><td><strong>QEI</strong></td><td>ChangeNotification</td><td>Enhanced QEI with improved filtering</td></tr><tr><td><strong>SAM E5x / D5x / E7x / S7x / V7x</strong></td><td><strong>PDEC</strong></td><td>QDEC_SAMx</td><td>PDEC preferred for angular output</td></tr><tr><td><strong>SAM C20 / C21 / D20 / D21</strong></td><td><strong>QDEC_SAMx</strong></td><td>ChangeNotification</td><td>TC-based quadrature mode</td></tr><tr><td><strong>PIC24</strong></td><td><strong>ChangeNotification</strong></td><td>-</td><td>No dedicated QEI on PIC24</td></tr><tr><td><strong>PIC32</strong></td><td><strong>ChangeNotification</strong></td><td>-</td><td>No dedicated QEI on PIC32</td></tr></tbody></table><h3 id=by-encoder-speed>By Encoder Speed</h3><table><thead><tr><th>Encoder Speed</th><th>Recommended Approach</th><th>Maximum PPR</th><th>Block Choice</th></tr></thead><tbody><tr><td><strong>&lt; 1000 RPM</strong></td><td>Software or Hardware</td><td>Up to 5000 PPR</td><td>ChangeNotification or QEI</td></tr><tr><td><strong>1000-5000 RPM</strong></td><td>Hardware only</td><td>Up to 2048 PPR</td><td>QEI, PDEC, QDEC_SAMx</td></tr><tr><td><strong>5000-10000 RPM</strong></td><td>Hardware with filtering</td><td>Up to 1024 PPR</td><td>QEI (4x mode), PDEC</td></tr><tr><td><strong>> 10000 RPM</strong></td><td>Hardware only, low PPR</td><td>Up to 512 PPR</td><td>QEI with digital filter</td></tr></tbody></table><p><strong>PPR Calculation</strong>: Maximum edge frequency = (RPM × PPR × 4) / 60</p><h2><a href=../block_reference/system_configuration/index.html>System Configuration Blocks</a></h2><h2 id=overview>Overview</h2><p>System Configuration blocks provide essential initialization, clock configuration, scheduler control, and performance monitoring for embedded applications. The MPLAB Blockset includes the Master block (required in every model), scheduler configuration, compiler optimization controls, and system monitoring blocks for robust embedded system development.</p><h2 id=core-system-blocks>Core System Blocks</h2><h3 id=mchp_master---system-initialization-and-clock-configuration>MCHP_Master - System Initialization and Clock Configuration</h3><div class=block-icon-container><a href=master.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/system_configuration/Master.svg type=image/svg+xml><source srcset=../images/blocks/system_configuration/Master_hu_352302cec25857c0.webp type=image/webp><img src=../images/blocks/system_configuration/Master.png alt="Master Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Required system initialization block</strong> that configures device, clock, and global settings. - **Device Selection**: Choose target microcontroller</div></a></div><hr><h2 id=scheduler-configuration-blocks>Scheduler Configuration Blocks</h2><h3 id=mchp_scheduler_options---multitasking-scheduler-configuration>MCHP_Scheduler_Options - Multitasking Scheduler Configuration</h3><div class=block-icon-container><a href=scheduler_options.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/system_configuration/SchedulerOptions.svg type=image/svg+xml><source srcset=../images/blocks/system_configuration/SchedulerOptions_hu_55921c25689056c4.webp type=image/webp><img src=../images/blocks/system_configuration/SchedulerOptions.png alt="SchedulerOptions Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Configure Rate Monotonic Scheduler</strong> for multi-rate task execution with preemption. - **Rate Monotonic Scheduling**: Higher rate = higher priority</div></a></div><hr><h3 id=mchp_tasks_state---task-execution-status>MCHP_Tasks_State - Task Execution Status</h3><div class=block-icon-container><a href=tasks_state.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/system_configuration/TasksState.svg type=image/svg+xml><source srcset=../images/blocks/system_configuration/TasksState_hu_aaf7475f4369ced6.webp type=image/webp><img src=../images/blocks/system_configuration/TasksState.png alt="TasksState Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Monitor task execution state</strong> and detect scheduling anomalies. - **Task Status Output**: Currently executing task ID</div></a></div><hr><h2 id=performance-monitoring-blocks>Performance Monitoring Blocks</h2><h3 id=mchp_mcu_load---cpu-utilization-measurement>MCHP_MCU_Load - CPU Utilization Measurement</h3><div class=block-icon-container><a href=mcu_load.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/system_configuration/MCU_Load.svg type=image/svg+xml><source srcset=../images/blocks/system_configuration/MCU_Load_hu_95fbbead88a232ba.webp type=image/webp><img src=../images/blocks/system_configuration/MCU_Load.png alt="MCU_Load Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Real-time CPU load monitoring</strong> using timer-based measurement. - **CPU Usage Percentage**: 0-100% real-time measurement</div></a></div><hr><h3 id=mchp_mcu_overload---task-overrun-detection>MCHP_MCU_Overload - Task Overrun Detection</h3><div class=block-icon-container><a href=mcu_overload.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/system_configuration/MCU_Overload.svg type=image/svg+xml><source srcset=../images/blocks/system_configuration/MCU_Overload_hu_7fbbac1655cc78ed.webp type=image/webp><img src=../images/blocks/system_configuration/MCU_Overload.png alt="MCU_Overload Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Detect task deadline violations</strong> and timing constraint failures. - **Overrun Flag**: Boolean output when task exceeds deadline</div></a></div><hr><h2 id=compiler-configuration-blocks>Compiler Configuration Blocks</h2><h3 id=mchp_compiler_options---compiler-optimization-control>MCHP_Compiler_Options - Compiler Optimization Control</h3><div class=block-icon-container><a href=compiler_options.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/system_configuration/CompilerOptimisation.svg type=image/svg+xml><source srcset=../images/blocks/system_configuration/CompilerOptimisation_hu_426ef2b66cf52c3e.webp type=image/webp><img src=../images/blocks/system_configuration/CompilerOptimisation.png alt="CompilerOptimisation Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Configure compiler optimization levels</strong> and code generation options. - **Optimization Levels**: -O0 (debug), -O1, -O2, -O3 (max speed), -Os (size)</div></a></div><hr><h3 id=mchp_idle_task---background-task-configuration>MCHP_Idle_Task - Background Task Configuration</h3><div class=block-icon-container><a href=idle_task.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/system_configuration/Master.svg type=image/svg+xml><source srcset=../images/blocks/system_configuration/Master_hu_352302cec25857c0.webp type=image/webp><img src=../images/blocks/system_configuration/Master.png alt="Master Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Configure low-priority idle task</strong> that executes when no other tasks are ready. - **Background Execution**: Runs when CPU idle</div></a></div><hr><h3 id=mchp_interrupt---custom-interrupt-service-routine>MCHP_Interrupt - Custom Interrupt Service Routine</h3><div class=block-icon-container><a href=interrupt.html class=block-card-link><div class=block-icon-image><picture><source srcset=../images/blocks/system_configuration/Master.svg type=image/svg+xml><source srcset=../images/blocks/system_configuration/Master_hu_352302cec25857c0.webp type=image/webp><img src=../images/blocks/system_configuration/Master.png alt="Master Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Create custom interrupt handlers</strong> for external events or peripheral interrupts. - **Interrupt Vector Selection**: Choose specific interrupt</div></a></div><hr><h2 id=block-selection-guide>Block Selection Guide</h2><h3 id=essential-blocks-required>Essential Blocks (Required)</h3><table><thead><tr><th>Block</th><th>Required?</th><th>When to Use</th></tr></thead><tbody><tr><td><strong>MCHP_Master</strong></td><td>✅ Always</td><td>Every model must have exactly one Master block</td></tr><tr><td><strong>MCHP_Scheduler_Options</strong></td><td>⚠️ Multi-rate</td><td>Use when model has multiple sample rates</td></tr><tr><td><strong>MCHP_Compiler_Options</strong></td><td>Optional</td><td>When fine-tuning performance or code size</td></tr></tbody></table><h3 id=performance-monitoring-recommended>Performance Monitoring (Recommended)</h3><table><thead><tr><th>Block</th><th>Purpose</th><th>Use Case</th></tr></thead><tbody><tr><td><strong>MCHP_MCU_Load</strong></td><td>Monitor CPU usage</td><td>Development, optimization, validation</td></tr><tr><td><strong>MCHP_MCU_Overload</strong></td><td>Detect deadline violations</td><td>Safety-critical, real-time validation</td></tr><tr><td><strong>MCHP_Tasks_State</strong></td><td>Track task execution</td><td>Debugging scheduler behavior</td></tr></tbody></table><hr><h2 id=scheduler-behavior-and-best-practices>Scheduler Behavior and Best Practices</h2><h3 id=rate-monotonic-scheduling>Rate Monotonic Scheduling</h3><p><strong>Priority Assignment:</strong></p><h2><a href=../block_reference/utility/index.html>Utility Blocks</a></h2><h2 id=overview>Overview</h2><p>Utility blocks provide essential support functions for development, debugging, and system information access. The MPLAB Blockset includes blocks for viewing chip documentation, visualizing pin assignments, accessing timer information, and reset configuration - all designed to streamline embedded system development and troubleshooting.</p><h2 id=available-utility-blocks>Available Utility Blocks</h2><h3 id=mchp_doc---chip-documentation-access>MCHP_Doc - Chip Documentation Access</h3><div class=block-icon-container><a href=doc.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/user_functions/chip_webpage.png alt="chip_webpage Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Quick access to chip documentation</strong> - opens datasheet, reference manual, and device webpage directly from Simulink. - **Datasheet Link**: Opens device-specific datasheet PDF</div></a></div><hr><h3 id=mchp_port_info---pin-assignment-visualization>MCHP_Port_Info - Pin Assignment Visualization</h3><div class=block-icon-container><a href=port_info.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/user_functions/chip_webpage.png alt="chip_webpage Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Interactive pin assignment viewer</strong> that displays all peripheral pin mappings in graphical format. - **Pin Conflict Detection**: Highlights overlapping pin assignments</div></a></div><hr><h3 id=mchp_timer_info---timer-resource-information>MCHP_Timer_Info - Timer Resource Information</h3><div class=block-icon-container><a href=timer_info.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/user_functions/chip_webpage.png alt="chip_webpage Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Display timer resource allocation</strong> and configuration details. - **Timer Usage**: Shows which timers are allocated</div></a></div><hr><h3 id=mchp_simulink_reset_config---reset-behavior-configuration>MCHP_Simulink_Reset_Config - Reset Behavior Configuration</h3><div class=block-icon-container><a href=simulink_reset_config.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/user_functions/Reset.png alt="Reset Block Icon"></picture><div class=family-tags><span class=family-tag>All Families</span></div></div><div class=block-icon-description><strong>Configure microcontroller reset behavior</strong> for device startup and fault recovery. - **Reset Source Selection**: Power-on, brown-out, watchdog, software</div></a></div><hr><h3 id=mchp_msi---model-state-information>MCHP_MSI - Model State Information</h3><div class=block-icon-container><a href=msi.html class=block-card-link><div class=block-icon-image><picture><img src=../assets/images/blocks/user_functions/chip_webpage.png alt="chip_webpage Block Icon"></picture><div class=family-tags><span class=family-tag>dsPIC33C</span></div></div><div class=block-icon-description><strong>Access Simulink model state information</strong> during code generation and simulation. - **Model Parameters**: Access model configuration data</div></a></div><hr><h2 id=block-selection-guide>Block Selection Guide</h2><h3 id=by-development-phase>By Development Phase</h3><table><thead><tr><th>Development Phase</th><th>Recommended Blocks</th><th>Why?</th></tr></thead><tbody><tr><td><strong>Initial Design</strong></td><td>Doc, Port_Info</td><td>Quick access to datasheets, plan pin assignments</td></tr><tr><td><strong>Implementation</strong></td><td>Port_Info, Timer_Info</td><td>Verify resource allocation, detect conflicts</td></tr><tr><td><strong>Debugging</strong></td><td>Port_Info, Timer_Info</td><td>Troubleshoot pin and timer configuration</td></tr><tr><td><strong>Testing</strong></td><td>Simulink_Reset_Config</td><td>Configure fault recovery and reset behavior</td></tr><tr><td><strong>Automation</strong></td><td>MSI</td><td>Custom build scripts, metadata management</td></tr></tbody></table><h3 id=by-problem-type>By Problem Type</h3><table><thead><tr><th>Problem</th><th>Diagnostic Block</th><th>Solution</th></tr></thead><tbody><tr><td><strong>Pin conflict</strong></td><td>Port_Info</td><td>Visualize all pin assignments, find conflicts</td></tr><tr><td><strong>Timer conflict</strong></td><td>Timer_Info</td><td>Show timer allocation, identify overlaps</td></tr><tr><td><strong>Need datasheet</strong></td><td>Doc</td><td>One-click access to chip documentation</td></tr><tr><td><strong>Reset behavior</strong></td><td>Simulink_Reset_Config</td><td>Configure startup and fault recovery</td></tr><tr><td><strong>Build metadata</strong></td><td>MSI</td><td>Access model state for custom scripts</td></tr></tbody></table><hr><h2 id=common-usage-patterns>Common Usage Patterns</h2><h3 id=pin-conflict-debugging>Pin Conflict Debugging</h3><pre tabindex=0><code>1. Add MCHP_Port_Info block to model

2. Build model (Ctrl+B)
   - Port Info generates pin assignment table
   - Conflicts highlighted in red

3. Review pin assignments:
   - Check which peripherals overlap
   - Verify PPS routing correct

4. Resolve conflicts:
   - Change pin selection in affected blocks
   - Rebuild and verify Port_Info shows no conflicts
</code></pre><h3 id=quick-documentation-reference>Quick Documentation Reference</h3><pre tabindex=0><code>1. Add MCHP_Doc block to model

2. Double-click block:
   - Opens GUI with documentation links

3. Access resources:
   - Click &#34;Datasheet&#34; → Opens device-specific PDF
   - Click &#34;Reference Manual&#34; → Opens peripheral FRM
   - Click &#34;Product Page&#34; → Opens Microchip web page

4. Keep block in model:
   - Acts as documentation bookmark
   - No code generated (utility only)
</code></pre><h3 id=timer-resource-planning>Timer Resource Planning</h3><pre tabindex=0><code>1. Add MCHP_Timer_Info block

2. Build model:
   - Displays all timer allocations
   - Shows configuration (period, prescaler)

3. Check timer usage:
   - Verify no conflicts
   - Ensure timer availability for new features

4. Plan new features:
   - Use Timer_Info to identify free timers
   - Add new timer-based peripherals accordingly
</code></pre><hr><h2 id=best-practices>Best Practices</h2><h3 id=development-workflow>Development Workflow</h3><p><strong>Always Include in Development Models:</strong></p><div class=nav-footer><p>Last updated: October 2025 | MPLAB Blockset Documentation</p><p>&copy; 2025 Microchip Technology Incorporated and its subsidiaries</p><p style=font-size:10px;margin-top:8px;line-height:1.4>The "Microchip" name and logo, the "M" logo, and other names, logos, and brands are registered
and unregistered trademarks of Microchip Technology Incorporated or its affiliates and/or
subsidiaries in the United States and/or other countries ("Microchip Trademarks"). Information
regarding Microchip Trademarks can be found at
<a href=https://www.microchip.com/en-us/about/legal-information/microchip-trademarks target=_blank style=color:var(--accent-primary)>https://www.microchip.com/en-us/about/legal-information/microchip-trademarks</a>.</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
☰</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="🌙",n.textContent="Dark"):(t.textContent="☀️",n.textContent="Light")}(function(){const n=localStorage.getItem("theme"),s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}}),window.toggleSection=function(e){const t=document.getElementById("section-"+e);if(t&&(t.classList.toggle("expanded"),t.classList.contains("nav-section"))){const n=getExpandedSections();t.classList.contains("expanded")?n.add(e):n.delete(e),localStorage.setItem("expandedSections",JSON.stringify([...n]))}};function getExpandedSections(){const e=localStorage.getItem("expandedSections");return new Set(e?JSON.parse(e):[])}function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;if(n===e){t.classList.add("active");const n=t.closest(".nav-subsection");n&&!n.classList.contains("expanded")&&n.classList.add("expanded");const e=t.closest(".nav-section");if(e&&!e.classList.contains("expanded")){e.classList.add("expanded");const n=e.id.replace("section-",""),t=getExpandedSections();t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t]))}}})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage();const t=document.querySelector(".nav-link.active");if(t){const e=t.closest(".nav-section");if(e&&e.id){const n=e.id.replace("section-",""),t=getExpandedSections();t.has(n)||(t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t])))}}}()</script></body></html>