<!DOCTYPE html>
<html lang="en">
<head>
    <title>Master - MPLAB Blockset for MATLAB/Simulink</title>
    <meta charset="utf-8">
    <style>
         
         

         
        :root {
             
            --bg-primary: #f8f9fa;
            --bg-secondary: white;
            --bg-tertiary: #f8f9fa;
            --text-primary: #2c3e50;
            --text-secondary: #666;
            --text-tertiary: #6c757d;
            --text-heading: #003d5c;
            --border-color: #dee2e6;
            --border-light: #e1e8ed;
            --border-medium: #e9ecef;
            --accent-primary: #0076A8;
            --accent-secondary: #005a85;
            --accent-hover: #005580;
            --accent-light: #e3f2fd;
            --code-bg: #f4f4f4;
            --code-text: #c7254e;
            --pre-bg: linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);
            --pre-border: #d0d0d0;
            --table-hover: #e3f2fd;
            --table-stripe: #f8f9fa;
            --note-bg: linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);
            --note-border: #2196F3;
            --note-text: #1976D2;
            --warning-bg: linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);
            --warning-border: #ff9800;
            --warning-text: #f57c00;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 2px 8px rgba(0,0,0,0.08);
            --shadow-lg: 0 2px 12px rgba(0,0,0,0.08);
        }

        [data-theme="dark"] {
             
            --bg-primary: #1a1d23;
            --bg-secondary: #242831;
            --bg-tertiary: #2d3139;
            --text-primary: #e4e6eb;
            --text-secondary: #adb5bd;
            --text-tertiary: #8b95a1;
            --text-heading: #e4e6eb;
            --border-color: #3a3f4b;
            --border-light: #3a3f4b;
            --border-medium: #404654;
            --accent-primary: #4da6d6;
            --accent-secondary: #3d8ab5;
            --accent-hover: #60b4e0;
            --accent-light: #2d4556;
            --code-bg: #2d3139;
            --code-text: #ff6b9d;
            --pre-bg: linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);
            --pre-border: #3a3f4b;
            --table-hover: #2d4556;
            --table-stripe: #2d3139;
            --note-bg: linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);
            --note-border: #4da6d6;
            --note-text: #66b3e0;
            --warning-bg: linear-gradient(to right, #3d3520 0%, #3d3520 100%);
            --warning-border: #ffb347;
            --warning-text: #ffc870;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.3);
            --shadow-md: 0 2px 8px rgba(0,0,0,0.4);
            --shadow-lg: 0 2px 12px rgba(0,0,0,0.5);
        }

         
        
        :root {
             
            --content-max-width: 1000px;
            --content-margin-horizontal: 30px;
            --content-margin-vertical: 15px;
            --container-border-radius: 8px;
        }
        

         
        * {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-primary);
            font-size: 15px;
        }

         
        
         
        .doc-wrapper {
            display: flex;
            max-width: 1600px;
            margin: 0 auto;
            min-height: 100vh;
        }

        .sidebar {
            width: 280px;
            background-color: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            flex-shrink: 0;
        }

        .sidebar::-webkit-scrollbar {
            width: 8px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover {
            background: var(--accent-primary);
        }

        .content-wrapper {
            flex: 1;
            min-width: 0;
            background-color: var(--bg-primary);
        }

        .container {
            max-width: var(--content-max-width);
            margin: var(--content-margin-vertical) var(--content-margin-horizontal);
            background-color: var(--bg-secondary);
            padding: 30px;
            box-shadow: var(--shadow-lg);
            border-radius: var(--container-border-radius);
        }
        

         
        
        .sidebar-header {
            padding: 20px;
            border-bottom: 2px solid var(--border-light);
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
        }

        .sidebar-title {
            color: white;
            font-size: 16px;
            font-weight: 700;
            margin: 0;
            text-align: center;
        }

        .sidebar-nav {
            padding: 15px 0;
        }

        .nav-section {
            margin-bottom: 8px;
        }

        .nav-section-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
        }

        .nav-section-title:hover {
            background-color: var(--bg-tertiary);
            border-left-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .nav-section-title .icon {
            font-size: 16px;
            margin-right: 8px;
        }

        .nav-section-title .toggle-icon {
            font-size: 12px;
            transition: transform 0.2s ease;
        }

        .nav-section.expanded .toggle-icon {
            transform: rotate(90deg);
        }

        .nav-section-children {
            display: none;
            padding-left: 15px;
        }

        .nav-section.expanded > .nav-section-children {
            display: block;
        }

        .nav-link {
            display: block;
            padding: 8px 20px;
            padding-left: 45px;
            color: var(--text-secondary);
            font-size: 13px;
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
        }

        .nav-link:hover {
            background-color: var(--bg-tertiary);
            color: var(--accent-primary);
            border-left-color: var(--accent-light);
        }

        .nav-link.active {
            background-color: var(--accent-light);
            color: var(--accent-primary);
            border-left-color: var(--accent-primary);
            font-weight: 600;
        }

         
        .nav-subsection {
            margin-bottom: 4px;
        }

        .nav-subsection-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 20px;
            padding-left: 35px;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            background-color: var(--bg-tertiary);
        }

        .nav-subsection-title:hover {
            background-color: var(--bg-primary);
            border-left-color: var(--accent-secondary);
            color: var(--accent-secondary);
        }

        .nav-subsection-title .icon {
            font-size: 14px;
            margin-right: 6px;
        }

        .nav-subsection-title .toggle-icon {
            font-size: 10px;
            transition: transform 0.2s ease;
        }

        .nav-subsection.expanded .toggle-icon {
            transform: rotate(90deg);
        }

        .nav-subsection .nav-section-children {
            display: none;
            padding-left: 10px;
        }

        .nav-subsection.expanded > .nav-section-children {
            display: block;
        }

         
        .nav-block-link {
            display: block;
            padding: 6px 20px;
            padding-left: 55px;
            color: var(--text-secondary);
            font-size: 12px;
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
        }

        .nav-block-link:hover {
            background-color: var(--accent-light);
            color: var(--accent-primary);
            border-left-color: var(--accent-secondary);
        }

        .nav-block-link.active {
            background-color: var(--accent-light);
            color: var(--accent-primary);
            border-left-color: var(--accent-primary);
            font-weight: 600;
        }

        .mobile-nav-toggle {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--accent-primary);
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
        }

        .mobile-nav-toggle:hover {
            background: var(--accent-hover);
        }
        

         
        .theme-toggle {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 13px;
            color: var(--text-secondary);
            margin-left: 16px;
            user-select: none;
        }

        .theme-toggle:hover {
            background: var(--accent-light);
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .theme-icon {
            font-size: 16px;
        }

         
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0 12px 0;
            margin-bottom: 20px;
            border-bottom: 3px solid var(--border-light);
            position: relative;
        }

        .page-header::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 120px;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
        }

        .page-header h1 {
            margin: 0;
            color: var(--text-heading);
            font-size: 32px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .page-header-right {
            display: flex;
            align-items: center;
        }

        .microchip-logo {
            height: 55px;
        }

         
        .breadcrumbs {
            display: flex;
            align-items: center;
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            padding: 10px 14px;
            background: var(--bg-tertiary);
            border-radius: 6px;
            border-left: 3px solid var(--accent-primary);
        }

        .breadcrumbs a {
            color: var(--accent-primary);
            text-decoration: none;
            padding: 4px 8px;
            border-radius: 3px;
        }

        .breadcrumbs a:hover {
            background-color: var(--accent-light);
            color: var(--accent-hover);
        }

        .breadcrumbs span {
            margin: 0 8px;
            color: var(--text-tertiary);
        }

         
        h2 {
            color: var(--text-heading);
            font-weight: 600;
            font-size: 22px;
            letter-spacing: -0.5px;
            margin-top: 32px;
            margin-bottom: 12px;
            padding-bottom: 6px;
            border-bottom: 2px solid var(--border-light);
            position: relative;
        }

        h2::before {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
        }

        h3 {
            color: var(--text-primary);
            font-weight: 600;
            font-size: 17px;
            margin-top: 24px;
            margin-bottom: 10px;
        }

        h4 {
            color: var(--text-primary);
            font-weight: 500;
            font-size: 15px;
            margin-top: 18px;
            margin-bottom: 8px;
        }

         
        p {
            margin-bottom: 12px;
            line-height: 1.6;
            color: var(--text-primary);
        }

         
        table {
            border-collapse: separate;
            border-spacing: 0;
            width: 100%;
            margin: 18px 0;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        th {
            background: linear-gradient(to bottom, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            color: white;
            padding: 14px 16px;
            text-align: left;
            font-weight: 600;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid var(--accent-secondary);
        }

        td {
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-medium);
            vertical-align: top;
            color: var(--text-primary);
            background-color: var(--bg-secondary);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:nth-child(even) td {
            background-color: var(--table-stripe);
        }

        tbody tr:hover td {
            background-color: var(--table-hover);
        }

         
        code {
            background-color: var(--code-bg);
            padding: 3px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            color: var(--code-text);
            font-size: 14px;
        }

        pre {
            background: var(--pre-bg);
            border: 1px solid var(--pre-border);
            border-left: 4px solid var(--accent-primary);
            border-radius: 6px;
            padding: 16px;
            margin: 18px 0;
            box-shadow: var(--shadow-sm);
            overflow-x: auto;
            line-height: 1.5;
        }

        pre code {
            background-color: transparent;
            padding: 0;
            color: var(--text-primary);
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
        }

         
        .note {
            background: var(--note-bg);
            border-left: 5px solid var(--note-border);
            border-radius: 4px;
            padding: 14px 16px;
            margin: 18px 0;
            box-shadow: var(--shadow-md);
            position: relative;
        }

        .note::before {
            content: '\2139\FE0F  Note';
            display: block;
            font-weight: 600;
            color: var(--note-text);
            margin-bottom: 6px;
            font-size: 14px;
        }

        .note p {
            color: var(--text-primary);
        }

        .warning {
            background: var(--warning-bg);
            border-left: 5px solid var(--warning-border);
            border-radius: 4px;
            padding: 14px 16px;
            margin: 18px 0;
            box-shadow: var(--shadow-md);
            position: relative;
        }

        .warning::before {
            content: '\26A0\FE0F  Warning';
            display: block;
            font-weight: 600;
            color: var(--warning-text);
            margin-bottom: 6px;
            font-size: 14px;
        }

        .warning p {
            color: var(--text-primary);
        }

         
        ul, ol {
            margin: 12px 0;
            padding-left: 30px;
            line-height: 1.6;
        }

        li {
            margin: 6px 0;
            color: var(--text-primary);
        }

         
        a {
            color: var(--accent-primary);
            text-decoration: none;
        }

        a:hover {
            color: var(--accent-hover);
            text-decoration: underline;
        }

         
        .nav-footer {
            margin-top: 48px;
            padding: 20px 0 12px 0;
            border-top: 2px solid var(--border-light);
            font-size: 11px;
            color: var(--text-tertiary);
            text-align: center;
        }

        .nav-footer p {
            margin: 0;
            font-size: 11px;
        }

         
        .block-icon-container {
            display: table;
            width: 100%;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin: 24px 0;
            padding: 20px;
            box-shadow: var(--shadow-md);
            table-layout: fixed;
        }

        .block-icon-image {
            display: table-cell;
            width: 220px;
            vertical-align: middle;
            padding-right: 20px;
        }

        .block-icon-image img {
            width: 200px;
            height: auto;
            display: block;
        }

        .block-icon-description {
            display: table-cell;
            vertical-align: middle;
            font-size: 16px;
            line-height: 1.7;
            color: var(--text-primary);
        }

         
        p img, .container > img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
            border: 1px solid var(--border-light);
            border-radius: 4px;
            box-shadow: var(--shadow-sm);
        }

         
        @media (max-width: 768px) {
            body {
                padding: 10px 20px;
            }

            .container {
                padding: 20px;
            }

            .page-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .microchip-logo {
                height: 40px;
            }

            .page-header h1 {
                font-size: 24px;
            }

            h2 {
                font-size: 20px;
            }

            h3 {
                font-size: 16px;
            }
        }

         
        
        @media (max-width: 1024px) {
             
            .sidebar {
                position: fixed;
                left: -280px;
                top: 0;
                height: 100vh;
                z-index: 999;
                transition: left 0.3s ease;
                box-shadow: 2px 0 8px rgba(0,0,0,0.15);
            }

            .sidebar.mobile-visible {
                left: 0;
            }

             
            .mobile-nav-toggle {
                display: flex;
                align-items: center;
                justify-content: center;
            }

             
            .content-wrapper {
                width: 100%;
            }

            .container {
                margin: 10px 15px;
                padding: 20px;
            }

             
            .sidebar.mobile-visible::after {
                content: '';
                position: fixed;
                top: 0;
                left: 280px;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: -1;
            }
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }

            .page-header h1 {
                font-size: 22px;
            }

            .breadcrumbs {
                font-size: 12px;
                padding: 8px 12px;
            }

            .nav-section-title {
                font-size: 13px;
                padding: 8px 15px;
            }

            .nav-link {
                font-size: 12px;
                padding: 6px 15px;
                padding-left: 35px;
            }
        }
        

         
        .under-construction-banner {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            color: white;
            padding: 12px 20px;
            text-align: center;
            font-size: 14px;
            font-weight: 600;
            border-bottom: 3px solid #e65100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            margin-bottom: 20px;
        }

        .under-construction-banner .icon {
            font-size: 18px;
            margin-right: 8px;
        }

        .under-construction-banner strong {
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
    </style>
</head>
<body>
    
    
    <div class="doc-wrapper">
        
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2 class="sidebar-title">MPLAB Blockset</h2>
            </div>
            <div class="sidebar-nav">
                
                <div class="nav-section">
                    <a href="../../" class="nav-section-title" style="display: block; border-left: 3px solid transparent;">
                        <span><span class="icon">🏠</span>Home</span>
                    </a>
                </div>

                
                
                <div class="nav-section" id="section-getting-started">
                    
                    
                    <div class="nav-section-title" onclick="toggleSection('getting-started')">
                        <span><span class="icon">🚀</span>Getting Started</span>
                        <span class="toggle-icon">▶</span>
                    </div>
                    <div class="nav-section-children">
                        
                            
                            
                            <a href="../../getting_started/overview.html" class="nav-link">Overview</a>
                            
                        
                            
                            
                            <a href="../../getting_started/installation.html" class="nav-link">Installation</a>
                            
                        
                            
                            
                            <a href="../../getting_started/quick_start.html" class="nav-link">Quick Start Guide</a>
                            
                        
                            
                            
                            <a href="../../getting_started/board_templates.html" class="nav-link">Board Templates</a>
                            
                        
                            
                            
                            <a href="../../getting_started/motor_control_examples.html" class="nav-link">Motor Control Examples</a>
                            
                        
                            
                            
                            <a href="../../getting_started/scheduler_multitasking.html" class="nav-link">Scheduler &amp; Multitasking</a>
                            
                        
                            
                            
                            <a href="../../getting_started/external_mode_pil.html" class="nav-link">External Mode &amp; PIL</a>
                            
                        
                            
                            
                            <a href="../../getting_started/data_visualization.html" class="nav-link">Data Visualization</a>
                            
                        
                            
                            
                            <a href="../../getting_started/supported_devices.html" class="nav-link">Supported Devices</a>
                            
                        
                    </div>
                    
                </div>
                
                <div class="nav-section" id="section-user-guide">
                    
                    
                    <div class="nav-section-title" onclick="toggleSection('user-guide')">
                        <span><span class="icon">📚</span>User Guide</span>
                        <span class="toggle-icon">▶</span>
                    </div>
                    <div class="nav-section-children">
                        
                            
                            
                            <a href="../../user_guide/code_generation.html" class="nav-link">Code Generation</a>
                            
                        
                            
                            
                            <a href="../../user_guide/compiler_setup.html" class="nav-link">Compiler Setup</a>
                            
                        
                            
                            
                            <a href="../../user_guide/external_mode.html" class="nav-link">External Mode</a>
                            
                        
                            
                            
                            <a href="../../user_guide/pil_testing.html" class="nav-link">PIL Testing</a>
                            
                        
                    </div>
                    
                </div>
                
                <div class="nav-section" id="section-block-reference">
                    
                    
                    <div class="nav-section-title" onclick="toggleSection('block-reference')">
                        <span><span class="icon">🧩</span>Block Reference</span>
                        <span class="toggle-icon">▶</span>
                    </div>
                    <div class="nav-section-children">
                        
                            
                            
                            <div class="nav-subsection" id="section-pwm-timers">
                                <div class="nav-subsection-title" onclick="toggleSection('pwm-timers')">
                                    <span><span class="icon">⚡</span>PWM &amp; Timers</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm.html" class="nav-block-link">PWM</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm_highspeed.html" class="nav-block-link">PWM High-Speed</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm_hs_fep.html" class="nav-block-link">PWM HS FEP</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm_highspeed_override.html" class="nav-block-link">PWM HS Override</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/mcpwm.html" class="nav-block-link">MCPWM (PIC32)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm_sam7x.html" class="nav-block-link">PWM SAM7x</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm_sam7x_override.html" class="nav-block-link">PWM SAM7x Override</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/tcc_pwm.html" class="nav-block-link">TCC PWM (SAM)</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-timers">
                                <div class="nav-subsection-title" onclick="toggleSection('timers')">
                                    <span><span class="icon">⏱️</span>Timers</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/timers/timer_config.html" class="nav-block-link">Timer Config</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/timers/input_capture.html" class="nav-block-link">Input Capture</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/timers/output_compare_hw.html" class="nav-block-link">Output Compare (HW)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/timers/output_compare_sw.html" class="nav-block-link">Output Compare (SW)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/timers/timer_pil_profiling.html" class="nav-block-link">PIL Profiling Timer</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-adc">
                                <div class="nav-subsection-title" onclick="toggleSection('adc')">
                                    <span><span class="icon">📊</span>ADC</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc.html" class="nav-block-link">ADC (dsPIC)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc_hs_12b.html" class="nav-block-link">ADC HS 12-bit</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc_highspeed_sar.html" class="nav-block-link">ADC High-Speed SAR</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc_highspeed_sar_dspic.html" class="nav-block-link">ADC HS SAR (dsPIC)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc_same5x.html" class="nav-block-link">ADC (SAM E5x)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc_samrh707x.html" class="nav-block-link">ADC (SAMRH707x)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/afec_sam7x.html" class="nav-block-link">AFEC (SAM7x)</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-communication">
                                <div class="nav-subsection-title" onclick="toggleSection('communication')">
                                    <span><span class="icon">📡</span>Communication</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <div class="nav-subsection" id="section-uart">
                                            <div class="nav-subsection-title" onclick="toggleSection('uart')">
                                                <span><span class="icon"></span>UART</span>
                                                <span class="toggle-icon">▶</span>
                                            </div>
                                            <div class="nav-section-children">
                                                
                                                
                                                <a href="../../block_reference/communication/uart/uart_config.html" class="nav-block-link">UART Config</a>
                                                
                                                
                                                <a href="../../block_reference/communication/uart/uart_tx.html" class="nav-block-link">UART Tx</a>
                                                
                                                
                                                <a href="../../block_reference/communication/uart/uart_rx.html" class="nav-block-link">UART Rx</a>
                                                
                                                
                                                <a href="../../block_reference/communication/uart/uart_txmatlab.html" class="nav-block-link">UART Tx MATLAB</a>
                                                
                                                
                                                <a href="../../block_reference/communication/uart/uart_break_and_autobaud.html" class="nav-block-link">UART Break &amp; Autobaud</a>
                                                
                                            </div>
                                        </div>
                                        
                                    
                                        
                                        
                                        <div class="nav-subsection" id="section-can">
                                            <div class="nav-subsection-title" onclick="toggleSection('can')">
                                                <span><span class="icon"></span>CAN</span>
                                                <span class="toggle-icon">▶</span>
                                            </div>
                                            <div class="nav-section-children">
                                                
                                                
                                                <a href="../../block_reference/communication/can/can_config.html" class="nav-block-link">CAN Config</a>
                                                
                                                
                                                <a href="../../block_reference/communication/can/can_tx.html" class="nav-block-link">CAN Tx</a>
                                                
                                                
                                                <a href="../../block_reference/communication/can/can_rx.html" class="nav-block-link">CAN Rx</a>
                                                
                                            </div>
                                        </div>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/communication/i2c.html" class="nav-block-link">I2C Master/Slave</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/communication/spi.html" class="nav-block-link">SPI Master/Slave</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-digital-io">
                                <div class="nav-subsection-title" onclick="toggleSection('digital-io')">
                                    <span><span class="icon">🔌</span>Digital I/O</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/digital_io/digital_input.html" class="nav-block-link">Digital Input</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/digital_io/digital_output.html" class="nav-block-link">Digital Output</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/digital_io/digital_output_read.html" class="nav-block-link">Digital Output Read</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/digital_io/digital_output_write.html" class="nav-block-link">Digital Output Write</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-encoders">
                                <div class="nav-subsection-title" onclick="toggleSection('encoders')">
                                    <span><span class="icon">🔄</span>Encoders</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/encoders_counters/qei.html" class="nav-block-link">QEI (Quadrature Encoder)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/encoders_counters/pdec.html" class="nav-block-link">PDEC (SAM)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/encoders_counters/qdec_samx.html" class="nav-block-link">QDEC (SAM)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/encoders_counters/change_notification.html" class="nav-block-link">Change Notification</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-analog-io">
                                <div class="nav-subsection-title" onclick="toggleSection('analog-io')">
                                    <span><span class="icon">📉</span>Analog I/O</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html" class="nav-block-link">High-Speed Comparator</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html" class="nav-block-link">Comparator w/ Slope</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/analog_io/comparator_opamps_volt_ref/op_amp.html" class="nav-block-link">Op-Amp</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/analog_io/comparator_opamps_volt_ref/pga.html" class="nav-block-link">PGA (Programmable Gain Amp)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/analog_io/dac_samx.html" class="nav-block-link">DAC (SAM)</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-system-config">
                                <div class="nav-subsection-title" onclick="toggleSection('system-config')">
                                    <span><span class="icon">⚙️</span>System Config</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/master.html" class="nav-block-link">Master</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/interrupt.html" class="nav-block-link">Interrupt</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/compiler_options.html" class="nav-block-link">Compiler Options</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/scheduler_options.html" class="nav-block-link">Scheduler Options</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/idle_task.html" class="nav-block-link">Idle Task</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/mcu_load.html" class="nav-block-link">MCU Load</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/mcu_overload.html" class="nav-block-link">MCU Overload</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/tasks_state.html" class="nav-block-link">Tasks State</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/secondary_core.html" class="nav-block-link">Secondary Core</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-utility">
                                <div class="nav-subsection-title" onclick="toggleSection('utility')">
                                    <span><span class="icon">🔧</span>Utility Blocks</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/user_functions/c_function_call.html" class="nav-block-link">C Function Call</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/utility/doc.html" class="nav-block-link">Documentation Block</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/utility/msi.html" class="nav-block-link">MSI (Model Sample Info)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/utility/port_info.html" class="nav-block-link">Port Info</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/utility/timer_info.html" class="nav-block-link">Timer Info</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/utility/simulink_reset_config.html" class="nav-block-link">Simulink Reset Config</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                    </div>
                    
                </div>
                
                <div class="nav-section" id="section-examples">
                    
                    
                    <div class="nav-section-title" onclick="toggleSection('examples')">
                        <span><span class="icon">📖</span>Examples</span>
                        <span class="toggle-icon">▶</span>
                    </div>
                    <div class="nav-section-children">
                        
                            
                            
                            <a href="../../examples/field_weakening.html" class="nav-link">Field Weakening</a>
                            
                        
                    </div>
                    
                </div>
                
                <div class="nav-section" id="section-github">
                    
                    
                    <a href="https://github.com/microchip-technology/mplab-blockset" class="nav-section-title" style="display: block; border-left: 3px solid transparent;">
                        <span><span class="icon">💻</span>GitHub</span>
                    </a>
                    
                </div>
                
            </div>
        </nav>

        
        <div class="content-wrapper">
            <div class="container">
                <div class="breadcrumbs">
                    <a href="../../">Home</a>
                    
                        <span>&gt;</span>
                        <a href="../../block_reference/system_configuration.html">System Configuration Blocks</a>
                    
                    <span>&gt;</span>
                    <span>Master</span>
                </div>

                
                <div class="under-construction-banner">
                    <span class="icon">⚠️</span>
                    <strong>Documentation Under Construction</strong> —
                    This documentation is currently being developed. All information has not been validated by Microchip yet.
                </div>
                

                <div class="page-header">
                    <h1>Master</h1>
                    <div class="page-header-right">
                        <img src="../../images/microchip-logo.png" alt="Microchip Logo" class="microchip-logo">
                        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
                            <span class="theme-icon" id="theme-icon">☀️</span>
                            <span id="theme-text">Light</span>
                        </button>
                    </div>
                </div>

                
  <div class="block-icon-container">
    <picture class="block-icon-image">
        <source srcset="../../assets/images/blocks/system_configuration/Master.svg" type="image/svg+xml">
        <img src="../../assets/images/blocks/system_configuration/Master.png" alt="Master Block Icon">
    </picture>
    <div class="block-icon-description">
        <div class="warning" style="background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0;">
    CRITICAL: The Master block is MANDATORY in every MCHP Blockset model. This is always the FIRST block to add to any new model. Without it, no other MCHP blocks will function.  Master Block The <strong>Master</strong> block is the central configuration block for the entire MCHP Blockset. It defines the target microcontroller, clock configuration, peripheral initialization, compiler settings, and code generation options. All other MCHP blocks depend on parameters set in this block.  <strong>Primary Functions:</strong>  - <strong>Target Selection</strong> - Choose from 800+ supported Microchip microcontrollers - <strong>Clock Configuration</strong> - Configure oscillator, PLL, and system clocks (FCY/FOSC) - <strong>Fuse Settings</strong> - Set device configuration bits (watchdog, code protection, etc.) - <strong>Build System</strong> - Configure compiler paths, optimization, and project settings - <strong>External Mode</strong> - Enable real-time data monitoring via UART - <strong>PIL Testing</strong> - Processor-in-the-Loop test framework configuration
</div>
 ## Supported Devices  The Master block supports <strong>800+ Microchip microcontrollers</strong> across multiple families:
    </div>
</div>

<h3 id="16-bit-dscmcu-families">16-bit DSC/MCU Families</h3>
<table>
  <thead>
      <tr>
          <th>Family</th>
          <th>Examples</th>
          <th>Features</th>
          <th>Applications</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>dsPIC30F</td>
          <td>30F1010, 30F2020, 30F6015</td>
          <td>Legacy DSC, basic DSP engine</td>
          <td>Motor control, power supplies</td>
      </tr>
      <tr>
          <td>dsPIC33F</td>
          <td>33FJ128MC802, 33FJ256GP710A</td>
          <td>Enhanced DSP, DMA, advanced PWM</td>
          <td>Digital power, motor control</td>
      </tr>
      <tr>
          <td>dsPIC33E</td>
          <td>33EP512MU810, 33EP256MC710</td>
          <td>PPS, DMA, high-speed ADC</td>
          <td>Motor control, instrumentation</td>
      </tr>
      <tr>
          <td>dsPIC33C</td>
          <td>33CK64MC105, 33CH128MP508</td>
          <td>Dual-core options, high-speed PWM</td>
          <td>Motor control, power conversion</td>
      </tr>
      <tr>
          <td>dsPIC33A</td>
          <td>(Latest)</td>
          <td>33AK128MC106, 33AK512MPS512</td>
          <td>Advanced PWM with FEP, 12-bit ADC</td>
      </tr>
      <tr>
          <td>PIC24F/H</td>
          <td>24F16KL402, 24FJ256GB110</td>
          <td>General-purpose MCU, low power</td>
          <td>Portable, battery-powered apps</td>
      </tr>
  </tbody>
</table>
<h3 id="32-bit-mcu-families">32-bit MCU Families</h3>
<table>
  <thead>
      <tr>
          <th>Family</th>
          <th>Examples</th>
          <th>Features</th>
          <th>Applications</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>PIC32MK</td>
          <td>32MK0512MCF064, 32MK1024GPE100</td>
          <td>MIPS M5150, FPU, motor control</td>
          <td>Advanced motor control</td>
      </tr>
      <tr>
          <td>PIC32MZ</td>
          <td>32MZ2048EFM144, 32MZ1024ECH144</td>
          <td>High-performance MIPS, crypto</td>
          <td>IoT, connectivity, graphics</td>
      </tr>
      <tr>
          <td>PIC32MX</td>
          <td>32MX795F512L, 32MX440F256H</td>
          <td>USB, Ethernet, graphics</td>
          <td>HMI, connectivity</td>
      </tr>
      <tr>
          <td>PIC32A</td>
          <td>(New)</td>
          <td>32AK1216GC41036</td>
          <td>Next-gen 32-bit architecture</td>
      </tr>
  </tbody>
</table>
<h3 id="arm-based-families-sam">ARM-based Families (SAM)</h3>
<table>
  <thead>
      <tr>
          <th>Family</th>
          <th>Core</th>
          <th>Examples</th>
          <th>Features</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>SAME70</td>
          <td>Cortex-M7</td>
          <td>SAME70Q21B, SAME70N21B</td>
          <td>300 MHz, FPU, DSP, Ethernet</td>
      </tr>
      <tr>
          <td>SAMS70</td>
          <td>Cortex-M7</td>
          <td>SAMS70Q21B</td>
          <td>High-speed processing, security</td>
      </tr>
      <tr>
          <td>SAMV71</td>
          <td>Cortex-M7</td>
          <td>SAMV71Q21B</td>
          <td>Automotive, CAN-FD, safety</td>
      </tr>
      <tr>
          <td>SAME5x</td>
          <td>Cortex-M4F</td>
          <td>SAME54P20A</td>
          <td>120 MHz, crypto, low power</td>
      </tr>
      <tr>
          <td>SAMC2x</td>
          <td>Cortex-M0+</td>
          <td>SAMC21N18A</td>
          <td>Motor control, cost-optimized</td>
      </tr>
      <tr>
          <td>SAMD2x</td>
          <td>Cortex-M0+</td>
          <td>SAMD21G18A</td>
          <td>Ultra-low power, IoT</td>
      </tr>
      <tr>
          <td>PIC32CZ</td>
          <td>Cortex-M7</td>
          <td>PIC32CZ_MC70</td>
          <td>High-performance, security</td>
      </tr>
  </tbody>
</table>
<h2 id="block-parameters">Block Parameters</h2>
<h3 id="target-configuration">Target Configuration</h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
          <th>Values/Range</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>PICREF</td>
          <td>Microcontroller selection. Dynamic popup filtered by supported families with oscillator support verification.</td>
          <td>800+ devices</td>
      </tr>
      <tr>
          <td>PACKAGE</td>
          <td>(SAM only)</td>
          <td>Package selection for ARM devices (affects pin availability).</td>
      </tr>
  </tbody>
</table>
<h3 id="clock-configuration">Clock Configuration</h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
          <th>Values/Range</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>OSCILLATOR_SELECT</td>
          <td>Primary oscillator source selection. Options dynamically updated based on chip capabilities.</td>
          <td>• Internal Fast RC (FRC)</td>
      </tr>
      <tr>
          <td>QUARTZ</td>
          <td>Crystal/resonator frequency when using external oscillator.</td>
          <td>0.4 MHz to 40 MHz</td>
      </tr>
      <tr>
          <td>ACTIV_PLL</td>
          <td>Enable Phase-Locked Loop for frequency multiplication.</td>
          <td>on / off</td>
      </tr>
      <tr>
          <td>MIPS_DESIRED</td>
          <td>Target instruction cycle frequency (FCY). Automatically calculates PLL settings.</td>
          <td>Device-specific</td>
      </tr>
      <tr>
          <td>ACLKCON</td>
          <td>(dsPIC33C only)</td>
          <td>Auxiliary clock configuration for PWM and other peripherals.</td>
      </tr>
      <tr>
          <td>CPUDIV</td>
          <td>(SAM Cortex-M0+ only)</td>
          <td>CPU clock divider selection.</td>
      </tr>
      <tr>
          <td>VDD_range</td>
          <td>(SAM Cortex-M0+ only)</td>
          <td>Operating voltage range (affects flash wait states).</td>
      </tr>
  </tbody>
</table>
<pre><code>        Select oscillator source (internal RC or external crystal/clock)
        If using crystal, specify frequency in QUARTZ parameter
        Enable PLL if higher frequencies are required
        Set MIPS_DESIRED to target frequency - PLL multipliers are calculated automatically
        Block display shows achieved MIPS/MHz on the diagram
</code></pre>
<h3 id="fuse-configuration-device-configuration-bits">Fuse Configuration (Device Configuration Bits)</h3>
<p>The Master block exposes device-specific configuration fuses extracted from Microchip XML specifications. Available fuses depend on the selected chip.</p>
<table>
  <thead>
      <tr>
          <th>Common Fuse Categories</th>
          <th>Examples</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Watchdog Timer</td>
          <td>FWDTEN, FWDTPS</td>
          <td>Watchdog enable and prescaler settings</td>
      </tr>
      <tr>
          <td>Code Protection</td>
          <td>FCPS, FBOR</td>
          <td>Read/write protection, boot segment protection</td>
      </tr>
      <tr>
          <td>Debugging</td>
          <td>FICD, FJTAG</td>
          <td>ICD/JTAG enable, pin selection</td>
      </tr>
      <tr>
          <td>Power Management</td>
          <td>FBOR, FPOR</td>
          <td>Brown-out reset, power-on reset settings</td>
      </tr>
      <tr>
          <td>Peripheral Config</td>
          <td>FIOEN, FBS</td>
          <td>Peripheral pin select, boot segment</td>
      </tr>
  </tbody>
</table>
<h3 id="dual-core-configuration-dspic33ch-only">Dual-Core Configuration (dsPIC33CH only)</h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
          <th>Notes</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Master/Slave Selection</td>
          <td>For dsPIC33CH dual-core devices, select chip name ending with &ldquo;S1&rdquo; for slave core configuration.</td>
          <td>• Master: 33CH128MP508</td>
      </tr>
      <tr>
          <td>SECONDARYIMAGE</td>
          <td>Automatically set to slave image name when slave device is selected.</td>
          <td>Used by build system to link secondary core code</td>
      </tr>
  </tbody>
</table>
<h3 id="build-configuration">Build Configuration</h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
          <th>Set By</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Compiler Path</td>
          <td>Automatically detected compiler installation paths.</td>
          <td>Auto-configured from system</td>
      </tr>
      <tr>
          <td>Header Paths</td>
          <td>Include directories for device headers.</td>
          <td>Auto-configured from DFP</td>
      </tr>
      <tr>
          <td>Linker Script</td>
          <td>Memory map linker script selection.</td>
          <td>Auto-selected or custom</td>
      </tr>
      <tr>
          <td>Library Paths</td>
          <td>Standard library paths (math, DSP, etc.).</td>
          <td>Auto-configured</td>
      </tr>
  </tbody>
</table>
<h3 id="external-mode-configuration">External Mode Configuration</h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
          <th>Values</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>UART Selection</td>
          <td>UART peripheral for external mode communication.</td>
          <td>UART1-4 (device-dependent)</td>
      </tr>
      <tr>
          <td>Baud Rate</td>
          <td>Communication speed for real-time monitoring.</td>
          <td>9600 to 921600 bps</td>
      </tr>
      <tr>
          <td>Buffer Size</td>
          <td>Communication buffer allocation.</td>
          <td>256 to 4096 bytes</td>
      </tr>
  </tbody>
</table>
<h3 id="busy-flag-debug-output">Busy Flag (Debug Output)</h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
          <th>Usage</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>BUSYFLAG</td>
          <td>Assign a GPIO pin to toggle during task execution for timing analysis.</td>
          <td>• Not used</td>
      </tr>
  </tbody>
</table>
<h2 id="generated-model-workspace-variables">Generated Model Workspace Variables</h2>
<p>The Master block creates essential variables in the model workspace (accessible to all blocks):</p>
<table>
  <thead>
      <tr>
          <th>Variable</th>
          <th>Description</th>
          <th>Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>MCHP.id.name</td>
          <td>Selected chip reference</td>
          <td>&lsquo;33AK128MC106&rsquo;</td>
      </tr>
      <tr>
          <td>MCHP.id.Arch</td>
          <td>Architecture ID</td>
          <td>8 (dsPIC33A), 5 (SAM M7)</td>
      </tr>
      <tr>
          <td>MCHP.fcy.FCY</td>
          <td>Instruction cycle frequency (Hz)</td>
          <td>100e6 (100 MIPS)</td>
      </tr>
      <tr>
          <td>MCHP.fcy.FOSC</td>
          <td>Oscillator frequency (Hz)</td>
          <td>200e6 (200 MHz)</td>
      </tr>
      <tr>
          <td>MCHP.NTIMERS</td>
          <td>Number of available timers</td>
          <td>1-12 (device-dependent)</td>
      </tr>
      <tr>
          <td>MCHP.modsrc.*</td>
          <td>Peripheral availability flags</td>
          <td>DOS module indicators</td>
      </tr>
      <tr>
          <td>MCHP.Rx</td>
          <td>Pin remapping (PPS) data structure</td>
          <td>Available remappable pins</td>
      </tr>
  </tbody>
</table>
<h2 id="code-generation-settings">Code Generation Settings</h2>
<p>The Master block automatically configures critical code generation parameters:</p>
<ul>
<li><strong>Target Selection:</strong> Sets <code>RTWSystemTargetFile</code> to appropriate .tlc file</li>
<li><strong>Compiler Detection:</strong> Automatically finds and configures XC16/XC32/XC-DSC compiler paths</li>
<li><strong>DFP Integration:</strong> Loads Device Family Pack for accurate peripheral definitions</li>
<li><strong>PPS Configuration:</strong> Enables Peripheral Pin Select for remappable devices</li>
<li><strong>Code Replacement:</strong> Optionally enables optimized DSP assembly libraries</li>
</ul>
<h2 id="examples">Examples</h2>
<h3 id="example-1-basic-dspic33a-configuration">Example 1: Basic dsPIC33A Configuration</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Select dsPIC33AK128MC106</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Configure for motor control application</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>PICREF: <span style="color:#099">33</span>AK128MC106
</span></span><span style="display:flex;"><span>OSCILLATOR_SELECT: Crystal <span style="color:#000;font-weight:bold">/</span> Ceramic resonator
</span></span><span style="display:flex;"><span>QUARTZ: <span style="color:#099">8e6</span>              <span style="color:#998;font-style:italic">% 8 MHz crystal</span>
</span></span><span style="display:flex;"><span>ACTIV_PLL: on            <span style="color:#998;font-style:italic">% Enable PLL</span>
</span></span><span style="display:flex;"><span>MIPS_DESIRED: <span style="color:#099">100e6</span>      <span style="color:#998;font-style:italic">% 100 MIPS target</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Result: FCY = 100 MHz, FOSC = 200 MHz</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% PLL automatically configured: M=50, N1=2, N2=2</span>
</span></span></code></pre></div><h3 id="example-2-same70-arm-cortex-m7-setup">Example 2: SAME70 ARM Cortex-M7 Setup</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Select SAME70Q21B with LQFP package</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% High-performance application</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>PICREF: SAME70Q21B <span style="color:#000;font-weight:bold">-</span> LQFP144
</span></span><span style="display:flex;"><span>OSCILLATOR_SELECT: Crystal Oscillator
</span></span><span style="display:flex;"><span>QUARTZ: <span style="color:#099">12e6</span>             <span style="color:#998;font-style:italic">% 12 MHz crystal</span>
</span></span><span style="display:flex;"><span>ACTIV_PLL: on            <span style="color:#998;font-style:italic">% Enable PLL</span>
</span></span><span style="display:flex;"><span>MIPS_DESIRED: <span style="color:#099">300e6</span>      <span style="color:#998;font-style:italic">% 300 MHz ARM core</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Result: MCLK = 300 MHz</span>
</span></span></code></pre></div><h3 id="example-3-dspic33ch-dual-core-master">Example 3: dsPIC33CH Dual-Core Master</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Master core configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Slave core built separately</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>PICREF: <span style="color:#099">33</span>CH128MP508     <span style="color:#998;font-style:italic">% Master core</span>
</span></span><span style="display:flex;"><span>OSCILLATOR_SELECT: Internal Fast RC (FRC)
</span></span><span style="display:flex;"><span>ACTIV_PLL: on
</span></span><span style="display:flex;"><span>MIPS_DESIRED: <span style="color:#099">90e6</span>       <span style="color:#998;font-style:italic">% 90 MIPS master</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Slave project uses: 33CH128MP508S1</span>
</span></span></code></pre></div><h3 id="example-4-low-power-samd21-configuration">Example 4: Low-Power SAMD21 Configuration</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Ultra-low power IoT application</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>PICREF: SAMD21G18A
</span></span><span style="display:flex;"><span>OSCILLATOR_SELECT: Internal <span style="color:#099">48</span>MHz Oscillator
</span></span><span style="display:flex;"><span>ACTIV_PLL: off
</span></span><span style="display:flex;"><span>CPUDIV: <span style="color:#099">1</span>                <span style="color:#998;font-style:italic">% No division</span>
</span></span><span style="display:flex;"><span>VDD_range: <span style="color:#099">2.7</span>V to <span style="color:#099">3.6</span>V  <span style="color:#998;font-style:italic">% Standard voltage</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Result: 48 MHz operation</span>
</span></span></code></pre></div><h2 id="common-workflows">Common Workflows</h2>
<h3 id="new-model-setup">New Model Setup</h3>
<ul>
<li>Create new Simulink model</li>
<li>Open MCHP Blockset library</li>
<li>Drag <strong>Master</strong> block to model (FIRST block)</li>
<li>Double-click Master block to open configuration dialog</li>
<li>Select target microcontroller from PICREF dropdown</li>
<li>Configure clock settings for desired frequency</li>
<li>Set any required fuse configuration bits</li>
<li>Click OK/Apply - block display shows chip name and achieved MIPS</li>
<li>Add other MCHP peripheral blocks as needed</li>
</ul>
<h3 id="changing-target-device">Changing Target Device</h3>
<ul>
<li>Open Master block</li>
<li>Select new device from PICREF dropdown</li>
<li>Click Apply - GUI closes automatically due to parameter structure change</li>
<li>Re-open Master block - new fuses and clock options now visible</li>
<li>Reconfigure clock and fuses for new device</li>
<li>Review all peripheral blocks for compatibility warnings</li>
</ul>
<h3 id="external-mode-setup">External Mode Setup</h3>
<ul>
<li>
<p>Configure UART in Master block for external mode</p>
</li>
<li>
<p>Set baud rate (typically 115200 or higher)</p>
</li>
<li>
<p>In Simulink Configuration Parameters:</p>
</li>
<li>
<p>Code Generation → Interface → External mode</p>
</li>
<li>
<p>Set transport to &ldquo;tcpip&rdquo; or &ldquo;serial&rdquo;</p>
</li>
<li>
<p>Build and download code to target</p>
</li>
<li>
<p>Connect via Simulink External Mode toolbar</p>
</li>
<li>
<p>Monitor/tune parameters in real-time</p>
</li>
</ul>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues">Common Issues</h3>
<table>
  <thead>
      <tr>
          <th>Problem</th>
          <th>Cause</th>
          <th>Solution</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Block GUI closes on Apply</td>
          <td>Normal behavior when changing devices (fuse structure changes)</td>
          <td>Re-open block to see updated configuration</td>
      </tr>
      <tr>
          <td>Compiler not found</td>
          <td>XC16/XC32 not installed or not in PATH</td>
          <td>Install compiler from Microchip website, run picSetup</td>
      </tr>
      <tr>
          <td>Desired MIPS not achievable</td>
          <td>PLL limitations or oscillator range</td>
          <td>Check datasheet for valid PLL settings, try different crystal</td>
      </tr>
      <tr>
          <td>Fuses not visible</td>
          <td>Device XML not found or old blockset version</td>
          <td>Ensure DFP installed, update blockset</td>
      </tr>
      <tr>
          <td>Code generation fails</td>
          <td>Missing DFP or linker script</td>
          <td>Check compiler optimization block, verify DFP installation</td>
      </tr>
  </tbody>
</table>
<pre><code>        The Master block MUST be present before adding any other MCHP blocks
        Changing the target device may invalidate peripheral block configurations
        Always verify achieved MIPS matches application requirements
        Dual-core devices require separate projects for master and slave cores
        External mode requires dedicated UART - cannot be shared with application
</code></pre>
<h2 id="see-also">See Also</h2>
<h3 id="other">Other</h3>
<ul>
<li><a href="https://www.microchip.com/design-centers/motor-control-and-drive">Microchip Motor Control</a></li>
</ul>



                <div class="nav-footer">
                    <p>Last updated: January 2025 | MPLAB Blockset Documentation</p>
                    <p>&copy; 2025 Microchip Technology Inc. All rights reserved.</p>
                </div>
            </div>
        </div>

        
        <button class="mobile-nav-toggle" onclick="toggleMobileSidebar()" aria-label="Toggle navigation">
            ☰
        </button>
    </div>
    

    <script>
        
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeButton(newTheme);
        }

        function updateThemeButton(theme) {
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');

            if (theme === 'dark') {
                themeIcon.textContent = '🌙';
                themeText.textContent = 'Dark';
            } else {
                themeIcon.textContent = '☀️';
                themeText.textContent = 'Light';
            }
        }

        
        (function initTheme() {
            const storedTheme = localStorage.getItem('theme');
            const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = storedTheme || (systemPrefersDark ? 'dark' : 'light');

            document.documentElement.setAttribute('data-theme', theme);
            updateThemeButton(theme);
        })();

        
        if (window.matchMedia) {
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                if (!localStorage.getItem('theme')) {
                    const newTheme = e.matches ? 'dark' : 'light';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    updateThemeButton(newTheme);
                }
            });
        }

        
        

        
        window.toggleSection = function(identifier) {
            const section = document.getElementById('section-' + identifier);
            if (section) {
                section.classList.toggle('expanded');

                
                
                if (section.classList.contains('nav-section')) {
                    
                    const expandedSections = getExpandedSections();
                    if (section.classList.contains('expanded')) {
                        expandedSections.add(identifier);
                    } else {
                        expandedSections.delete(identifier);
                    }
                    localStorage.setItem('expandedSections', JSON.stringify([...expandedSections]));
                }
                
                
            }
        };

        
        function getExpandedSections() {
            const stored = localStorage.getItem('expandedSections');
            return new Set(stored ? JSON.parse(stored) : []);
        }

        
        function restoreExpandedSections() {
            const expandedSections = getExpandedSections();
            expandedSections.forEach(identifier => {
                const section = document.getElementById('section-' + identifier);
                if (section) {
                    section.classList.add('expanded');
                }
            });
        }

        
        function highlightActivePage() {
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]');

            navLinks.forEach(link => {
                const linkPath = new URL(link.href, window.location.origin).pathname;
                if (linkPath === currentPath) {
                    link.classList.add('active');

                    
                    const parentSubsection = link.closest('.nav-subsection');
                    if (parentSubsection && !parentSubsection.classList.contains('expanded')) {
                        parentSubsection.classList.add('expanded');
                        
                    }

                    
                    const parentSection = link.closest('.nav-section');
                    if (parentSection && !parentSection.classList.contains('expanded')) {
                        parentSection.classList.add('expanded');
                        
                        const identifier = parentSection.id.replace('section-', '');
                        const expandedSections = getExpandedSections();
                        expandedSections.add(identifier);
                        localStorage.setItem('expandedSections', JSON.stringify([...expandedSections]));
                    }
                }
            });
        }

        
        window.toggleMobileSidebar = function() {
            const sidebar = document.querySelector('.sidebar');
            if (sidebar) {
                sidebar.classList.toggle('mobile-visible');
            }
        };

        
        (function initSidebar() {
            restoreExpandedSections();
            highlightActivePage();

            
            const activeLink = document.querySelector('.nav-link.active');
            if (activeLink) {
                const parentSection = activeLink.closest('.nav-section');
                if (parentSection && parentSection.id) {
                    const identifier = parentSection.id.replace('section-', '');
                    const expandedSections = getExpandedSections();
                    if (!expandedSections.has(identifier)) {
                        expandedSections.add(identifier);
                        localStorage.setItem('expandedSections', JSON.stringify([...expandedSections]));
                    }
                }
            }
        })();
        
    </script>
</body>
</html>
