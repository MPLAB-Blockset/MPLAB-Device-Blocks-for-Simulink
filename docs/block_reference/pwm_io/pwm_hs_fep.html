<!doctype html><html lang=en><head><title>PWM HS FEP - MPLAB Device Blocks for Simulink</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io/pwm_hs_fep.html><link rel=icon type=image/x-icon href=../../favicon.ico><style>html,html[data-theme=dark],body{color-scheme:light only!important;background-color:#fff!important;color:#222!important}:root{--bg-primary:#f8f9fa;--bg-secondary:white;--bg-tertiary:#f8f9fa;--text-primary:#2c3e50;--text-secondary:#666;--text-tertiary:#6c757d;--text-heading:#1a1a1a;--border-color:#dee2e6;--border-light:#e1e8ed;--border-medium:#e9ecef;--accent-primary:#1C355E;--accent-secondary:#41B6E6;--accent-hover:#2a5a8f;--accent-light:#D1DDE6;--code-bg:#f4f4f4;--code-text:#c7254e;--pre-bg:linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);--pre-border:#d0d0d0;--table-hover:#E5F3FF;--table-stripe:#f8f9fa;--note-bg:linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);--note-border:#2196F3;--note-text:#1976D2;--warning-bg:linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);--warning-border:#ff9800;--warning-text:#f57c00;--shadow-sm:0 2px 4px rgba(0,0,0,0.05);--shadow-md:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 2px 12px rgba(0,0,0,0.08)}[data-theme=dark]{--bg-primary:#1a1d23;--bg-secondary:#242831;--bg-tertiary:#2d3139;--text-primary:#e4e6eb;--text-secondary:#adb5bd;--text-tertiary:#8b95a1;--text-heading:#e4e6eb;--border-color:#3a3f4b;--border-light:#3a3f4b;--border-medium:#404654;--accent-primary:#41B6E6;--accent-secondary:#5AC8FA;--accent-hover:#6DD5FF;--accent-light:#1a2d3f;--code-bg:#2d3139;--code-text:#ff6b9d;--pre-bg:linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);--pre-border:#3a3f4b;--table-hover:#1e3a52;--table-stripe:#2d3139;--note-bg:linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);--note-border:#4da6d6;--note-text:#66b3e0;--warning-bg:linear-gradient(to right, #3d3520 0%, #3d3520 100%);--warning-border:#ffb347;--warning-text:#ffc870;--shadow-sm:0 2px 4px rgba(0,0,0,0.3);--shadow-md:0 2px 8px rgba(0,0,0,0.4);--shadow-lg:0 2px 12px rgba(0,0,0,0.5)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:8px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:8px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:40px;max-width:200px;object-fit:contain}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-secondary);margin-bottom:16px;padding:10px 14px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover)}.breadcrumbs span{margin:0 8px;color:var(--text-tertiary)}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:initial;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}li mjx-container[display=true]{text-align:left!important;margin:8px 0!important}li p mjx-container[display=true]{text-align:left!important;margin:8px 0!important}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:flex;align-items:center;gap:15px;margin:20px auto;padding:15px;max-width:900px;background-color:#f8f9fa;border-radius:8px;border:1px solid #dee2e6;transition:all .2s ease-in-out}.block-card-link{display:flex;align-items:center;gap:15px;flex:1;text-decoration:none;color:inherit}.block-icon-container:has(.block-card-link):hover{background-color:#e9ecef;border-color:#0076a8;box-shadow:0 2px 8px rgba(0,118,168,.15);cursor:pointer}.block-icon-image{flex-shrink:0;width:150px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.block-icon-image picture{width:100%;max-width:150px;display:flex;align-items:center;justify-content:center}.block-icon-image img,.block-icon-image source{max-width:100%;max-height:100%;width:auto;height:auto;display:block;object-fit:contain}.block-icon-description{flex:1;font-size:16px;line-height:1.6;color:#333;column-count:1;max-width:100%}.family-tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;justify-content:center;width:100%}.family-tag{display:inline-block;padding:3px 8px;font-size:11px;font-weight:600;background-color:#2196f3;color:#fff;border-radius:4px;white-space:nowrap}.family-detail{font-weight:400;opacity:.9;font-size:10px;margin-left:3px}.chip-family-badges{display:flex;flex-direction:column;gap:6px;padding:12px;background-color:#e3f2fd;border:2px solid #2196f3;border-radius:6px;min-width:140px;flex-shrink:0}.chip-family-badges::before{content:"Device Support";font-size:11px;font-weight:700;color:#1565c0;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px;text-align:center}.chip-badge{display:block;padding:6px 10px;font-size:12px;font-weight:600;border-radius:4px;white-space:nowrap;text-align:center;transition:all .15s ease-in-out}.chip-badge:hover{transform:scale(1.05);box-shadow:0 2px 4px rgba(0,0,0,.2)}.chip-badge.dspic30f{background-color:#e3f2fd;color:#1565c0;border:1px solid #90caf9}.chip-badge.dspic33f{background-color:#e8f5e9;color:#2e7d32;border:1px solid #81c784}.chip-badge.dspic33e{background-color:#fff3e0;color:#e65100;border:1px solid #ffb74d}.chip-badge.dspic33c{background-color:#f3e5f5;color:#6a1b9a;border:1px solid #ba68c8}.chip-badge.dspic33a{background-color:#fce4ec;color:#c2185b;border:1px solid #f06292}.chip-badge.pic32{background-color:#e0f7fa;color:#00695c;border:1px solid #4db6ac}.chip-badge.sam{background-color:#fff9c4;color:#f57f17;border:1px solid #fdd835}.chip-badge.all-families{background-color:#e0e0e0;color:#424242;border:1px solid #9e9e9e;font-weight:700}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","name":"PWM HS FEP","description":"MPLAB Device Blocks for Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/block_reference\/pwm_io\/pwm_hs_fep.html","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-16","dateModified":"2025-10-16","inLanguage":"en-US"}</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><h2 class=sidebar-title>MPLAB Blockset</h2></div><div class=sidebar-nav><div class=nav-section><a href=../../index.html class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>🏠</span>Home</span></a></div><div class=nav-section id=section-getting-started><a href=../../getting_started/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("getting-started"),!0'><span><span class=icon>🚀</span>Getting Started</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("getting-started"),!1'>▶</span></a><div class=nav-section-children><a href=../../getting_started/overview.html class=nav-link>Overview</a>
<a href=../../getting_started/installation.html class=nav-link>Installation</a>
<a href=../../getting_started/quick_start.html class=nav-link>Quick Start Guide</a>
<a href=../../getting_started/board_templates.html class=nav-link>Board Templates</a>
<a href=../../getting_started/motor_control_examples.html class=nav-link>Motor Control Examples</a>
<a href=../../getting_started/scheduler_multitasking.html class=nav-link>Scheduler & Multitasking</a>
<a href=../../getting_started/external_mode_pil.html class=nav-link>External Mode & PIL</a>
<a href=../../getting_started/data_visualization.html class=nav-link>Data Visualization</a>
<a href=../../getting_started/supported_devices.html class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-user-guide><a href=../../user_guide/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("user-guide"),!0'><span><span class=icon>📚</span>User Guide</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("user-guide"),!1'>▶</span></a><div class=nav-section-children><a href=../../user_guide/code_generation.html class=nav-link>Code Generation</a>
<a href=../../user_guide/compiler_setup.html class=nav-link>Compiler Setup</a>
<a href=../../user_guide/external_mode.html class=nav-link>External Mode</a>
<a href=../../user_guide/pil_testing.html class=nav-link>PIL Testing</a></div></div><div class=nav-section id=section-block-reference><a href=../../block_reference/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("block-reference"),!0'><span><span class=icon>🧩</span>Block Reference</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("block-reference"),!1'>▶</span></a><div class=nav-section-children><div class=nav-subsection id=section-pwm><a href=../../block_reference/pwm_io/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("pwm"),!0'><span><span class=icon>⚡</span>PWM</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("pwm"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/pwm_io/pwm.html class=nav-block-link>PWM</a>
<a href=../../block_reference/pwm_io/pwm_highspeed.html class=nav-block-link>PWM High-Speed</a>
<a href=../../block_reference/pwm_io/pwm_hs_fep.html class=nav-block-link>PWM HS FEP</a>
<a href=../../block_reference/pwm_io/pwm_highspeed_override.html class=nav-block-link>PWM HS Override</a>
<a href=../../block_reference/pwm_io/mcpwm.html class=nav-block-link>MCPWM (PIC32)</a>
<a href=../../block_reference/pwm_io/pwm_sam7x.html class=nav-block-link>PWM SAM7x</a>
<a href=../../block_reference/pwm_io/pwm_sam7x_override.html class=nav-block-link>PWM SAM7x Override</a>
<a href=../../block_reference/pwm_io/tcc_pwm.html class=nav-block-link>TCC PWM (SAM)</a></div></div><div class=nav-subsection id=section-timers><a href=../../block_reference/timers/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("timers"),!0'><span><span class=icon>⏱️</span>Timers</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("timers"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/timers/timer_config.html class=nav-block-link>Timer Config</a>
<a href=../../block_reference/timers/timer_pil_profiling.html class=nav-block-link>PIL Profiling Timer</a></div></div><div class=nav-subsection id=section-capture-compare><a href=../../block_reference/capture_compare/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("capture-compare"),!0'><span><span class=icon>📏</span>Input Capture / Output Compare</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("capture-compare"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/capture_compare/input_capture.html class=nav-block-link>Input Capture</a>
<a href=../../block_reference/capture_compare/output_compare_hw.html class=nav-block-link>Output Compare (HW)</a>
<a href=../../block_reference/capture_compare/output_compare_sw.html class=nav-block-link>Output Compare (SW)</a></div></div><div class=nav-subsection id=section-adc><a href=../../block_reference/adc/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("adc"),!0'><span><span class=icon>📊</span>ADC</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("adc"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/adc/adc.html class=nav-block-link>ADC (dsPIC)</a>
<a href=../../block_reference/adc/adc_hs_12b.html class=nav-block-link>ADC HS 12-bit</a>
<a href=../../block_reference/adc/adc_highspeed_sar.html class=nav-block-link>ADC High-Speed SAR</a>
<a href=../../block_reference/adc/adc_highspeed_sar_dspic.html class=nav-block-link>ADC HS SAR (dsPIC)</a>
<a href=../../block_reference/adc/adc_same5x.html class=nav-block-link>ADC (SAM E5x)</a>
<a href=../../block_reference/adc/adc_samrh707x.html class=nav-block-link>ADC (SAMRH707x)</a>
<a href=../../block_reference/adc/afec_sam7x.html class=nav-block-link>AFEC (SAM7x)</a></div></div><div class=nav-subsection id=section-communication><a href=../../block_reference/communication/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("communication"),!0'><span><span class=icon>📡</span>Communication</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("communication"),!1'>▶</span></a><div class=nav-section-children><div class=nav-subsection id=section-uart><a href=../../block_reference/communication.html#uart-blocks class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("uart"),!0'><span><span class=icon></span>UART</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("uart"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/communication/uart/uart_config.html class=nav-block-link>UART Config</a>
<a href=../../block_reference/communication/uart/uart_tx.html class=nav-block-link>UART Tx</a>
<a href=../../block_reference/communication/uart/uart_rx.html class=nav-block-link>UART Rx</a>
<a href=../../block_reference/communication/uart/uart_txmatlab.html class=nav-block-link>UART Tx MATLAB</a>
<a href=../../block_reference/communication/uart/uart_break_and_autobaud.html class=nav-block-link>UART Break & Autobaud</a></div></div><div class=nav-subsection id=section-can><a href=../../block_reference/communication.html#can-blocks class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("can"),!0'><span><span class=icon></span>CAN</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("can"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/communication/can/can_config.html class=nav-block-link>CAN Config</a>
<a href=../../block_reference/communication/can/can_tx.html class=nav-block-link>CAN Tx</a>
<a href=../../block_reference/communication/can/can_rx.html class=nav-block-link>CAN Rx</a></div></div><a href=../../block_reference/communication/i2c.html class=nav-block-link>I2C Master/Slave</a>
<a href=../../block_reference/communication/spi.html class=nav-block-link>SPI Master/Slave</a></div></div><div class=nav-subsection id=section-digital-io><a href=../../block_reference/digital_io/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("digital-io"),!0'><span><span class=icon>🔌</span>Digital I/O</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("digital-io"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/digital_io/digital_input.html class=nav-block-link>Digital Input</a>
<a href=../../block_reference/digital_io/digital_output.html class=nav-block-link>Digital Output</a>
<a href=../../block_reference/digital_io/digital_output_read.html class=nav-block-link>Digital Output Read</a>
<a href=../../block_reference/digital_io/digital_output_write.html class=nav-block-link>Digital Output Write</a></div></div><div class=nav-subsection id=section-encoders><a href=../../block_reference/encoders/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("encoders"),!0'><span><span class=icon>🔄</span>Encoders</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("encoders"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/encoders_counters/qei.html class=nav-block-link>QEI (Quadrature Encoder)</a>
<a href=../../block_reference/encoders_counters/pdec.html class=nav-block-link>PDEC (SAM)</a>
<a href=../../block_reference/encoders_counters/qdec_samx.html class=nav-block-link>QDEC (SAM)</a>
<a href=../../block_reference/encoders_counters/change_notification.html class=nav-block-link>Change Notification</a></div></div><div class=nav-subsection id=section-analog-io><a href=../../block_reference/analog_io/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("analog-io"),!0'><span><span class=icon>📉</span>Analog I/O</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("analog-io"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/analog_io/dac_samx.html class=nav-block-link>DAC (SAM)</a>
<a href=../../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html class=nav-block-link>High-Speed Comparator</a>
<a href=../../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html class=nav-block-link>Comparator w/ Slope</a>
<a href=../../block_reference/analog_io/comparator_opamps_volt_ref/op_amp.html class=nav-block-link>Op-Amp</a>
<a href=../../block_reference/analog_io/comparator_opamps_volt_ref/pga.html class=nav-block-link>PGA (Programmable Gain Amp)</a></div></div><div class=nav-subsection id=section-system-config><a href=../../block_reference/system_configuration/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("system-config"),!0'><span><span class=icon>⚙️</span>System Config</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("system-config"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/system_configuration/master.html class=nav-block-link>Master</a>
<a href=../../block_reference/system_configuration/interrupt.html class=nav-block-link>Interrupt</a>
<a href=../../block_reference/system_configuration/compiler_options.html class=nav-block-link>Compiler Options</a>
<a href=../../block_reference/system_configuration/scheduler_options.html class=nav-block-link>Scheduler Options</a>
<a href=../../block_reference/system_configuration/idle_task.html class=nav-block-link>Idle Task</a>
<a href=../../block_reference/system_configuration/mcu_load.html class=nav-block-link>MCU Load</a>
<a href=../../block_reference/system_configuration/mcu_overload.html class=nav-block-link>MCU Overload</a>
<a href=../../block_reference/system_configuration/tasks_state.html class=nav-block-link>Tasks State</a>
<a href=../../block_reference/system_configuration/secondary_core.html class=nav-block-link>Secondary Core</a></div></div><div class=nav-subsection id=section-utility><a href=../../block_reference/utility/index.html class=nav-subsection-title onclick='return event.stopPropagation(),toggleSection("utility"),!0'><span><span class=icon>🔧</span>Utility Blocks</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("utility"),!1'>▶</span></a><div class=nav-section-children><a href=../../block_reference/user_functions/c_function_call.html class=nav-block-link>C Function Call</a>
<a href=../../block_reference/utility/doc.html class=nav-block-link>Documentation Block</a>
<a href=../../block_reference/utility/msi.html class=nav-block-link>MSI (Model Sample Info)</a>
<a href=../../block_reference/utility/port_info.html class=nav-block-link>Port Info</a>
<a href=../../block_reference/utility/timer_info.html class=nav-block-link>Timer Info</a>
<a href=../../block_reference/utility/simulink_reset_config.html class=nav-block-link>Simulink Reset Config</a></div></div></div></div><div class=nav-section id=section-examples><a href=../../examples/index.html class=nav-section-title onclick='return event.stopPropagation(),toggleSection("examples"),!0'><span><span class=icon>📖</span>Examples</span>
<span class=toggle-icon onclick='return event.preventDefault(),event.stopPropagation(),toggleSection("examples"),!1'>▶</span></a><div class=nav-section-children><a href=../../examples/field_weakening.html class=nav-link>Field Weakening</a></div></div><div class=nav-section id=section-github><a href=https://github.com/microchip-technology/mplab-blocksetindex.html class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>💻</span>GitHub</span></a></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=../../index.html>Home</a>
<span>></span>
<a href=../../block_reference/pwm_io/index.html>PWM</a>
<span>></span>
<span>PWM HS FEP</span></div><div class=under-construction-banner><span class=icon>⚠️</span>
<strong>Documentation Under Construction</strong> —
This documentation is currently being developed. All information has not been validated by Microchip yet.</div><div class=page-header><h1>PWM HS FEP</h1><div class=page-header-right><img src=../../images/microchip-logo.png alt="Microchip Logo" class=microchip-logo>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>☀️</span>
<span id=theme-text>Light</span></button></div></div><div class=block-icon-container><div class=block-icon-image><picture><source srcset=../../images/blocks/pwm/PWM_HS_FEP.svg type=image/svg+xml><source srcset=../../images/blocks/pwm/PWM_HS_FEP_hu_595104f6f0e9206a.webp type=image/webp><img src=../../images/blocks/pwm/PWM_HS_FEP.png alt="Pwm Hs Fep Block Icon"></picture></div><div class=block-icon-description>This advanced PWM peripheral is specifically designed for precision motor control, high-frequency power conversion, and applications demanding superior timing accuracy and reduced total harmonic distortion (THD).</div></div><h2 id=quick-reference>Quick Reference</h2><table><thead><tr><th>Application</th><th>Key Settings</th><th>Device Example</th></tr></thead><tbody><tr><td><strong>3-Phase Motor Control (HiRES)</strong></td><td><code>ClockResolution: "no scaling"</code><br><code>ECAM: "Center aligned - Symmetric"</code><br><code>Channels: [1 2 3]</code></td><td>dsPIC33AK512MPS512<br>(14-bit resolution @ 50kHz)</td></tr><tr><td><strong>Interleaved DC-DC Converter</strong></td><td><code>Channels: [1 2 3 4]</code><br><code>PhaseShift: [0, T/4, T/2, 3T/4]</code><br><code>ECAM: "Edge aligned"</code></td><td>dsPIC33CK256MP508<br>(800kHz effective ripple)</td></tr><tr><td><strong>Synchronized ADC Sampling</strong></td><td><code>SEVTCMP: 0</code> (valley trigger)<br><code>PWM→ADC→Task</code> timing<br><code>Center aligned PWM</code></td><td>Any dsPIC33A/C<br>(Noise-free current sensing)</td></tr><tr><td><strong>EMI Spread Spectrum</strong></td><td><code>ECAM: "Asymmetric - double update"</code><br><code>Dynamic duty cycle modulation</code></td><td>dsPIC33AK (V4)<br>(Harmonic spreading)</td></tr></tbody></table><p>⚠️ <strong>Critical for HiRES Mode</strong>: Must use <code>"no scaling"</code> clock option - dividers/scalers disable High-Resolution mode!</p><h2 id=supported-device-families>Supported Device Families</h2><table><thead><tr><th>Family</th><th>Representative Chips</th><th>TLC Variant</th><th>HiRES Support</th><th>PWM Synthesis Freq</th></tr></thead><tbody><tr><td>dsPIC33C</td><td>(Andromeda)</td><td>33CK64MC105</td><td>33CK512MP608</td><td>33CK1024MP710</td></tr><tr><td>dsPIC33A</td><td>(Perseus)</td><td>33AK128MC106</td><td>V3_STX04</td><td>(Perseus)</td></tr><tr><td>dsPIC33A</td><td>(Pegasus)</td><td>(Serpens)</td><td>(BlueRidge)</td><td>33AK512MPS512</td></tr></tbody></table><h3 id=peripheral-module-mapping>Peripheral Module Mapping</h3><table><thead><tr><th>Family</th><th>DOS Module</th><th>Description</th></tr></thead><tbody><tr><td>dsPIC33C</td><td>DOS_01483_pwm_16bit</td><td>16-bit PWM with HREN capability</td></tr><tr><td>dsPIC33A (V3)</td><td>DOS_04302_pwm_pc_upb_v3_dspic33a</td><td>32-bit PWM, no HiRES (Perseus)</td></tr><tr><td>dsPIC33A (V4)</td><td>DOS_05226_pwm_pc_upb_v4_dspic33a</td><td>32-bit PWM with HiRES (Pegasus, Serpens, BlueRidge)</td></tr></tbody></table><h2 id=key-features>Key Features</h2><table><thead><tr><th>Feature</th><th>33C WAC07</th><th>33A V3 (STX04)</th><th>33A V4 (STX32/21)</th><th>Benefits</th></tr></thead><tbody><tr><td>HiRES Mode</td><td>✅ YES</td><td>❌ NO</td><td>✅ YES</td><td>16× enhanced resolution</td></tr><tr><td>Max Channels</td><td>Variable</td><td>Variable</td><td>12 max (STX32)</td><td>8 max (STX21)</td></tr><tr><td>Register Width</td><td>16-bit</td><td>32-bit</td><td>32-bit</td><td>Overflow protection</td></tr><tr><td>Dead Time</td><td>✅ YES</td><td>✅ YES</td><td>✅ YES</td><td>Motor drive safety</td></tr><tr><td>ADC Triggers</td><td>✅ YES</td><td>✅ YES</td><td>✅ YES</td><td>Synchronized sampling</td></tr><tr><td>Master/Slave</td><td>✅ YES</td><td>✅ YES</td><td>✅ YES</td><td>Multi-channel coordination</td></tr></tbody></table><h2 id=high-resolution-mode-critical-requirements>High-Resolution Mode Critical Requirements</h2><h3 id=-mandatory-high-resolution-mode-constraints>⚠️ MANDATORY High-Resolution Mode Constraints</h3><p><strong>Reference:</strong> <a href=https://www.microchip.com/DS70005320>DS70005320 - dsPIC33/PIC24 Family Reference Manual - High-Resolution PWM with Fine Edge Placement</a>, Section 4.1.3 - &ldquo;High-Resolution PWM with Fine Edge Placement&rdquo;</p><h4 id=primary-restriction-all-families>Primary Restriction (ALL Families):</h4><p><strong>&ldquo;High-Resolution mode CANNOT be used with frequency scaling or the clock divider.&rdquo;</strong></p><h4 id=required-configuration-for-hires-mode-hren1>Required Configuration for HiRES Mode (HREN=1):</h4><ul><li><p><strong>CLKSEL[1:0] bits</strong> (PGxCONL[4:3]) MUST be set to <code>'01'</code></p></li><li><p>This selects <code>pwm_master_clk</code> DIRECTLY (no divider/scaling)</p></li><li><p><strong>pwm_master_clk frequency requirements:</strong></p></li><li><p><strong>dsPIC33C:</strong> MUST be 500 MHz for High-Resolution mode</p></li><li><p><strong>dsPIC33A:</strong> Refer to device datasheet timing requirements</p></li><li><p>STX32: 800 MHz typical</p></li><li><p>STX21: 400 MHz typical</p></li></ul><h3 id=clksel-bit-mapping-and-hires-compatibility>CLKSEL Bit Mapping and HiRES Compatibility</h3><table><thead><tr><th>CLKSEL[1:0]</th><th>Clock Path</th><th>HiRES Compatible?</th><th>User Option</th></tr></thead><tbody><tr><td>00</td><td>Off (no clock)</td><td>❌ NO</td><td>Not applicable</td></tr><tr><td>01</td><td>Direct (master clock)</td><td>✅ YES</td><td>&ldquo;no scaling&rdquo;</td></tr><tr><td>10</td><td>Divider circuit</td><td>❌ NO (FORBIDDEN)</td><td>&ldquo;Use divider circuit&rdquo; (no PLL)</td></tr><tr><td>11</td><td>Scaling circuit</td><td>❌ NO (FORBIDDEN)</td><td>&ldquo;Use scaling circuit&rdquo; (no PLL)</td></tr></tbody></table><h3 id=additional-high-resolution-constraints>Additional High-Resolution Constraints</h3><table><thead><tr><th>Constraint</th><th>Applies To</th><th>Reference</th></tr></thead><tbody><tr><td>Dual PWM mode cannot be used with Complementary Output in HiRES</td><td>All families (HREN=1)</td><td><a href=https://www.microchip.com/DS70005320>DS70005320 - dsPIC33/PIC24 Family Reference Manual - High-Resolution PWM with Fine Edge Placement</a>, Sect. 4.1.3</td></tr><tr><td>Minimum duty cycle:</td><td>0x0020</td><td>(vs.</td></tr><tr><td>Minimum period:</td><td>0x0080</td><td>(vs.</td></tr><tr><td>Some register LSBs forced to 0 (PGxLEB, PGxPHASE, etc.)</td><td>All families (HREN=1)</td><td><a href=https://www.microchip.com/DS70005320>DS70005320 - dsPIC33/PIC24 Family Reference Manual - High-Resolution PWM with Fine Edge Placement</a>, Sect. 4.1.3.1</td></tr></tbody></table><h2 id=configuration-parameters>Configuration Parameters</h2><h3 id=clock-configuration>Clock Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>PWMx_ClockResolution</td><td>Clock source and resolution mode</td><td>•</td></tr><tr><td>PWMx_ECAM_ITB</td><td>Time base and alignment mode</td><td>• Edge aligned</td></tr></tbody></table><h3 id=pwm-generator-configuration>PWM Generator Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>PWM_Channels</td><td>Array of enabled PWM generator numbers (e.g., [1 2 3] for 3-phase motor)</td></tr><tr><td>Period_Config</td><td>Period value configuration (constant or block input)</td></tr><tr><td>DutyCycle_Config</td><td>Duty cycle configuration per channel</td></tr><tr><td>PhaseShift</td><td>Phase shift values for interleaved operation</td></tr></tbody></table><h3 id=dead-time-and-protection>Dead Time and Protection</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>DTC</td><td>Dead Time Control mode:</td></tr><tr><td>DeadTime_High</td><td>Dead-time for high-side transitions (seconds)</td></tr><tr><td>DeadTime_Low</td><td>Dead-time for low-side transitions (seconds)</td></tr></tbody></table><h3 id=trigger-and-synchronization>Trigger and Synchronization</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>SEVTCMP</td><td>Special Event Compare value for primary ADC trigger</td></tr><tr><td>TRIGx</td><td>Additional trigger outputs (up to 3 per generator)</td></tr><tr><td>MasterPWM</td><td>Master PWM generator selection for multi-channel sync</td></tr></tbody></table><h2 id=block-inputsoutputs>Block Inputs/Outputs</h2><h3 id=variable-block-inputs>Variable Block Inputs</h3><p>Inputs are dynamically configured based on enabled options:</p><ul><li><code>Period</code> (uint16/uint32) - If period input enabled</li><li><code>DutyCycle 1..N</code> (uint16/uint32) - For each enabled channel</li><li><code>PhaseShift 1..N</code> (uint16/uint32) - If phase shift input enabled</li><li><code>SEVTCMP</code> (uint16/uint32) - If dynamic special event trigger enabled</li><li><code>TRIGx 1..N</code> (uint16/uint32) - If dynamic trigger values enabled</li><li><code>DeadTimeH/L 1..N</code> (uint16) - If dynamic dead-time enabled</li></ul><h3 id=variable-block-outputs>Variable Block Outputs</h3><ul><li><code>Trigger 1..N</code> (boolean) - Trigger output signals</li><li><code>Status</code> (uint16) - PWM status information (if enabled)</li></ul><h2 id=implementation-details>Implementation Details</h2><h3 id=automatic-family-detection>Automatic Family Detection</h3><p>The block automatically detects the chip family and selects the appropriate TLC implementation:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% TLC file selection logic:</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>if</span> MCHP<span style=color:#1f2328>.</span>modsrc<span style=color:#1f2328>.</span>DOS_01483_pwm_16bit
</span></span><span style=display:flex><span>    <span style=color:#57606a>% Use V1_WAC07_Andromeda.tlc (dsPIC33C)</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>elseif</span> MCHP<span style=color:#1f2328>.</span>modsrc<span style=color:#1f2328>.</span>DOS_04302_pwm_pc_upb_v3_dspic33a
</span></span><span style=display:flex><span>    <span style=color:#57606a>% Use V3_STX04_Perseus.tlc (dsPIC33A V3, no HiRES)</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>elseif</span> MCHP<span style=color:#1f2328>.</span>modsrc<span style=color:#1f2328>.</span>DOS_05226_pwm_pc_upb_v4_dspic33a
</span></span><span style=display:flex><span>    <span style=color:#57606a>% Use V4_STX32_21_33_Pegasus-Serpens-BlueRidge.tlc (dsPIC33A V4, HiRES)</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>end</span>
</span></span></code></pre></div><h3 id=32-bit-overflow-protection>32-bit Overflow Protection</h3><p>For 16-bit register families (dsPIC33C), the block uses 32-bit arithmetic internally to prevent overflow during calculations, then saturates to 16-bit before register writes.</p><h3 id=hires-resolution-calculation>HiRES Resolution Calculation</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Standard PWM resolution:</span>
</span></span><span style=display:flex><span>Standard_Resolution <span style=color:#1f2328>=</span> <span style=color:#6639ba>log2</span><span style=color:#1f2328>(</span>FCY <span style=color:#0550ae>/</span> <span style=color:#1f2328>(</span>Prescaler <span style=color:#0550ae>*</span> f_PWM<span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% HiRES mode (16× enhancement):</span>
</span></span><span style=display:flex><span>HiRES_Resolution <span style=color:#1f2328>=</span> <span style=color:#6639ba>log2</span><span style=color:#1f2328>(</span><span style=color:#0550ae>16</span> <span style=color:#0550ae>*</span> FCY <span style=color:#0550ae>/</span> <span style=color:#1f2328>(</span>Prescaler <span style=color:#0550ae>*</span> f_PWM<span style=color:#1f2328>));</span>
</span></span><span style=display:flex><span>HiRES_Resolution <span style=color:#1f2328>=</span> Standard_Resolution <span style=color:#0550ae>+</span> <span style=color:#0550ae>4</span> bits<span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Example: 100 kHz PWM, FCY = 100 MHz:</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Standard: log2(100e6/100e3) = 10 bits</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% HiRES:    log2(16*100e6/100e3) = 14 bits</span>
</span></span></code></pre></div><h2 id=usage-examples>Usage Examples</h2><h3 id=example-1-high-precision-3-phase-motor-control-hires-mode>Example 1: High-Precision 3-Phase Motor Control (HiRES Mode)</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Target: dsPIC33AK512MPS512 (Pegasus)</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% PWM frequency: 50 kHz</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% HiRES enabled for maximum resolution</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Configuration:</span>
</span></span><span style=display:flex><span>PWMx_ClockResolution <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;no scaling&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% MANDATORY for HiRES</span>
</span></span><span style=display:flex><span>PWM_Channels <span style=color:#1f2328>=</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>1</span> <span style=color:#0550ae>2</span> <span style=color:#0550ae>3</span><span style=color:#1f2328>];</span>                <span style=color:#57606a>% 3-phase motor</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center aligned - Symmetric - Enhanced resolution&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>DTC <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Positive dead time&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>DeadTime_High <span style=color:#1f2328>=</span> <span style=color:#0550ae>1e-6</span><span style=color:#1f2328>;</span>                  <span style=color:#57606a>% 1 µs</span>
</span></span><span style=display:flex><span>DeadTime_Low <span style=color:#1f2328>=</span> <span style=color:#0550ae>1e-6</span><span style=color:#1f2328>;</span>                   <span style=color:#57606a>% 1 µs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Result: 14-bit duty cycle resolution</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Ultra-low THD for smooth torque control</span>
</span></span></code></pre></div><h3 id=example-2-interleaved-boost-converter-phase-shift>Example 2: Interleaved Boost Converter (Phase Shift)</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Target: dsPIC33CK256MP508 (Andromeda)</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% 4 interleaved phases for ripple reduction</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Configuration:</span>
</span></span><span style=display:flex><span>PWM_Channels <span style=color:#1f2328>=</span> <span style=color:#1f2328>[</span><span style=color:#0550ae>1</span> <span style=color:#0550ae>2</span> <span style=color:#0550ae>3</span> <span style=color:#0550ae>4</span><span style=color:#1f2328>];</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Edge aligned - Independent time base&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Period <span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#0550ae>/</span><span style=color:#0550ae>200e3</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 200 kHz per phase</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Phase shifts (90° electrical):</span>
</span></span><span style=display:flex><span>PhaseShift_1 <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>PhaseShift_2 <span style=color:#1f2328>=</span> Period<span style=color:#0550ae>/</span><span style=color:#0550ae>4</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>PhaseShift_3 <span style=color:#1f2328>=</span> Period<span style=color:#0550ae>/</span><span style=color:#0550ae>2</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>PhaseShift_4 <span style=color:#1f2328>=</span> <span style=color:#0550ae>3</span><span style=color:#0550ae>*</span>Period<span style=color:#0550ae>/</span><span style=color:#0550ae>4</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Effective output ripple frequency: 4 × 200 kHz = 800 kHz</span>
</span></span></code></pre></div><h3 id=example-3-dual-adc-sampling-symmetric-center-aligned>Example 3: Dual ADC Sampling (Symmetric Center-Aligned)</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Sample at PWM valley and peak for dual current measurement</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Configuration:</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center aligned - Symmetric&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Period <span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#0550ae>/</span><span style=color:#0550ae>20e3</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 20 kHz</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger 1: Valley (up-count complete)</span>
</span></span><span style=display:flex><span>SEVTCMP <span style=color:#1f2328>=</span> Period<span style=color:#0550ae>/</span><span style=color:#0550ae>2</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% At peak of center-aligned PWM</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger 2: Peak (down-count complete)</span>
</span></span><span style=display:flex><span>TRIG2 <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% At valley of center-aligned PWM</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% ADC block configuration:</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - ADC1 triggered by SEVTCMP</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - ADC2 triggered by TRIG2</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - Captures both peak and valley currents</span>
</span></span></code></pre></div><h3 id=example-4-asymmetric-center-aligned-thd-optimization>Example 4: Asymmetric Center-Aligned (THD Optimization)</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Use asymmetric center-aligned for harmonic shaping</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Configuration:</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center aligned - Asymmetric with double update&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Period <span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#0550ae>/</span><span style=color:#0550ae>30e3</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 30 kHz</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Two duty cycle values per PWM cycle:</span>
</span></span><span style=display:flex><span>DutyCycle_Up <span style=color:#1f2328>=</span> <span style=color:#0550ae>0.48</span><span style=color:#1f2328>;</span>    <span style=color:#57606a>% During up-count</span>
</span></span><span style=display:flex><span>DutyCycle_Down <span style=color:#1f2328>=</span> <span style=color:#0550ae>0.52</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% During down-count</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Applications:</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - Spread spectrum modulation (EMI reduction)</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - Active harmonic cancellation</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - Ripple steering in multi-phase systems</span>
</span></span></code></pre></div><h2 id=pwm-adc-synchronization>PWM-ADC Synchronization</h2><p>Proper synchronization between PWM generation and ADC sampling is critical for motor control and power conversion applications. The PWM module can trigger ADC conversions at precise timing points, ensuring current measurements occur when switching noise is minimal.</p><h3 id=scheduler-trigger-options>Scheduler Trigger Options</h3><p>The MCHP Blockset supports multiple strategies for triggering the control algorithm execution, each with specific advantages:</p><h4 id=option-1-timer-based-trigger-baseline>Option 1: Timer-Based Trigger (Baseline)</h4><p><strong>Configuration:</strong></p><ul><li>Independent timer generates periodic interrupts</li><li>ADC and PWM operate independently</li><li>Control algorithm executes at fixed timer rate</li></ul><p><strong>Use Cases:</strong></p><ul><li>Simple periodic control loops without strict timing requirements</li><li>Applications where ADC/PWM timing flexibility is needed</li><li>Testing and debugging (easy to change rates independently)</li></ul><p><strong>Limitations:</strong></p><ul><li>No guaranteed synchronization between PWM switching and ADC sampling</li><li>Risk of sampling during PWM transitions (switching noise corruption)</li><li>Separate timer consumes additional hardware resources</li></ul><h4 id=option-2-timer--adc--task-improved-synchronization>Option 2: Timer → ADC → Task (Improved Synchronization)</h4><p><strong>Configuration:</strong></p><ul><li>Timer triggers ADC conversion start</li><li>ADC end-of-conversion triggers control task execution</li><li>Control algorithm executes immediately when sensor data is ready</li></ul><p><strong>Advantages:</strong></p><ul><li><strong>Deterministic latency</strong>: Task starts exactly when ADC conversion completes</li><li><strong>Data freshness</strong>: Control algorithm uses most recent measurements</li><li><strong>Reduced jitter</strong>: Eliminates polling overhead</li></ul><p><strong>Use Cases:</strong></p><ul><li>Applications requiring precise timing between measurement and computation</li><li>Multi-rate control systems with independent ADC timing</li><li>Systems where PWM frequency differs from control loop frequency</li></ul><h4 id=option-3-pwm--adc--task-motor-control-standard>Option 3: PWM → ADC → Task (Motor Control Standard)</h4><p><strong>Configuration:</strong></p><ul><li>PWM Special Event Trigger (SEVTCMP) starts ADC conversion</li><li>ADC end-of-conversion triggers control task execution</li><li>Control algorithm calculates new PWM duty cycle for next period</li></ul><p><strong>Key Benefits for Motor Control:</strong></p><ul><li><strong>Optimal sampling timing</strong>: Sample when PWM low-side FET is ON (minimizes switching noise)</li><li><strong>Synchronized to PWM period</strong>: Control rate automatically matches PWM frequency</li><li><strong>Phase current sensing</strong>: Sample during current flow through shunt resistor</li><li><strong>Hardware coordination</strong>: No software overhead for synchronization</li></ul><p><strong>Typical SEVTCMP Timing (Center-Aligned PWM):</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% For center-aligned PWM, sample at valley (maximum current flow)</span>
</span></span><span style=display:flex><span>SEVTCMP <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Trigger at PWM valley</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Alternative: Sample at peak</span>
</span></span><span style=display:flex><span>SEVTCMP <span style=color:#1f2328>=</span> Period<span style=color:#1f2328>;</span>  <span style=color:#57606a>% Trigger at PWM peak</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% For edge-aligned PWM, sample mid-period</span>
</span></span><span style=display:flex><span>SEVTCMP <span style=color:#1f2328>=</span> Period<span style=color:#0550ae>/</span><span style=color:#0550ae>2</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Trigger at 50% duty cycle point</span>
</span></span></code></pre></div><p><strong>Use Cases:</strong></p><ul><li><strong>Field-Oriented Control (FOC)</strong>: Phase current measurement for Clarke/Park transforms</li><li><strong>BLDC motor control</strong>: Commutation with synchronized sensing</li><li><strong>DC-DC converters</strong>: Inductor current sensing during ON-time</li><li><strong>Inverter control</strong>: Output current monitoring synchronized to switching</li></ul><h4 id=option-4-pwm--multiple-adc-triggers--task-advanced>Option 4: PWM → Multiple ADC Triggers → Task (Advanced)</h4><p><strong>Configuration:</strong></p><ul><li>Multiple trigger points within single PWM period</li><li>SEVTCMP + TRIG1/TRIG2 enable sequential ADC conversions</li><li>Different sampling phases for comprehensive measurement</li><li>Control task executes after all conversions complete</li></ul><p><strong>Advanced Use Cases:</strong></p><ul><li><p><strong>3-Phase motor control</strong>: Sample each phase current at different PWM timing</p></li><li><p>SEVTCMP: Phase A current (PWM valley)</p></li><li><p>TRIG1: Phase B current (25% into period)</p></li><li><p>TRIG2: Phase C current (75% into period)</p></li><li><p><strong>Dual current sensing</strong>: Capture both rising and falling edge currents for average calculation</p></li><li><p><strong>Multi-level inverters</strong>: Sample at different switching states</p></li><li><p><strong>Ripple analysis</strong>: Capture peak and valley for DC-link ripple measurement</p></li></ul><p><strong>Configuration Example (3-Phase FOC):</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% PWM Configuration:</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center aligned - Symmetric&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Period <span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#0550ae>/</span><span style=color:#0550ae>20e3</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 20 kHz PWM</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% Trigger Configuration:</span>
</span></span><span style=display:flex><span>SEVTCMP <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>              <span style=color:#57606a>% Trigger ADC1 at PWM valley (Phase A)</span>
</span></span><span style=display:flex><span>TRIG1 <span style=color:#1f2328>=</span> Period<span style=color:#0550ae>/</span><span style=color:#0550ae>4</span><span style=color:#1f2328>;</span>         <span style=color:#57606a>% Trigger ADC2 at 25% (Phase B)</span>
</span></span><span style=display:flex><span>TRIG2 <span style=color:#1f2328>=</span> <span style=color:#0550ae>3</span><span style=color:#0550ae>*</span>Period<span style=color:#0550ae>/</span><span style=color:#0550ae>4</span><span style=color:#1f2328>;</span>       <span style=color:#57606a>% Trigger ADC3 at 75% (Phase C)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#57606a>% ADC Configuration:</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - ADC1 (Channel 0): Phase A current, triggered by SEVTCMP</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - ADC2 (Channel 1): Phase B current, triggered by TRIG1</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - ADC3 (Channel 2): Phase C current, triggered by TRIG2</span>
</span></span><span style=display:flex><span><span style=color:#57606a>% - All three conversions complete before control task executes</span>
</span></span></code></pre></div><h3 id=synchronization-best-practices>Synchronization Best Practices</h3><pre><code>        Always use PWM → ADC → Task for motor control applications
        Set SEVTCMP timing carefully:
            
                Center-aligned: Sample at valley (SEVTCMP = 0) for maximum current amplitude
                Edge-aligned: Sample mid-period (SEVTCMP = Period/2) to avoid edges
            
        
        Account for ADC conversion time: Ensure conversion completes before next PWM event
        Match base sample time: Simulink base time step = PWM period (ensures proper code generation)
        Verify trigger timing: Use Task State block to measure execution timing on oscilloscope
</code></pre><h3 id=common-synchronization-issues-and-solutions>Common Synchronization Issues and Solutions</h3><table><thead><tr><th>Issue</th><th>Symptom</th><th>Solution</th></tr></thead><tbody><tr><td>Noisy current measurements</td><td>High-frequency spikes in ADC readings</td><td>• Move SEVTCMP away from PWM edge transitions</td></tr><tr><td>Task overrun</td><td>MCU Load > 100%, control instability</td><td>• Reduce PWM frequency (increase period)</td></tr><tr><td>Incorrect trigger timing</td><td>ADC samples at wrong point in PWM cycle</td><td>• Verify SEVTCMP value calculation</td></tr><tr><td>Phase current mismatch</td><td>Sum of phase currents ≠ 0 (Kirchhoff violation)</td><td>• Synchronize all phase current ADC triggers to same PWM point</td></tr></tbody></table><h3 id=implementation-in-simulink-model>Implementation in Simulink Model</h3><p><strong>Step-by-Step Configuration:</strong></p><ul><li><strong>Configure PWM Block</strong>:</li></ul><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% In PWM_HS_FEP block dialog:</span>
</span></span><span style=display:flex><span>PWMx_ECAM_ITB <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Center aligned - Symmetric&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Period <span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#0550ae>/</span><span style=color:#0550ae>20e3</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% 20 kHz</span>
</span></span><span style=display:flex><span>SEVTCMP_Config <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Constant&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>SEVTCMP_Value <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Sample at valley</span>
</span></span></code></pre></div><ul><li><strong>Configure ADC Block</strong>:</li></ul><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% In ADC block dialog:</span>
</span></span><span style=display:flex><span>Trigger_Source <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;PWM Special Event&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>PWM_Trigger_Select <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;PWM1 SEVTCMP&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Match PWM generator</span>
</span></span><span style=display:flex><span>Sample_Time <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Inherited&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Triggers set ADC rate</span>
</span></span></code></pre></div><ul><li><strong>Set Simulink Solver</strong>:</li></ul><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#57606a>% Configuration Parameters → Solver:</span>
</span></span><span style=display:flex><span>Solver <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Fixed-step&#39;</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>Fixed_step_size <span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#0550ae>/</span><span style=color:#0550ae>20e3</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% Match PWM period</span>
</span></span><span style=display:flex><span>Tasking_mode <span style=color:#1f2328>=</span> <span style=color:#0a3069>&#39;Multitasking&#39;</span><span style=color:#1f2328>;</span>  <span style=color:#57606a>% For rate monotonic scheduler</span>
</span></span></code></pre></div><ul><li><strong>Verify Timing</strong>:</li><li>Add Task State block to monitor control loop execution</li><li>Add MCU Load block to verify CPU utilization &lt; 80%</li><li>Build and test on hardware with oscilloscope</li></ul><h2 id=troubleshooting>Troubleshooting</h2><h3 id=hires-mode-not-working>HiRES Mode Not Working</h3><p><strong>Checklist:</strong></p><ul><li>✅ <code>PWMx_ClockResolution</code> set to <code>"no scaling"</code> (MANDATORY)</li><li>✅ pwm_master_clk configured correctly (500 MHz for 33C, per datasheet for 33A)</li><li>✅ Period and duty cycle values meet minimum requirements (0x0080 period, 0x0020 duty)</li><li>✅ Not using dual PWM + complementary output mode (incompatible with HiRES)</li></ul><h3 id=invalid-clock-configuration-error>Invalid Clock Configuration Error</h3><p><strong>Error:</strong> &ldquo;HiRES mode cannot be used with divider or scaling circuit&rdquo;
<strong>Solution:</strong> Change <code>PWMx_ClockResolution</code> to <code>"no scaling"</code>. The divider and scaling circuits are incompatible with High-Resolution mode per <a href=https://www.microchip.com/DS70005320>DS70005320 - dsPIC33/PIC24 Family Reference Manual - High-Resolution PWM with Fine Edge Placement</a> Section 4.1.3.</p><h3 id=backward-compatibility-warning>Backward Compatibility Warning</h3><h3 id=duty-cycle-saturation>Duty Cycle Saturation</h3><p><strong>Cause:</strong> HiRES mode has higher minimum duty cycle than standard mode.</p><p><strong>Solution:</strong> Ensure duty cycle commands ≥ 0x0020. For very low duty cycles, use standard resolution mode.</p><h2 id=related-blocks>Related Blocks</h2><ul><li><a href=pwm_highspeed.html><strong>MCHP_PWM_HighSpeed</strong></a> - High-speed PWM for dsPIC33C/CH/CK (older variant)</li><li><a href=pwm.html><strong>MCHP_PWM</strong></a> - Standard PWM for dsPIC30F/33F/33E</li><li><a href=mcpwm.html><strong>MCHP_MCPWM</strong></a> - Motor Control PWM (advanced features)</li><li><a href=../adc/adc.html><strong>MCHP_ADC</strong></a> - ADC with PWM trigger synchronization</li><li><a href=../system_configuration/master.html><strong>MCHP_Master</strong></a> - Master block for clock configuration</li></ul><h2 id=see-also>See Also</h2><h3 id=datasheets>Datasheets</h3><ul><li><a href=https://www.microchip.com/DS70005320>DS70005320 - dsPIC33/PIC24 Family Reference Manual - High-Resolution PWM with Fine Edge Placement</a></li><li><a href=https://www.microchip.com/DS70005591>DS70005591 - dsPIC33AK512MPS512 Family Datasheet</a></li><li><a href=https://www.microchip.com/DS70005539>DS70005539 - dsPIC33AK128MC106 Family Datasheet</a></li><li><a href=https://www.microchip.com/DS70005349>DS70005349 - dsPIC33CK256MP508 Family Datasheet</a></li></ul><div class=nav-footer><p>Last updated: October 2025 | MPLAB Blockset Documentation</p><p>&copy; 2025 Microchip Technology Incorporated and its subsidiaries</p><p style=font-size:10px;margin-top:8px;line-height:1.4>The "Microchip" name and logo, the "M" logo, and other names, logos, and brands are registered
and unregistered trademarks of Microchip Technology Incorporated or its affiliates and/or
subsidiaries in the United States and/or other countries ("Microchip Trademarks"). Information
regarding Microchip Trademarks can be found at
<a href=https://www.microchip.com/en-us/about/legal-information/microchip-trademarks target=_blank style=color:var(--accent-primary)>https://www.microchip.com/en-us/about/legal-information/microchip-trademarks</a>.</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
☰</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="🌙",n.textContent="Dark"):(t.textContent="☀️",n.textContent="Light")}(function(){const n=localStorage.getItem("theme"),s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}}),window.toggleSection=function(e){const t=document.getElementById("section-"+e);if(t&&(t.classList.toggle("expanded"),t.classList.contains("nav-section"))){const n=getExpandedSections();t.classList.contains("expanded")?n.add(e):n.delete(e),localStorage.setItem("expandedSections",JSON.stringify([...n]))}};function getExpandedSections(){const e=localStorage.getItem("expandedSections");return new Set(e?JSON.parse(e):[])}function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;if(n===e){t.classList.add("active");const n=t.closest(".nav-subsection");n&&!n.classList.contains("expanded")&&n.classList.add("expanded");const e=t.closest(".nav-section");if(e&&!e.classList.contains("expanded")){e.classList.add("expanded");const n=e.id.replace("section-",""),t=getExpandedSections();t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t]))}}})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage();const t=document.querySelector(".nav-link.active");if(t){const e=t.closest(".nav-section");if(e&&e.id){const n=e.id.replace("section-",""),t=getExpandedSections();t.has(n)||(t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t])))}}}()</script></body></html>