<!doctype html><html lang=en><head><title>PWM Blocks - MPLAB Blockset for MATLAB/Simulink</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Microchip Blockset for MATLAB/Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/pwm_io.html><link rel=icon type=image/x-icon href=../favicon.ico><style>:root{--bg-primary:#f8f9fa;--bg-secondary:white;--bg-tertiary:#f8f9fa;--text-primary:#2c3e50;--text-secondary:#666;--text-tertiary:#6c757d;--text-heading:#003d5c;--border-color:#dee2e6;--border-light:#e1e8ed;--border-medium:#e9ecef;--accent-primary:#0076A8;--accent-secondary:#005a85;--accent-hover:#005580;--accent-light:#e3f2fd;--code-bg:#f4f4f4;--code-text:#c7254e;--pre-bg:linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);--pre-border:#d0d0d0;--table-hover:#e3f2fd;--table-stripe:#f8f9fa;--note-bg:linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);--note-border:#2196F3;--note-text:#1976D2;--warning-bg:linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);--warning-border:#ff9800;--warning-text:#f57c00;--shadow-sm:0 2px 4px rgba(0,0,0,0.05);--shadow-md:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 2px 12px rgba(0,0,0,0.08)}[data-theme=dark]{--bg-primary:#1a1d23;--bg-secondary:#242831;--bg-tertiary:#2d3139;--text-primary:#e4e6eb;--text-secondary:#adb5bd;--text-tertiary:#8b95a1;--text-heading:#e4e6eb;--border-color:#3a3f4b;--border-light:#3a3f4b;--border-medium:#404654;--accent-primary:#4da6d6;--accent-secondary:#3d8ab5;--accent-hover:#60b4e0;--accent-light:#2d4556;--code-bg:#2d3139;--code-text:#ff6b9d;--pre-bg:linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);--pre-border:#3a3f4b;--table-hover:#2d4556;--table-stripe:#2d3139;--note-bg:linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);--note-border:#4da6d6;--note-text:#66b3e0;--warning-bg:linear-gradient(to right, #3d3520 0%, #3d3520 100%);--warning-border:#ffb347;--warning-text:#ffc870;--shadow-sm:0 2px 4px rgba(0,0,0,0.3);--shadow-md:0 2px 8px rgba(0,0,0,0.4);--shadow-lg:0 2px 12px rgba(0,0,0,0.5)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:8px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:8px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:55px}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-secondary);margin-bottom:16px;padding:10px 14px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover)}.breadcrumbs span{margin:0 8px;color:var(--text-tertiary)}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:transparent;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:table;width:100%;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;margin:24px 0;padding:20px;box-shadow:var(--shadow-md);table-layout:fixed}.block-icon-image{display:table-cell;width:220px;vertical-align:middle;padding-right:20px}.block-icon-image img{width:200px;height:auto;display:block}.block-icon-description{display:table-cell;vertical-align:middle;font-size:16px;line-height:1.7;color:var(--text-primary)}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","name":"PWM Blocks","description":"Microchip Blockset for MATLAB\/Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/block_reference\/pwm_io.html","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-16","dateModified":"2025-10-16","inLanguage":"en-US"}</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><h2 class=sidebar-title>MPLAB Blockset</h2></div><div class=sidebar-nav><div class=nav-section><a href=../ class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>🏠</span>Home</span></a></div><div class=nav-section id=section-getting-started><div class=nav-section-title onclick='toggleSection("getting-started")'><span><span class=icon>🚀</span>Getting Started</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../getting_started/overview.html class=nav-link>Overview</a>
<a href=../getting_started/installation.html class=nav-link>Installation</a>
<a href=../getting_started/quick_start.html class=nav-link>Quick Start Guide</a>
<a href=../getting_started/board_templates.html class=nav-link>Board Templates</a>
<a href=../getting_started/motor_control_examples.html class=nav-link>Motor Control Examples</a>
<a href=../getting_started/scheduler_multitasking.html class=nav-link>Scheduler & Multitasking</a>
<a href=../getting_started/external_mode_pil.html class=nav-link>External Mode & PIL</a>
<a href=../getting_started/data_visualization.html class=nav-link>Data Visualization</a>
<a href=../getting_started/supported_devices.html class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-user-guide><div class=nav-section-title onclick='toggleSection("user-guide")'><span><span class=icon>📚</span>User Guide</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../user_guide/code_generation.html class=nav-link>Code Generation</a>
<a href=../user_guide/compiler_setup.html class=nav-link>Compiler Setup</a>
<a href=../user_guide/external_mode.html class=nav-link>External Mode</a>
<a href=../user_guide/pil_testing.html class=nav-link>PIL Testing</a></div></div><div class=nav-section id=section-block-reference><div class=nav-section-title onclick='toggleSection("block-reference")'><span><span class=icon>🧩</span>Block Reference</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><div class=nav-subsection id=section-pwm-timers><div class=nav-subsection-title onclick='toggleSection("pwm-timers")'><span><span class=icon>⚡</span>PWM & Timers</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/pwm_io/pwm.html class=nav-block-link>PWM</a>
<a href=../block_reference/pwm_io/pwm_highspeed.html class=nav-block-link>PWM High-Speed</a>
<a href=../block_reference/pwm_io/pwm_hs_fep.html class=nav-block-link>PWM HS FEP</a>
<a href=../block_reference/pwm_io/pwm_highspeed_override.html class=nav-block-link>PWM HS Override</a>
<a href=../block_reference/pwm_io/mcpwm.html class=nav-block-link>MCPWM (PIC32)</a>
<a href=../block_reference/pwm_io/pwm_sam7x.html class=nav-block-link>PWM SAM7x</a>
<a href=../block_reference/pwm_io/pwm_sam7x_override.html class=nav-block-link>PWM SAM7x Override</a>
<a href=../block_reference/pwm_io/tcc_pwm.html class=nav-block-link>TCC PWM (SAM)</a></div></div><div class=nav-subsection id=section-timers><div class=nav-subsection-title onclick='toggleSection("timers")'><span><span class=icon>⏱️</span>Timers</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/timers/timer_config.html class=nav-block-link>Timer Config</a>
<a href=../block_reference/timers/input_capture.html class=nav-block-link>Input Capture</a>
<a href=../block_reference/timers/output_compare_hw.html class=nav-block-link>Output Compare (HW)</a>
<a href=../block_reference/timers/output_compare_sw.html class=nav-block-link>Output Compare (SW)</a>
<a href=../block_reference/timers/timer_pil_profiling.html class=nav-block-link>PIL Profiling Timer</a></div></div><div class=nav-subsection id=section-adc><div class=nav-subsection-title onclick='toggleSection("adc")'><span><span class=icon>📊</span>ADC</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/adc/adc.html class=nav-block-link>ADC (dsPIC)</a>
<a href=../block_reference/adc/adc_hs_12b.html class=nav-block-link>ADC HS 12-bit</a>
<a href=../block_reference/adc/adc_highspeed_sar.html class=nav-block-link>ADC High-Speed SAR</a>
<a href=../block_reference/adc/adc_highspeed_sar_dspic.html class=nav-block-link>ADC HS SAR (dsPIC)</a>
<a href=../block_reference/adc/adc_same5x.html class=nav-block-link>ADC (SAM E5x)</a>
<a href=../block_reference/adc/adc_samrh707x.html class=nav-block-link>ADC (SAMRH707x)</a>
<a href=../block_reference/adc/afec_sam7x.html class=nav-block-link>AFEC (SAM7x)</a></div></div><div class=nav-subsection id=section-communication><div class=nav-subsection-title onclick='toggleSection("communication")'><span><span class=icon>📡</span>Communication</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><div class=nav-subsection id=section-uart><div class=nav-subsection-title onclick='toggleSection("uart")'><span><span class=icon></span>UART</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/communication/uart/uart_config.html class=nav-block-link>UART Config</a>
<a href=../block_reference/communication/uart/uart_tx.html class=nav-block-link>UART Tx</a>
<a href=../block_reference/communication/uart/uart_rx.html class=nav-block-link>UART Rx</a>
<a href=../block_reference/communication/uart/uart_txmatlab.html class=nav-block-link>UART Tx MATLAB</a>
<a href=../block_reference/communication/uart/uart_break_and_autobaud.html class=nav-block-link>UART Break & Autobaud</a></div></div><div class=nav-subsection id=section-can><div class=nav-subsection-title onclick='toggleSection("can")'><span><span class=icon></span>CAN</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/communication/can/can_config.html class=nav-block-link>CAN Config</a>
<a href=../block_reference/communication/can/can_tx.html class=nav-block-link>CAN Tx</a>
<a href=../block_reference/communication/can/can_rx.html class=nav-block-link>CAN Rx</a></div></div><a href=../block_reference/communication/i2c.html class=nav-block-link>I2C Master/Slave</a>
<a href=../block_reference/communication/spi.html class=nav-block-link>SPI Master/Slave</a></div></div><div class=nav-subsection id=section-digital-io><div class=nav-subsection-title onclick='toggleSection("digital-io")'><span><span class=icon>🔌</span>Digital I/O</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/digital_io/digital_input.html class=nav-block-link>Digital Input</a>
<a href=../block_reference/digital_io/digital_output.html class=nav-block-link>Digital Output</a>
<a href=../block_reference/digital_io/digital_output_read.html class=nav-block-link>Digital Output Read</a>
<a href=../block_reference/digital_io/digital_output_write.html class=nav-block-link>Digital Output Write</a></div></div><div class=nav-subsection id=section-encoders><div class=nav-subsection-title onclick='toggleSection("encoders")'><span><span class=icon>🔄</span>Encoders</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/encoders_counters/qei.html class=nav-block-link>QEI (Quadrature Encoder)</a>
<a href=../block_reference/encoders_counters/pdec.html class=nav-block-link>PDEC (SAM)</a>
<a href=../block_reference/encoders_counters/qdec_samx.html class=nav-block-link>QDEC (SAM)</a>
<a href=../block_reference/encoders_counters/change_notification.html class=nav-block-link>Change Notification</a></div></div><div class=nav-subsection id=section-analog-io><div class=nav-subsection-title onclick='toggleSection("analog-io")'><span><span class=icon>📉</span>Analog I/O</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html class=nav-block-link>High-Speed Comparator</a>
<a href=../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html class=nav-block-link>Comparator w/ Slope</a>
<a href=../block_reference/analog_io/comparator_opamps_volt_ref/op_amp.html class=nav-block-link>Op-Amp</a>
<a href=../block_reference/analog_io/comparator_opamps_volt_ref/pga.html class=nav-block-link>PGA (Programmable Gain Amp)</a>
<a href=../block_reference/analog_io/dac_samx.html class=nav-block-link>DAC (SAM)</a></div></div><div class=nav-subsection id=section-system-config><div class=nav-subsection-title onclick='toggleSection("system-config")'><span><span class=icon>⚙️</span>System Config</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/system_configuration/master.html class=nav-block-link>Master</a>
<a href=../block_reference/system_configuration/interrupt.html class=nav-block-link>Interrupt</a>
<a href=../block_reference/system_configuration/compiler_options.html class=nav-block-link>Compiler Options</a>
<a href=../block_reference/system_configuration/scheduler_options.html class=nav-block-link>Scheduler Options</a>
<a href=../block_reference/system_configuration/idle_task.html class=nav-block-link>Idle Task</a>
<a href=../block_reference/system_configuration/mcu_load.html class=nav-block-link>MCU Load</a>
<a href=../block_reference/system_configuration/mcu_overload.html class=nav-block-link>MCU Overload</a>
<a href=../block_reference/system_configuration/tasks_state.html class=nav-block-link>Tasks State</a>
<a href=../block_reference/system_configuration/secondary_core.html class=nav-block-link>Secondary Core</a></div></div><div class=nav-subsection id=section-utility><div class=nav-subsection-title onclick='toggleSection("utility")'><span><span class=icon>🔧</span>Utility Blocks</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/user_functions/c_function_call.html class=nav-block-link>C Function Call</a>
<a href=../block_reference/utility/doc.html class=nav-block-link>Documentation Block</a>
<a href=../block_reference/utility/msi.html class=nav-block-link>MSI (Model Sample Info)</a>
<a href=../block_reference/utility/port_info.html class=nav-block-link>Port Info</a>
<a href=../block_reference/utility/timer_info.html class=nav-block-link>Timer Info</a>
<a href=../block_reference/utility/simulink_reset_config.html class=nav-block-link>Simulink Reset Config</a></div></div></div></div><div class=nav-section id=section-examples><div class=nav-section-title onclick='toggleSection("examples")'><span><span class=icon>📖</span>Examples</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../examples/field_weakening.html class=nav-link>Field Weakening</a></div></div><div class=nav-section id=section-github><a href=https://github.com/microchip-technology/mplab-blockset class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>💻</span>GitHub</span></a></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=../>Home</a>
<span>></span>
<a href=../block_reference.html>Block Reference</a>
<span>></span>
<span>PWM Blocks</span></div><div class=under-construction-banner><span class=icon>⚠️</span>
<strong>Documentation Under Construction</strong> —
This documentation is currently being developed. All information has not been validated by Microchip yet.</div><div class=page-header><h1>PWM Blocks</h1><div class=page-header-right><img src=../images/microchip-logo.png alt="Microchip Logo" class=microchip-logo>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>☀️</span>
<span id=theme-text>Light</span></button></div></div><h1>PWM Blocks</h1><p>Pulse Width Modulation peripheral blocks</p><h2><a href=../block_reference/pwm_io/mcpwm.html>MCPWM</a></h2><div class=block-icon-container><picture class=block-icon-image><source srcset=../assets/images/blocks/pwm/MCPWM.svg type=image/svg+xml><img src=../assets/images/blocks/pwm/MCPWM.png alt="Mcpwm Block Icon"></picture><div class=block-icon-description>MCPWM (Motor Control PWM) offers enhanced features beyond standard PWM blocks, including programmable fault sources with digital comparator inputs, leading-edge blanking, dead-time compensation modes, and extensive trigger output capabilities for ADC synchronization.</div></div><h2 id=supported-device-families>Supported Device Families</h2><table><thead><tr><th>Family</th><th>Representative Devices</th><th>Key Features</th></tr></thead><tbody><tr><td>PIC32MK</td><td>PIC32MK MCJ/MCM/MCA families</td><td>Full MCPWM with digital comparators, advanced fault handling</td></tr><tr><td>dsPIC33C (selected)</td><td>33CH, 33CK families with MCPWM</td><td>High-speed MCPWM, multiple fault sources</td></tr><tr><td>dsPIC33A</td><td>Latest 33A families</td><td>Enhanced MCPWM with fine edge placement</td></tr></tbody></table><h2 id=key-features>Key Features</h2><h2 id=configuration-parameters>Configuration Parameters</h2><h3 id=time-base-and-alignment>Time Base and Alignment</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>PWMx_ECAM_ITB</td><td>PWM mode selection</td><td>• Edge aligned</td></tr></tbody></table><h3 id=dead-time-configuration>Dead Time Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>DTC</td><td>Dead Time Control mode</td><td>• Disabled</td></tr><tr><td>DTH_xxx</td><td>Dead-time high-side (per PWM)</td><td>Time in seconds</td></tr><tr><td>DTL_xxx</td><td>Dead-time low-side (per PWM)</td><td>Time in seconds</td></tr><tr><td>DTCMPSEL</td><td>Dead-time compensation select</td><td>Comparator source for compensation mode</td></tr></tbody></table><h3 id=fault-configuration>Fault Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>FLTSRCx</td><td>Fault source selection for each PWM generator:</td></tr><tr><td>FLTSRC1..12_DTCMP</td><td>Digital comparator assignment for dead-time compensation per PWM</td></tr><tr><td>FaultMode</td><td>Fault response mode:</td></tr><tr><td>FaultState</td><td>Output state during fault: All Low, All High, High-Z, or custom</td></tr></tbody></table><h3 id=leading-edge-blanking-leb>Leading-Edge Blanking (LEB)</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>LEB_Enable</td><td>Enable leading-edge blanking for fault inputs</td></tr><tr><td>LEB_Duration</td><td>Blanking time after PWM edge transition (ignores fault during switching noise)</td></tr><tr><td>LEB_Trigger</td><td>Trigger source: Rising edge PWMxH, Falling edge PWMxH, or PWMxL edges</td></tr></tbody></table><h3 id=trigger-outputs>Trigger Outputs</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>TRIG1..3</td><td>Up to 3 trigger outputs per PWM generator for ADC/DAC synchronization</td></tr><tr><td>SEVTCMP</td><td>Special event compare for primary ADC trigger</td></tr><tr><td>TriggerInterrupt</td><td>Enable interrupt on trigger events</td></tr></tbody></table><h2 id=pwm-adc-synchronization>PWM-ADC Synchronization</h2><p>Proper synchronization between PWM generation and ADC sampling is critical for motor control and power conversion applications. The MCPWM block provides multiple trigger outputs (<code>TRIG1..3</code>, <code>SEVTCMP</code>) to precisely coordinate ADC conversions with PWM waveform timing.</p><h2><a href=../block_reference/pwm_io/pwm.html>PWM</a></h2><div class=block-icon-container><picture class=block-icon-image><source srcset=../assets/images/blocks/pwm/PWM.svg type=image/svg+xml><img src=../assets/images/blocks/pwm/PWM.png alt="Pwm Block Icon"></picture><div class=block-icon-description>The PWM block supports up to 4 complementary PWM channel pairs with independent duty cycle control, dead-time insertion, fault protection, and special event triggers for ADC synchronization.</div></div><h2 id=supported-device-families>Supported Device Families</h2><table><thead><tr><th>Family</th><th>Devices</th><th>Features</th></tr></thead><tbody><tr><td>dsPIC30F</td><td>All dsPIC30F devices with PWM module</td><td>Basic PWM, Dead-time A, Fault A</td></tr><tr><td>dsPIC33F</td><td>All dsPIC33F devices with PWM module</td><td>Basic PWM, Dead-time A, Fault A</td></tr><tr><td>dsPIC33E</td><td>dsPIC33EP devices with standard PWM</td><td>Enhanced PWM, Dead-time A/B, Fault A/B</td></tr></tbody></table><h2 id=key-features>Key Features</h2><h2 id=configuration-parameters>Configuration Parameters</h2><h3 id=pwm-reference>PWM Reference</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Values</th></tr></thead><tbody><tr><td>PWM_REF</td><td>PWM peripheral reference (visible only if multiple PWM modules available)</td><td>1, 2, or Duplicate Ports for PWM x</td></tr></tbody></table><h3 id=basic-configuration>Basic Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>InitialPeriod</td><td>PWM period in seconds (max depends on prescaler and clock)</td><td>100e-6 (100 µs)</td></tr><tr><td>CAM</td><td>Center Aligned Mode (on/off)</td><td>off</td></tr><tr><td>IUE</td><td>Immediate Update Enable (on/off)</td><td>off</td></tr><tr><td>Channel</td><td>Enabled PWM channels (Low side)</td><td>[1 2 3 4]</td></tr><tr><td>ChannelHigh</td><td>Enabled PWM channels (High side, if separate control)</td><td>[1 2 3 4]</td></tr></tbody></table><h3 id=dead-time-configuration>Dead Time Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Range</th></tr></thead><tbody><tr><td>DeadTimePrescaleA</td><td>Dead-time duration for Prescaler A in seconds</td><td>0 to max (depends on clock)</td></tr><tr><td>DeadTimePrescaleB</td><td>Dead-time duration for Prescaler B in seconds (dsPIC33E only)</td><td>0 to max (depends on clock)</td></tr><tr><td>DTPWMxa/i</td><td>Select Prescaler A or B for each PWM channel (active/inactive side)</td><td>Prescaler A / Prescaler B</td></tr></tbody></table><h3 id=fault-protection>Fault Protection</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>FAULTA_FLATM</td><td>Fault A mode</td><td>• Fault cleared automatically</td></tr><tr><td>FaultA_PWMx_State</td><td>PWM output state during Fault A</td><td>• Disabled</td></tr><tr><td>PIN_FaultA</td><td>Fault A input pin (for remappable devices)</td><td>Pin selection popup</td></tr></tbody></table><h3 id=special-event-trigger>Special Event Trigger</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>PxSECMP</td><td>Special event trigger time in seconds (typically for ADC sampling point)</td></tr><tr><td>PxSECMPBlkInChk</td><td>Enable block input for dynamic event trigger control (on/off)</td></tr></tbody></table><h2 id=pwm-adc-synchronization>PWM-ADC Synchronization</h2><p>The standard PWM block provides a Special Event Trigger (<code>PxSECMP</code> / <code>SEVTCMP</code>) to synchronize ADC sampling with PWM generation. This is essential for accurate current and voltage sensing in motor control and power conversion applications.</p><h2><a href=../block_reference/pwm_io/pwm_highspeed.html>PWM HighSpeed</a></h2><div class=block-icon-container><picture class=block-icon-image><source srcset=../assets/images/blocks/pwm/PWM_HS.svg type=image/svg+xml><img src=../assets/images/blocks/pwm/PWM_HS.png alt="Pwm Highspeed Block Icon"></picture><div class=block-icon-description>This block is designed for demanding motor control and power conversion applications requiring precise timing, independent channel control, and high switching frequencies.</div></div><h2 id=supported-device-families>Supported Device Families</h2><table><thead><tr><th>Family</th><th>Masksets</th><th>Key Features</th></tr></thead><tbody><tr><td>dsPIC33F (selected)</td><td>DOS_00958_pwm_TLAH</td><td>DOS_00958_pwm_TLAY</td></tr><tr><td>dsPIC33EP (GS)</td><td>DOS_00958_pwm_TLAH</td><td>DOS_00958_pwm_TLAY</td></tr><tr><td>dsPIC33C/CH/CK</td><td>Various (WAC, WBH masksets)</td><td>Full-featured high-speed PWM, independent time bases</td></tr></tbody></table><h2 id=key-features>Key Features</h2><h2 id=output-modes>Output Modes</h2><table><thead><tr><th>Mode</th><th>Description</th><th>Use Case</th></tr></thead><tbody><tr><td>Complementary</td><td>PWMxH and PWMxL are complementary with dead-time insertion</td><td>Standard motor drive, half-bridge converters</td></tr><tr><td>Redundant</td><td>PWMxH and PWMxL output identical signals</td><td>Parallel drive, increased current capability</td></tr><tr><td>Push-Pull</td><td>PWMxH and PWMxL alternate (no dead-time)</td><td>Push-pull converters, full-bridge DC-DC</td></tr><tr><td>Independent</td><td>PWMxH and PWMxL operate independently</td><td>Dual independent loads, asymmetric control</td></tr></tbody></table><h2 id=configuration-parameters>Configuration Parameters</h2><h3 id=panel-1-basic-configuration>Panel 1: Basic Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td>pop1</td><td>PWM output mode</td><td>1=Complementary, 2=Redundant, 3=Push-Pull, 4=Independent</td></tr><tr><td>ITB</td><td>Independent Time Base</td><td>0=Master period for all, 1=Independent period per PWM pair</td></tr><tr><td>MDCS</td><td>Master Duty Cycle Select</td><td>0=Independent duty cycle, 1=Master duty cycle</td></tr><tr><td>CAM</td><td>Center Aligned Mode</td><td>0=Edge-aligned, 1=Center-aligned</td></tr><tr><td>IUE</td><td>Immediate Update Enable</td><td>0=Synchronized update, 1=Immediate update</td></tr><tr><td>DBL_UPDATE</td><td>Double Update Mode</td><td>Enable asymmetric center-aligned PWM (2 duty cycle values)</td></tr><tr><td>chkHL1</td><td>Output Enable</td><td>Select which PWMxH and PWMxL outputs are enabled</td></tr><tr><td>maxP1</td><td>Maximum Period</td><td>Array of maximum period values in seconds for each PWM</td></tr></tbody></table><h3 id=panel-2-period-and-duty-cycle>Panel 2: Period and Duty Cycle</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>InitP2</td><td>Initial period values (seconds). Scalar for master, array for independent</td></tr><tr><td>chkP2</td><td>Enable period block inputs (0=constant, 1=variable via input port)</td></tr><tr><td>InitDC</td><td>Initial duty cycle values (%). Can be [single] or [val1 val2] for double update</td></tr><tr><td>chkDC</td><td>Enable duty cycle block inputs per channel</td></tr></tbody></table><h3 id=panel-3-dead-time-configuration>Panel 3: Dead Time Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>DTH</td><td>Dead-time for high-side transitions (seconds). One value per enabled PWM</td></tr><tr><td>DTL</td><td>Dead-time for low-side transitions (seconds). One value per enabled PWM</td></tr></tbody></table><h3 id=panel-4-trigger-configuration>Panel 4: Trigger Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>TrigOut</td><td>Trigger output configuration for ADC/DAC sync. Format: [PWM# TrigPoint]</td></tr><tr><td>TrigOutBlkIn</td><td>Enable block input for dynamic trigger control</td></tr></tbody></table><h2 id=block-inputs>Block Inputs</h2><table><thead><tr><th>Input</th><th>Type</th><th>Condition</th><th>Description</th></tr></thead><tbody><tr><td>Period</td><td>uint16 or uint16[]</td><td>chkP2 = 1</td><td>Period value(s). Scalar if ITB=0, vector if ITB=1</td></tr><tr><td>DutyCycle 1..N</td><td>uint16 or uint16[2]</td><td>chkDC = 1</td><td>Duty cycle values. Single value or [val1 val2] for double update</td></tr><tr><td>Trigger 1..N</td><td>uint16</td><td>TrigOutBlkIn = 1</td><td>Dynamic trigger point values</td></tr><tr><td>DeadTimeH 1..N</td><td>uint16</td><td>Optional</td><td>Dynamic dead-time high (if enabled)</td></tr><tr><td>DeadTimeL 1..N</td><td>uint16</td><td>Optional</td><td>Dynamic dead-time low (if enabled)</td></tr></tbody></table><h2 id=block-outputs>Block Outputs</h2><table><thead><tr><th>Output</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Trigger 1..N</td><td>boolean</td><td>Trigger output signals (for custom synchronization logic)</td></tr><tr><td>PWM Status</td><td>uint16</td><td>Optional status output (if enabled)</td></tr></tbody></table><h2 id=clock-configuration>Clock Configuration</h2><h3 id=auxiliary-clock-apll---dspic33ep-gs-only>Auxiliary Clock (APLL) - dsPIC33EP GS Only</h3><p>For devices with DOS_00958_pwm_TLAH or DOS_00958_pwm_TLAY:</p><h2><a href=../block_reference/pwm_io/pwm_highspeed_override.html>PWM HighSpeed Override</a></h2><div class=block-icon-container><picture class=block-icon-image><source srcset=../assets/images/blocks/pwm/PWM_HS_Override.svg type=image/svg+xml><img src=../assets/images/blocks/pwm/PWM_HS_Override.png alt="Pwm Highspeed Override Block Icon"></picture><div class=block-icon-description>The override block works in conjunction with the <strong>MCHP_PWM_HighSpeed</strong> block and can force PWM outputs to specific logic levels regardless of the PWM generator state. <strong>Important:</strong> Override control should be used with extreme caution in motor control applications, as improper use can cause hardware damage or create hazardous conditions. ## Supported Device Families This block supports the same device families as MCHP_PWM_HighSpeed: - <strong>dsPIC33F (selected)</strong> - with high-speed PWM module - <strong>dsPIC33EP (GS)</strong> - with auxiliary clock support - <strong>dsPIC33C/CH/CK</strong> - full-featured implementations</div></div><h2 id=key-features>Key Features</h2><ul><li>Direct control of PWM output pins (PWMxH and PWMxL)</li><li>Individual or grouped override control</li><li>Override enable/disable per channel</li><li>Synchronization with PWM generator (optional)</li><li>Support for safe state configuration</li><li>Runtime override value modification</li></ul><h2 id=configuration-parameters>Configuration Parameters</h2><h3 id=override-channel-selection>Override Channel Selection</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Values</th></tr></thead><tbody><tr><td>OverrideChannels</td><td>Select which PWM channels are controlled by override</td><td>Vector of channel numbers [1 2 3 &mldr;]</td></tr><tr><td>OverrideMode</td><td>Override application mode</td><td>• Individual (per channel control)</td></tr></tbody></table><h3 id=override-state-configuration>Override State Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Values</th></tr></thead><tbody><tr><td>DefaultState_H</td><td>Default state for high-side outputs when override active</td><td>0 (Low), 1 (High)</td></tr><tr><td>DefaultState_L</td><td>Default state for low-side outputs when override active</td><td>0 (Low), 1 (High)</td></tr><tr><td>SyncMode</td><td>Synchronization with PWM timebase</td><td>• Immediate (override applied immediately)</td></tr></tbody></table><h2 id=block-inputs>Block Inputs</h2><h3 id=individual-override-mode>Individual Override Mode</h3><table><thead><tr><th>Input</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Override_En 1..N</td><td>boolean</td><td>Enable override for channel N (1=override active, 0=normal PWM)</td></tr><tr><td>Override_H 1..N</td><td>boolean</td><td>High-side output state when override enabled for channel N</td></tr><tr><td>Override_L 1..N</td><td>boolean</td><td>Low-side output state when override enabled for channel N</td></tr></tbody></table><h3 id=grouped-override-mode>Grouped Override Mode</h3><table><thead><tr><th>Input</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Override_En</td><td>boolean</td><td>Enable override for all selected channels</td></tr><tr><td>Override_Value</td><td>uint16</td><td>Bitfield: override state for all channels</td></tr></tbody></table><h2 id=block-outputs>Block Outputs</h2><table><thead><tr><th>Output</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Override_Status</td><td>uint16</td><td>Current override register value (IOCONx.OVRDAT bits)</td></tr><tr><td>Override_Active</td><td>boolean</td><td>Indicates if any override is currently active</td></tr></tbody></table><h2 id=implementation-details>Implementation Details</h2><h3 id=hardware-registers>Hardware Registers</h3><p>The override block configures the following registers:</p><h2><a href=../block_reference/pwm_io/pwm_hs_fep.html>PWM HS FEP</a></h2><div class=block-icon-container><picture class=block-icon-image><source srcset=../assets/images/blocks/pwm/PWM_HS_FEP.svg type=image/svg+xml><img src=../assets/images/blocks/pwm/PWM_HS_FEP.png alt="Pwm Hs Fep Block Icon"></picture><div class=block-icon-description>This advanced PWM peripheral is specifically designed for precision motor control, high-frequency power conversion, and applications demanding superior timing accuracy and reduced total harmonic distortion (THD).</div></div><h2 id=quick-reference>Quick Reference</h2><table><thead><tr><th>Application</th><th>Key Settings</th><th>Device Example</th></tr></thead><tbody><tr><td><strong>3-Phase Motor Control (HiRES)</strong></td><td><code>ClockResolution: "no scaling"</code><br><code>ECAM: "Center aligned - Symmetric"</code><br><code>Channels: [1 2 3]</code></td><td>dsPIC33AK512MPS512<br>(14-bit resolution @ 50kHz)</td></tr><tr><td><strong>Interleaved DC-DC Converter</strong></td><td><code>Channels: [1 2 3 4]</code><br><code>PhaseShift: [0, T/4, T/2, 3T/4]</code><br><code>ECAM: "Edge aligned"</code></td><td>dsPIC33CK256MP508<br>(800kHz effective ripple)</td></tr><tr><td><strong>Synchronized ADC Sampling</strong></td><td><code>SEVTCMP: 0</code> (valley trigger)<br><code>PWM→ADC→Task</code> timing<br><code>Center aligned PWM</code></td><td>Any dsPIC33A/C<br>(Noise-free current sensing)</td></tr><tr><td><strong>EMI Spread Spectrum</strong></td><td><code>ECAM: "Asymmetric - double update"</code><br><code>Dynamic duty cycle modulation</code></td><td>dsPIC33AK (V4)<br>(Harmonic spreading)</td></tr></tbody></table><p>⚠️ <strong>Critical for HiRES Mode</strong>: Must use <code>"no scaling"</code> clock option - dividers/scalers disable High-Resolution mode!</p><h2><a href=../block_reference/pwm_io/pwm_sam7x.html>PWM SAM7x</a></h2><div class=block-icon-container><picture class=block-icon-image><source srcset=../assets/images/blocks/pwm/PWM_SAMx7.svg type=image/svg+xml><img src=../assets/images/blocks/pwm/PWM_SAMx7.png alt="Pwm Sam7X Block Icon"></picture><div class=block-icon-description>| Family | Examples | Features | |&mdash;|&mdash;|&mdash;| | SAME5x | SAME54, SAME53, SAME51 | Up to 4 PWM channels, 120 MHz, TCC peripherals | | SAME7x | SAME70, SAMS70, SAMV71 | Up to 8 PWM channels, 300 MHz, advanced PWM features | | SAMC2x | SAMC21, SAMC20 | Up to 4 PWM channels, 48 MHz, motor control optimized | | SAMD2x | SAMD21, SAMD20 | Up to 3 PWM channels, 48 MHz, compact implementation |</div></div><h2 id=supported-device-families>Supported Device Families</h2><ul><li><strong>SAM E70</strong></li><li><strong>SAM S70</strong></li><li><strong>SAM V70</strong></li><li><strong>SAM V71</strong></li></ul><h2 id=key-features>Key Features</h2><ul><li>Complementary PWM output pairs with dead-time</li><li>Independent period and duty cycle control</li><li>Center-aligned and edge-aligned modes</li><li>Fault input with configurable response</li><li>Pattern generation for BLDC commutation</li><li>Synchronized PWM update</li><li>Dynamic dead-time adjustment</li></ul><h2 id=configuration-parameters>Configuration Parameters</h2><h3 id=basic-configuration>Basic Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>PWM_Channels</td><td>Enabled PWM channel numbers (e.g., [0 1 2 3])</td></tr><tr><td>PWM_Mode</td><td>Edge-aligned or Center-aligned</td></tr><tr><td>Period</td><td>PWM period (constant or input)</td></tr><tr><td>DutyCycle_Init</td><td>Initial duty cycle values</td></tr></tbody></table><h3 id=dead-time>Dead Time</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>DeadTime_Enable</td><td>Enable dead-time insertion</td></tr><tr><td>DeadTimeH</td><td>Dead-time for high-side output (seconds)</td></tr><tr><td>DeadTimeL</td><td>Dead-time for low-side output (seconds)</td></tr></tbody></table><h2 id=block-inputsoutputs>Block Inputs/Outputs</h2><h3 id=inputs>Inputs</h3><table><thead><tr><th>Input</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Period</td><td>Variable</td><td>Optional period input (if enabled)</td></tr><tr><td>DutyCycle 0..N</td><td>Variable</td><td>Duty cycle per enabled channel</td></tr><tr><td>DeadTimeH 0..N</td><td>uint16</td><td>Dynamic high-side dead-time (if enabled)</td></tr><tr><td>DeadTimeL 0..N</td><td>uint16</td><td>Dynamic low-side dead-time (if enabled)</td></tr></tbody></table><h3 id=outputs>Outputs</h3><table><thead><tr><th>Output</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Fault_Status</td><td>boolean</td><td>Fault condition indicator (if fault enabled)</td></tr></tbody></table><h2 id=usage-example>Usage Example</h2><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#998;font-style:italic>% SAME70 3-phase motor control:</span>
</span></span><span style=display:flex><span>PWM_Channels = [<span style=color:#099>0</span> <span style=color:#099>1</span> <span style=color:#099>2</span>];
</span></span><span style=display:flex><span>PWM_Mode = <span style=color:#d14>&#39;Center-aligned&#39;</span>;
</span></span><span style=display:flex><span>Period = <span style=color:#099>1</span><span style=color:#000;font-weight:700>/</span><span style=color:#099>20e3</span>;  <span style=color:#998;font-style:italic>% 20 kHz</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>% Dead-time:</span>
</span></span><span style=display:flex><span>DeadTime_Enable = <span style=color:#d14>&#39;on&#39;</span>;
</span></span><span style=display:flex><span>DeadTimeH = [<span style=color:#099>1e-6</span> <span style=color:#099>1e-6</span> <span style=color:#099>1e-6</span>];  <span style=color:#998;font-style:italic>% 1 µs each phase</span>
</span></span><span style=display:flex><span>DeadTimeL = [<span style=color:#099>1e-6</span> <span style=color:#099>1e-6</span> <span style=color:#099>1e-6</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>% Connect duty cycle inputs from FOC algorithm</span>
</span></span></code></pre></div><h2 id=related-blocks>Related Blocks</h2><ul><li><a href=pwm_sam7x_override.html><strong>MCHP_PWM_SAM7x_Override</strong></a> - Override control for SAM7x PWM</li><li><a href=tcc_pwm.html><strong>MCHP_TCC_PWM</strong></a> - TCC-based PWM for SAME5x/SAMC2x</li><li><strong>MCHP_ADC_SAM</strong> - SAM ADC with PWM synchronization</li></ul><h2><a href=../block_reference/pwm_io/pwm_sam7x_override.html>PWM SAM7x Override</a></h2><div class=block-icon-container><picture class=block-icon-image><source srcset=../assets/images/blocks/pwm/PWM_SAMx7_Override.svg type=image/svg+xml><img src=../assets/images/blocks/pwm/PWM_SAMx7_Override.png alt="Pwm Sam7X Override Block Icon"></picture><div class=block-icon-description>All SAM7x families: SAME5x, SAME7x, SAMC2x, SAMD2x</div></div><h2 id=supported-device-families>Supported Device Families</h2><ul><li><strong>SAM E70</strong></li><li><strong>SAM S70</strong></li><li><strong>SAM V70</strong></li><li><strong>SAM V71</strong></li></ul><h2 id=configuration-parameters>Configuration Parameters</h2><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Override_Channels</td><td>PWM channels to control via override</td></tr><tr><td>Override_Mode</td><td>Individual or Grouped control</td></tr><tr><td>Safe_State_H</td><td>Safe state for high-side outputs (0=Low, 1=High)</td></tr><tr><td>Safe_State_L</td><td>Safe state for low-side outputs (0=Low, 1=High)</td></tr></tbody></table><h2 id=block-inputs>Block Inputs</h2><table><thead><tr><th>Input</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Override_Enable</td><td>boolean</td><td>Activate override control (1=override active)</td></tr><tr><td>Override_Value</td><td>uint16</td><td>Output pin states (bitfield)</td></tr></tbody></table><h2 id=usage-example>Usage Example</h2><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#998;font-style:italic>% Emergency shutdown for SAM7x motor drive:</span>
</span></span><span style=display:flex><span>Override_Channels = [<span style=color:#099>0</span> <span style=color:#099>1</span> <span style=color:#099>2</span>];
</span></span><span style=display:flex><span>Override_Mode = <span style=color:#d14>&#39;Grouped&#39;</span>;
</span></span><span style=display:flex><span>Safe_State_H = <span style=color:#099>0</span>;  <span style=color:#998;font-style:italic>% All high-sides OFF</span>
</span></span><span style=display:flex><span>Safe_State_L = <span style=color:#099>0</span>;  <span style=color:#998;font-style:italic>% All low-sides OFF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>% Connect emergency stop -&gt; Override_Enable</span>
</span></span></code></pre></div><h2 id=related-blocks>Related Blocks</h2><ul><li><a href=pwm_sam7x.html><strong>MCHP_PWM_SAM7x</strong></a> - Main SAM7x PWM block</li><li><a href=pwm_highspeed_override.html><strong>MCHP_PWM_HighSpeed_Override</strong></a> - Override for dsPIC PWM</li></ul><h2><a href=../block_reference/pwm_io/tcc_pwm.html>TCC PWM</a></h2><div class=block-icon-container><picture class=block-icon-image><source srcset=../assets/images/blocks/pwm/TCC_PWM.svg type=image/svg+xml><img src=../assets/images/blocks/pwm/TCC_PWM.png alt="Tcc Pwm Block Icon"></picture><div class=block-icon-description>| Family | TCC Instances | Channels per TCC | |&mdash;|&mdash;|&mdash;| | SAME54/53/51 | TCC0, TCC1, TCC2 | 6, 4, 3 channels | | SAMC21/20 | TCC0, TCC1, TCC2 | 4, 4, 2 channels | | SAMD21/20 | TCC0, TCC1, TCC2 | 4, 2, 2 channels |</div></div><h2 id=supported-device-families>Supported Device Families</h2><ul><li><strong>SAM E5x</strong></li><li><strong>SAM D5x</strong></li><li><strong>SAM C2x</strong></li></ul><h2 id=key-features>Key Features</h2><ul><li>Up to 6 PWM channels per TCC instance (device dependent)</li><li>Complementary outputs with dead-time</li><li>Circular, dual-slope (center-aligned) modes</li><li>Pattern generation for BLDC/stepper motors</li><li>Recoverable and non-recoverable faults</li><li>Dithering for enhanced resolution</li><li>Compare capture for position sensing</li></ul><h2 id=configuration-parameters>Configuration Parameters</h2><h3 id=basic-configuration>Basic Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>TCC_Instance</td><td>Select TCC0, TCC1, or TCC2</td></tr><tr><td>Waveform_Mode</td><td>Normal Frequency, Match Frequency, or PWM</td></tr><tr><td>Counter_Mode</td><td>Up, Down, or Dual-slope (center-aligned)</td></tr><tr><td>Enabled_Channels</td><td>Array of enabled channel numbers</td></tr></tbody></table><h3 id=dead-time-and-pattern>Dead Time and Pattern</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>DeadTime_Enable</td><td>Enable complementary output with dead-time</td></tr><tr><td>DeadTime_Low</td><td>Dead-time for low-side (cycles)</td></tr><tr><td>DeadTime_High</td><td>Dead-time for high-side (cycles)</td></tr><tr><td>Pattern_Enable</td><td>Enable pattern generator for BLDC</td></tr><tr><td>Pattern_Table</td><td>Commutation pattern table</td></tr></tbody></table><h2 id=block-inputsoutputs>Block Inputs/Outputs</h2><h3 id=inputs>Inputs</h3><table><thead><tr><th>Input</th><th>Description</th></tr></thead><tbody><tr><td>Period</td><td>Optional period input</td></tr><tr><td>Compare 0..N</td><td>Compare values (duty cycle) per channel</td></tr><tr><td>Pattern_Index</td><td>Pattern table index (if pattern mode enabled)</td></tr></tbody></table><h3 id=outputs>Outputs</h3><table><thead><tr><th>Output</th><th>Description</th></tr></thead><tbody><tr><td>Fault_Status</td><td>Fault condition status</td></tr><tr><td>Overflow_Flag</td><td>Counter overflow indicator</td></tr></tbody></table><h2 id=usage-example>Usage Example</h2><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#998;font-style:italic>% BLDC motor control with TCC pattern generator:</span>
</span></span><span style=display:flex><span>TCC_Instance = <span style=color:#d14>&#39;TCC0&#39;</span>;
</span></span><span style=display:flex><span>Waveform_Mode = <span style=color:#d14>&#39;PWM&#39;</span>;
</span></span><span style=display:flex><span>Counter_Mode = <span style=color:#d14>&#39;Dual-slope&#39;</span>;
</span></span><span style=display:flex><span>Enabled_Channels = [<span style=color:#099>0</span> <span style=color:#099>1</span> <span style=color:#099>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>% Pattern generator:</span>
</span></span><span style=display:flex><span>Pattern_Enable = <span style=color:#d14>&#39;on&#39;</span>;
</span></span><span style=display:flex><span>Pattern_Table = [
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>% Hall state -&gt; [Ch0 Ch1 Ch2] outputs</span>
</span></span><span style=display:flex><span>    <span style=color:#099>0</span>b000000;  <span style=color:#998;font-style:italic>% Invalid</span>
</span></span><span style=display:flex><span>    <span style=color:#099>0</span>b100001;  <span style=color:#998;font-style:italic>% Hall 001</span>
</span></span><span style=display:flex><span>    <span style=color:#099>0</span>b001100;  <span style=color:#998;font-style:italic>% Hall 010</span>
</span></span><span style=display:flex><span>    <span style=color:#099>0</span>b101100;  <span style=color:#998;font-style:italic>% Hall 011</span>
</span></span><span style=display:flex><span>    <span style=color:#099>0</span>b110010;  <span style=color:#998;font-style:italic>% Hall 100</span>
</span></span><span style=display:flex><span>    <span style=color:#099>0</span>b110001;  <span style=color:#998;font-style:italic>% Hall 101</span>
</span></span><span style=display:flex><span>    <span style=color:#099>0</span>b011010;  <span style=color:#998;font-style:italic>% Hall 110</span>
</span></span><span style=display:flex><span>    <span style=color:#099>0</span>b000000   <span style=color:#998;font-style:italic>% Invalid</span>
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic>% Connect Hall sensor state -&gt; Pattern_Index</span>
</span></span></code></pre></div><h2 id=related-blocks>Related Blocks</h2><ul><li><a href=pwm_sam7x.html><strong>MCHP_PWM_SAM7x</strong></a> - General SAM7x PWM</li><li><strong>MCHP_TC_PWM</strong> - Basic Timer/Counter PWM</li><li><strong>MCHP_ADC_SAM</strong> - SAM ADC with TCC event sync</li></ul><div class=nav-footer><p>Last updated: January 2025 | MPLAB Blockset Documentation</p><p>&copy; 2025 Microchip Technology Inc. All rights reserved.</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
☰</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="🌙",n.textContent="Dark"):(t.textContent="☀️",n.textContent="Light")}(function(){const n=localStorage.getItem("theme"),s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}}),window.toggleSection=function(e){const t=document.getElementById("section-"+e);if(t&&(t.classList.toggle("expanded"),t.classList.contains("nav-section"))){const n=getExpandedSections();t.classList.contains("expanded")?n.add(e):n.delete(e),localStorage.setItem("expandedSections",JSON.stringify([...n]))}};function getExpandedSections(){const e=localStorage.getItem("expandedSections");return new Set(e?JSON.parse(e):[])}function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;if(n===e){t.classList.add("active");const n=t.closest(".nav-subsection");n&&!n.classList.contains("expanded")&&n.classList.add("expanded");const e=t.closest(".nav-section");if(e&&!e.classList.contains("expanded")){e.classList.add("expanded");const n=e.id.replace("section-",""),t=getExpandedSections();t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t]))}}})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage();const t=document.querySelector(".nav-link.active");if(t){const e=t.closest(".nav-section");if(e&&e.id){const n=e.id.replace("section-",""),t=getExpandedSections();t.has(n)||(t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t])))}}}()</script></body></html>