<!doctype html><html lang=en><head><title>CAN Config - MPLAB Blockset for MATLAB/Simulink</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Microchip Blockset for MATLAB/Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/block_reference/communication/can/can_config.html><link rel=icon type=image/x-icon href=../../../favicon.ico><style>:root{--bg-primary:#f8f9fa;--bg-secondary:white;--bg-tertiary:#f8f9fa;--text-primary:#2c3e50;--text-secondary:#666;--text-tertiary:#6c757d;--text-heading:#003d5c;--border-color:#dee2e6;--border-light:#e1e8ed;--border-medium:#e9ecef;--accent-primary:#0076A8;--accent-secondary:#005a85;--accent-hover:#005580;--accent-light:#e3f2fd;--code-bg:#f4f4f4;--code-text:#c7254e;--pre-bg:linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);--pre-border:#d0d0d0;--table-hover:#e3f2fd;--table-stripe:#f8f9fa;--note-bg:linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);--note-border:#2196F3;--note-text:#1976D2;--warning-bg:linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);--warning-border:#ff9800;--warning-text:#f57c00;--shadow-sm:0 2px 4px rgba(0,0,0,0.05);--shadow-md:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 2px 12px rgba(0,0,0,0.08)}[data-theme=dark]{--bg-primary:#1a1d23;--bg-secondary:#242831;--bg-tertiary:#2d3139;--text-primary:#e4e6eb;--text-secondary:#adb5bd;--text-tertiary:#8b95a1;--text-heading:#e4e6eb;--border-color:#3a3f4b;--border-light:#3a3f4b;--border-medium:#404654;--accent-primary:#4da6d6;--accent-secondary:#3d8ab5;--accent-hover:#60b4e0;--accent-light:#2d4556;--code-bg:#2d3139;--code-text:#ff6b9d;--pre-bg:linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);--pre-border:#3a3f4b;--table-hover:#2d4556;--table-stripe:#2d3139;--note-bg:linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);--note-border:#4da6d6;--note-text:#66b3e0;--warning-bg:linear-gradient(to right, #3d3520 0%, #3d3520 100%);--warning-border:#ffb347;--warning-text:#ffc870;--shadow-sm:0 2px 4px rgba(0,0,0,0.3);--shadow-md:0 2px 8px rgba(0,0,0,0.4);--shadow-lg:0 2px 12px rgba(0,0,0,0.5)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:8px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:8px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:55px}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-secondary);margin-bottom:16px;padding:10px 14px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover)}.breadcrumbs span{margin:0 8px;color:var(--text-tertiary)}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:transparent;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:table;width:100%;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;margin:24px 0;padding:20px;box-shadow:var(--shadow-md);table-layout:fixed}.block-icon-image{display:table-cell;width:220px;vertical-align:middle;padding-right:20px}.block-icon-image img{width:200px;height:auto;display:block}.block-icon-description{display:table-cell;vertical-align:middle;font-size:16px;line-height:1.7;color:var(--text-primary)}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","name":"CAN Config","description":"Microchip Blockset for MATLAB\/Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/block_reference\/communication\/can\/can_config.html","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-16","dateModified":"2025-10-16","inLanguage":"en-US"}</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><h2 class=sidebar-title>MPLAB Blockset</h2></div><div class=sidebar-nav><div class=nav-section><a href=../../../ class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>🏠</span>Home</span></a></div><div class=nav-section id=section-getting-started><div class=nav-section-title onclick='toggleSection("getting-started")'><span><span class=icon>🚀</span>Getting Started</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../getting_started/overview.html class=nav-link>Overview</a>
<a href=../../../getting_started/installation.html class=nav-link>Installation</a>
<a href=../../../getting_started/quick_start.html class=nav-link>Quick Start Guide</a>
<a href=../../../getting_started/board_templates.html class=nav-link>Board Templates</a>
<a href=../../../getting_started/motor_control_examples.html class=nav-link>Motor Control Examples</a>
<a href=../../../getting_started/scheduler_multitasking.html class=nav-link>Scheduler & Multitasking</a>
<a href=../../../getting_started/external_mode_pil.html class=nav-link>External Mode & PIL</a>
<a href=../../../getting_started/data_visualization.html class=nav-link>Data Visualization</a>
<a href=../../../getting_started/supported_devices.html class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-user-guide><div class=nav-section-title onclick='toggleSection("user-guide")'><span><span class=icon>📚</span>User Guide</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../user_guide/code_generation.html class=nav-link>Code Generation</a>
<a href=../../../user_guide/compiler_setup.html class=nav-link>Compiler Setup</a>
<a href=../../../user_guide/external_mode.html class=nav-link>External Mode</a>
<a href=../../../user_guide/pil_testing.html class=nav-link>PIL Testing</a></div></div><div class=nav-section id=section-block-reference><div class=nav-section-title onclick='toggleSection("block-reference")'><span><span class=icon>🧩</span>Block Reference</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><div class=nav-subsection id=section-pwm-timers><div class=nav-subsection-title onclick='toggleSection("pwm-timers")'><span><span class=icon>⚡</span>PWM & Timers</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../block_reference/pwm_io/pwm.html class=nav-block-link>PWM</a>
<a href=../../../block_reference/pwm_io/pwm_highspeed.html class=nav-block-link>PWM High-Speed</a>
<a href=../../../block_reference/pwm_io/pwm_hs_fep.html class=nav-block-link>PWM HS FEP</a>
<a href=../../../block_reference/pwm_io/pwm_highspeed_override.html class=nav-block-link>PWM HS Override</a>
<a href=../../../block_reference/pwm_io/mcpwm.html class=nav-block-link>MCPWM (PIC32)</a>
<a href=../../../block_reference/pwm_io/pwm_sam7x.html class=nav-block-link>PWM SAM7x</a>
<a href=../../../block_reference/pwm_io/pwm_sam7x_override.html class=nav-block-link>PWM SAM7x Override</a>
<a href=../../../block_reference/pwm_io/tcc_pwm.html class=nav-block-link>TCC PWM (SAM)</a></div></div><div class=nav-subsection id=section-timers><div class=nav-subsection-title onclick='toggleSection("timers")'><span><span class=icon>⏱️</span>Timers</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../block_reference/timers/timer_config.html class=nav-block-link>Timer Config</a>
<a href=../../../block_reference/timers/input_capture.html class=nav-block-link>Input Capture</a>
<a href=../../../block_reference/timers/output_compare_hw.html class=nav-block-link>Output Compare (HW)</a>
<a href=../../../block_reference/timers/output_compare_sw.html class=nav-block-link>Output Compare (SW)</a>
<a href=../../../block_reference/timers/timer_pil_profiling.html class=nav-block-link>PIL Profiling Timer</a></div></div><div class=nav-subsection id=section-adc><div class=nav-subsection-title onclick='toggleSection("adc")'><span><span class=icon>📊</span>ADC</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../block_reference/adc/adc.html class=nav-block-link>ADC (dsPIC)</a>
<a href=../../../block_reference/adc/adc_hs_12b.html class=nav-block-link>ADC HS 12-bit</a>
<a href=../../../block_reference/adc/adc_highspeed_sar.html class=nav-block-link>ADC High-Speed SAR</a>
<a href=../../../block_reference/adc/adc_highspeed_sar_dspic.html class=nav-block-link>ADC HS SAR (dsPIC)</a>
<a href=../../../block_reference/adc/adc_same5x.html class=nav-block-link>ADC (SAM E5x)</a>
<a href=../../../block_reference/adc/adc_samrh707x.html class=nav-block-link>ADC (SAMRH707x)</a>
<a href=../../../block_reference/adc/afec_sam7x.html class=nav-block-link>AFEC (SAM7x)</a></div></div><div class=nav-subsection id=section-communication><div class=nav-subsection-title onclick='toggleSection("communication")'><span><span class=icon>📡</span>Communication</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><div class=nav-subsection id=section-uart><div class=nav-subsection-title onclick='toggleSection("uart")'><span><span class=icon></span>UART</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../block_reference/communication/uart/uart_config.html class=nav-block-link>UART Config</a>
<a href=../../../block_reference/communication/uart/uart_tx.html class=nav-block-link>UART Tx</a>
<a href=../../../block_reference/communication/uart/uart_rx.html class=nav-block-link>UART Rx</a>
<a href=../../../block_reference/communication/uart/uart_txmatlab.html class=nav-block-link>UART Tx MATLAB</a>
<a href=../../../block_reference/communication/uart/uart_break_and_autobaud.html class=nav-block-link>UART Break & Autobaud</a></div></div><div class=nav-subsection id=section-can><div class=nav-subsection-title onclick='toggleSection("can")'><span><span class=icon></span>CAN</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../block_reference/communication/can/can_config.html class=nav-block-link>CAN Config</a>
<a href=../../../block_reference/communication/can/can_tx.html class=nav-block-link>CAN Tx</a>
<a href=../../../block_reference/communication/can/can_rx.html class=nav-block-link>CAN Rx</a></div></div><a href=../../../block_reference/communication/i2c.html class=nav-block-link>I2C Master/Slave</a>
<a href=../../../block_reference/communication/spi.html class=nav-block-link>SPI Master/Slave</a></div></div><div class=nav-subsection id=section-digital-io><div class=nav-subsection-title onclick='toggleSection("digital-io")'><span><span class=icon>🔌</span>Digital I/O</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../block_reference/digital_io/digital_input.html class=nav-block-link>Digital Input</a>
<a href=../../../block_reference/digital_io/digital_output.html class=nav-block-link>Digital Output</a>
<a href=../../../block_reference/digital_io/digital_output_read.html class=nav-block-link>Digital Output Read</a>
<a href=../../../block_reference/digital_io/digital_output_write.html class=nav-block-link>Digital Output Write</a></div></div><div class=nav-subsection id=section-encoders><div class=nav-subsection-title onclick='toggleSection("encoders")'><span><span class=icon>🔄</span>Encoders</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../block_reference/encoders_counters/qei.html class=nav-block-link>QEI (Quadrature Encoder)</a>
<a href=../../../block_reference/encoders_counters/pdec.html class=nav-block-link>PDEC (SAM)</a>
<a href=../../../block_reference/encoders_counters/qdec_samx.html class=nav-block-link>QDEC (SAM)</a>
<a href=../../../block_reference/encoders_counters/change_notification.html class=nav-block-link>Change Notification</a></div></div><div class=nav-subsection id=section-analog-io><div class=nav-subsection-title onclick='toggleSection("analog-io")'><span><span class=icon>📉</span>Analog I/O</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html class=nav-block-link>High-Speed Comparator</a>
<a href=../../../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html class=nav-block-link>Comparator w/ Slope</a>
<a href=../../../block_reference/analog_io/comparator_opamps_volt_ref/op_amp.html class=nav-block-link>Op-Amp</a>
<a href=../../../block_reference/analog_io/comparator_opamps_volt_ref/pga.html class=nav-block-link>PGA (Programmable Gain Amp)</a>
<a href=../../../block_reference/analog_io/dac_samx.html class=nav-block-link>DAC (SAM)</a></div></div><div class=nav-subsection id=section-system-config><div class=nav-subsection-title onclick='toggleSection("system-config")'><span><span class=icon>⚙️</span>System Config</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../block_reference/system_configuration/master.html class=nav-block-link>Master</a>
<a href=../../../block_reference/system_configuration/interrupt.html class=nav-block-link>Interrupt</a>
<a href=../../../block_reference/system_configuration/compiler_options.html class=nav-block-link>Compiler Options</a>
<a href=../../../block_reference/system_configuration/scheduler_options.html class=nav-block-link>Scheduler Options</a>
<a href=../../../block_reference/system_configuration/idle_task.html class=nav-block-link>Idle Task</a>
<a href=../../../block_reference/system_configuration/mcu_load.html class=nav-block-link>MCU Load</a>
<a href=../../../block_reference/system_configuration/mcu_overload.html class=nav-block-link>MCU Overload</a>
<a href=../../../block_reference/system_configuration/tasks_state.html class=nav-block-link>Tasks State</a>
<a href=../../../block_reference/system_configuration/secondary_core.html class=nav-block-link>Secondary Core</a></div></div><div class=nav-subsection id=section-utility><div class=nav-subsection-title onclick='toggleSection("utility")'><span><span class=icon>🔧</span>Utility Blocks</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../block_reference/user_functions/c_function_call.html class=nav-block-link>C Function Call</a>
<a href=../../../block_reference/utility/doc.html class=nav-block-link>Documentation Block</a>
<a href=../../../block_reference/utility/msi.html class=nav-block-link>MSI (Model Sample Info)</a>
<a href=../../../block_reference/utility/port_info.html class=nav-block-link>Port Info</a>
<a href=../../../block_reference/utility/timer_info.html class=nav-block-link>Timer Info</a>
<a href=../../../block_reference/utility/simulink_reset_config.html class=nav-block-link>Simulink Reset Config</a></div></div></div></div><div class=nav-section id=section-examples><div class=nav-section-title onclick='toggleSection("examples")'><span><span class=icon>📖</span>Examples</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../../../examples/field_weakening.html class=nav-link>Field Weakening</a></div></div><div class=nav-section id=section-github><a href=https://github.com/microchip-technology/mplab-blockset class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>💻</span>GitHub</span></a></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=../../../>Home</a>
<span>></span>
<a href=../../../block_reference.html>Block Reference</a>
<span>></span>
<span>CAN Config</span></div><div class=under-construction-banner><span class=icon>⚠️</span>
<strong>Documentation Under Construction</strong> —
This documentation is currently being developed. All information has not been validated by Microchip yet.</div><div class=page-header><h1>CAN Config</h1><div class=page-header-right><img src=../../../images/microchip-logo.png alt="Microchip Logo" class=microchip-logo>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>☀️</span>
<span id=theme-text>Light</span></button></div></div><div class=block-icon-container><picture class=block-icon-image><source srcset=../../../assets/images/blocks/bus_can/CAN_Config.svg type=image/svg+xml><img src=../../../assets/images/blocks/bus_can/CAN_Config.png alt="CAN Config Block Icon"></picture><div class=block-icon-description>The <strong>CAN Config</strong> block configures the Controller Area Network (CAN) peripheral for communication on CAN bus networks. This block sets up essential parameters including bit timing (baud rate), message buffer allocation, filtering configuration, and interrupt priorities. The CAN Config block must be present in your model before using CAN Tx or CAN Rx blocks. CAN is a robust, multi-master serial bus system designed for networking intelligent devices. It is widely used in automotive, industrial automation, and embedded systems for reliable communication in electrically noisy environments. The protocol features automatic message prioritization, error detection, and fault confinement mechanisms.</div></div><p>The <strong>CAN Config</strong> block configures the Controller Area Network (CAN) peripheral for communication on CAN bus networks. This block sets up essential parameters including bit timing (baud rate), message buffer allocation, filtering configuration, and interrupt priorities. The CAN Config block must be present in your model before using CAN Tx or CAN Rx blocks.</p><p>CAN is a robust, multi-master serial bus system designed for networking intelligent devices. It is widely used in automotive, industrial automation, and embedded systems for reliable communication in electrically noisy environments. The protocol features automatic message prioritization, error detection, and fault confinement mechanisms.</p><h2 id=device-support>Device Support</h2><table><thead><tr><th>Device Family</th><th>CAN Type</th><th>Maximum Modules</th><th>CAN-FD Support</th><th>Features</th></tr></thead><tbody><tr><td>SAM E70/S70/V70/V71</td><td>MCAN (Bosch M_CAN)</td><td>2</td><td>Yes</td><td>Advanced filtering, timestamping, DMA-based buffers</td></tr><tr><td>SAM E5x (E51/E53/E54)</td><td>CAN</td><td>2</td><td>Yes</td><td>Standard/Extended ID, FIFO mode, dedicated buffers</td></tr><tr><td>SAM C20/C21</td><td>CAN</td><td>2</td><td>Yes</td><td>Standard/Extended ID, message filtering</td></tr><tr><td>SAM D51</td><td>CAN</td><td>2</td><td>Yes</td><td>Standard/Extended ID, FIFO mode</td></tr><tr><td>dsPIC30F/33F/33E/33C</td><td>-</td><td>-</td><td>-</td><td>Not currently supported (future enhancement)</td></tr><tr><td>PIC32MX/MZ</td><td>-</td><td>-</td><td>-</td><td>Not currently supported (future enhancement)</td></tr></tbody></table><h2 id=block-parameters>Block Parameters</h2><h3 id=can-module-selection>CAN Module Selection</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th><th>Default</th></tr></thead><tbody><tr><td>CAN Module</td><td>Selects which CAN peripheral to configure (CAN0, CAN1, MCAN0, MCAN1)</td><td>Device-dependent dropdown</td><td>CAN0 or MCAN0</td></tr></tbody></table><h3 id=bit-timing-configuration>Bit Timing Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th><th>Default</th></tr></thead><tbody><tr><td>Baud Rate</td><td>Communication speed in bits per second</td><td>50 kbps to 1000 kbps (standard values)</td><td>250000 (250 kbps)</td></tr><tr><td>Propagation Segment (PRSEG)</td><td>Compensates for physical delays in the network</td><td>1-8 TQ (Time Quanta)</td><td>Auto-calculated</td></tr><tr><td>Phase Segment 1 (PHSEG1)</td><td>First phase buffer segment for bit synchronization</td><td>1-8 TQ</td><td>Auto-calculated</td></tr><tr><td>Phase Segment 2 (PHSEG2)</td><td>Second phase buffer segment for bit synchronization</td><td>1-8 TQ</td><td>Auto-calculated</td></tr><tr><td>Synchronization Jump Width (SJW)</td><td>Maximum time by which the bit can be lengthened or shortened</td><td>1-4 TQ</td><td>Auto-calculated</td></tr></tbody></table><p><strong>Tip:</strong> The blockset automatically calculates optimal bit timing parameters to achieve the selected baud rate with a sample point around 87.5% of the bit time, which is ideal for most CAN networks.</p><h3 id=pin-configuration>Pin Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th></tr></thead><tbody><tr><td>CAN RX Pin</td><td>GPIO pin for CAN receive signal</td><td>Device-specific pin list (e.g., PA12, PB15)</td></tr><tr><td>CAN TX Pin</td><td>GPIO pin for CAN transmit signal</td><td>Device-specific pin list (e.g., PA13, PB14)</td></tr></tbody></table><h3 id=buffer-configuration>Buffer Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Configured By</th></tr></thead><tbody><tr><td>Rx Dedicated Buffers</td><td>Number of dedicated receive buffers (one per unique message ID)</td><td>Auto-detected from CAN_Rx blocks</td></tr><tr><td>Rx FIFO 0 Size</td><td>Number of messages in receive FIFO 0</td><td>Auto-detected from CAN_Rx blocks</td></tr><tr><td>Rx FIFO 1 Size</td><td>Number of messages in receive FIFO 1</td><td>Auto-detected from CAN_Rx blocks</td></tr><tr><td>Tx Dedicated Buffers</td><td>Number of dedicated transmit buffers</td><td>Auto-detected from CAN_Tx blocks</td></tr><tr><td>Tx FIFO Size</td><td>Number of messages in transmit FIFO</td><td>Auto-detected from CAN_Tx blocks</td></tr></tbody></table><h3 id=can-fd-configuration-sam-e5xe7xc2x-only>CAN-FD Configuration (SAM E5x/E7x/C2x Only)</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th><th>Default</th></tr></thead><tbody><tr><td>Enable CAN-FD</td><td>Enable CAN with Flexible Data rate support</td><td>On / Off</td><td>Off</td></tr><tr><td>Data Buffer Size</td><td>Maximum data bytes per message (CAN 2.0: 8 bytes, CAN-FD: up to 64 bytes)</td><td>8 (standard) or 64 (CAN-FD)</td><td>8</td></tr></tbody></table><h3 id=interrupt-configuration>Interrupt Configuration</h3><table><thead><tr><th>Parameter</th><th>Description</th><th>Valid Values</th><th>Default</th></tr></thead><tbody><tr><td>Rx Interrupt Priority</td><td>Priority level for receive interrupts (0 = highest priority)</td><td>0-7</td><td>3</td></tr></tbody></table><h2 id=can-bit-timing-fundamentals>CAN Bit Timing Fundamentals</h2><h3 id=time-quantum-tq-and-bit-segments>Time Quantum (TQ) and Bit Segments</h3><p>A CAN bit time is divided into four segments, each measured in Time Quanta (TQ):</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#000;font-weight:700>|&lt;----</span> Nominal Bit Time <span style=color:#000;font-weight:700>----&gt;|</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>|</span>SYNC<span style=color:#000;font-weight:700>|</span>  PROP  <span style=color:#000;font-weight:700>|</span> PHASE1 <span style=color:#000;font-weight:700>|</span> PHASE2 <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span>  <span style=color:#099>1</span>TQ   <span style=color:#099>1</span><span style=color:#000;font-weight:700>-</span><span style=color:#099>8</span>TQ    <span style=color:#099>1</span><span style=color:#000;font-weight:700>-</span><span style=color:#099>8</span>TQ   <span style=color:#099>1</span><span style=color:#000;font-weight:700>-</span><span style=color:#099>8</span>TQ
</span></span><span style=display:flex><span>        ^Sample Point (typically <span style=color:#099>87.5</span><span style=color:#998;font-style:italic>%)</span>
</span></span></code></pre></div><ul><li><strong>SYNC Segment:</strong> Always 1 TQ, used for synchronization</li><li><strong>Propagation Segment (PRSEG):</strong> Compensates for signal propagation delays (1-8 TQ)</li><li><strong>Phase Segment 1 (PHSEG1):</strong> Buffer segment before sample point (1-8 TQ)</li><li><strong>Phase Segment 2 (PHSEG2):</strong> Buffer segment after sample point (1-8 TQ)</li></ul><h3 id=baud-rate-calculation>Baud Rate Calculation</h3><p>The CAN baud rate is determined by:</p><pre tabindex=0><code>Baud Rate = F_CAN / (BRP × (SYNC + PRSEG + PHSEG1 + PHSEG2))

Where:
  F_CAN = CAN peripheral clock frequency
  BRP   = Baud Rate Prescaler (1-1024)

Time Quantum (TQ) = BRP / F_CAN
</code></pre><h3 id=sample-point-location>Sample Point Location</h3><p>The sample point is where the CAN controller reads the bus level. Optimal location is typically 87.5% of the bit time:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span>Sample Point (<span style=color:#998;font-style:italic>%) = (SYNC + PRSEG + PHSEG1) / Total TQ × 100</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Recommended: <span style=color:#099>75</span><span style=color:#000;font-weight:700>-</span><span style=color:#099>90</span><span style=color:#998;font-style:italic>% for networks up to 1 Mbps</span>
</span></span><span style=display:flex><span>Typical:     <span style=color:#099>87.5</span><span style=color:#998;font-style:italic>% provides good tolerance</span>
</span></span></code></pre></div><h2 id=implementation-details>Implementation Details</h2><h3 id=sam-e7x-mcan-peripheral-registers>SAM E7x MCAN Peripheral Registers</h3><pre tabindex=0><code>/* CAN Module Initialization (SAME7x) */

    /* Configure bit timing */
    MCAN0_REGS-&gt;MCAN_NBTP =
        MCAN_NBTP_NSJW(SJW - 1) |
        MCAN_NBTP_NBRP(BRP - 1) |
        MCAN_NBTP_NTSEG1(TSEG1 - 1) |
        MCAN_NBTP_NTSEG2(TSEG2 - 1);

    /* Configure filters */
    MCAN0_REGS-&gt;MCAN_SIDFC =
        MCAN_SIDFC_LSS(numStandardFilters);

    MCAN0_REGS-&gt;MCAN_XIDFC =
        MCAN_XIDFC_LSE(numExtendedFilters);

    /* Configure Rx buffers and FIFOs */
    MCAN0_REGS-&gt;MCAN_RXBC =
        MCAN_RXBC_RBSA(rxBufferAddress);

    MCAN0_REGS-&gt;MCAN_RXF0C =
        MCAN_RXF0C_F0SA(rxFifo0Address) |
        MCAN_RXF0C_F0S(rxFifo0Size);

    /* Configure Tx buffers and FIFO */
    MCAN0_REGS-&gt;MCAN_TXBC =
        MCAN_TXBC_TBSA(txBufferAddress) |
        MCAN_TXBC_TFQS(txFifoSize);

    /* Enable interrupts */
    MCAN0_REGS-&gt;MCAN_IE = MCAN_IE_RF0NE | MCAN_IE_RF1NE;
    NVIC_EnableIRQ(MCAN0_INT0_IRQn);

    /* Enable CAN module */
    MCAN0_REGS-&gt;MCAN_CCCR &amp;= ~MCAN_CCCR_INIT;
}
</code></pre><h3 id=sam-e5xc2x-can-peripheral-registers>SAM E5x/C2x CAN Peripheral Registers</h3><pre tabindex=0><code>/* CAN Module Initialization (SAMx5/C2x) */

    /* Enable CAN peripheral in MCLK */
    MCLK-&gt;AHBMASK.bit.CAN0_ = 1;

    /* Configure bit timing */
    CAN0-&gt;NBTP.reg =
        CAN_NBTP_NSJW(SJW - 1) |
        CAN_NBTP_NBRP(BRP - 1) |
        CAN_NBTP_NTSEG1(TSEG1 - 1) |
        CAN_NBTP_NTSEG2(TSEG2 - 1);

    /* Configure standard ID filters */
    CAN0-&gt;SIDFC.reg = CAN_SIDFC_LSS(numStdFilters);

    /* Configure extended ID filters */
    CAN0-&gt;XIDFC.reg = CAN_XIDFC_LSE(numExtFilters);

    /* Configure Rx FIFO 0 */
    CAN0-&gt;RXF0C.reg =
        CAN_RXF0C_F0SA(fifo0Addr &gt;&gt; 2) |
        CAN_RXF0C_F0S(fifo0Size);

    /* Configure Tx buffer/FIFO */
    CAN0-&gt;TXBC.reg =
        CAN_TXBC_TBSA(txBufAddr &gt;&gt; 2) |
        CAN_TXBC_TFQS(txFifoSize);

    /* Enable interrupts */
    CAN0-&gt;IE.reg = CAN_IE_RF0NE | CAN_IE_TCFE;
    NVIC_EnableIRQ(CAN0_IRQn);

    /* Release initialization mode */
    CAN0-&gt;CCCR.bit.INIT = 0;
}
</code></pre><h2 id=block-usage-examples>Block Usage Examples</h2><h3 id=example-1-standard-can-at-250-kbps>Example 1: Standard CAN at 250 kbps</h3><p><strong>Application:</strong> Industrial control network with 8-byte data messages</p><pre tabindex=0><code>Configuration:
  - CAN Module: CAN0
  - Baud Rate: 250000 (250 kbps)
  - RX Pin: PA23 (CAN0_RX)
  - TX Pin: PA22 (CAN0_TX)
  - Message Format: Standard 11-bit ID
  - Data Length: 8 bytes (CAN 2.0)
  - Rx Interrupt Priority: 2
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#000;font-weight:700>/*</span> Resulting bit timing parameters (F_CAN = <span style=color:#099>60</span> MHz):
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> BRP = <span style=color:#099>12</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> SYNC = <span style=color:#099>1</span> TQ
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> PRSEG = <span style=color:#099>3</span> TQ
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> PHSEG1 = <span style=color:#099>10</span> TQ
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> PHSEG2 = <span style=color:#099>6</span> TQ
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> Total = <span style=color:#099>20</span> TQ
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> Baud = <span style=color:#099>60</span>MHz <span style=color:#000;font-weight:700>/</span> (<span style=color:#099>12</span> × <span style=color:#099>20</span>) = <span style=color:#099>250</span> kbps
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> Sample Point = (<span style=color:#099>1</span><span style=color:#000;font-weight:700>+</span><span style=color:#099>3</span><span style=color:#000;font-weight:700>+</span><span style=color:#099>10</span>)<span style=color:#000;font-weight:700>/</span><span style=color:#099>20</span> = <span style=color:#099>70</span><span style=color:#998;font-style:italic>% (acceptable range)</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*/</span>
</span></span></code></pre></div><h3 id=example-2-high-speed-can-at-1-mbps>Example 2: High-Speed CAN at 1 Mbps</h3><p><strong>Application:</strong> Automotive ECU communication with minimal latency</p><pre tabindex=0><code>Configuration:
  - CAN Module: MCAN0 (SAM E70)
  - Baud Rate: 1000000 (1 Mbps)
  - RX Pin: PD28 (MCAN0_RX)
  - TX Pin: PD12 (MCAN0_TX)
  - Message Format: Extended 29-bit ID
  - Data Length: 8 bytes
  - Network: Short bus (&lt;40 meters)
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#000;font-weight:700>/*</span> Resulting bit timing (F_CAN = <span style=color:#099>60</span> MHz):
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> BRP = <span style=color:#099>6</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> SYNC = <span style=color:#099>1</span> TQ
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> PRSEG = <span style=color:#099>1</span> TQ
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> PHSEG1 = <span style=color:#099>4</span> TQ
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> PHSEG2 = <span style=color:#099>4</span> TQ
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> Total = <span style=color:#099>10</span> TQ
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> Baud = <span style=color:#099>60</span>MHz <span style=color:#000;font-weight:700>/</span> (<span style=color:#099>6</span> × <span style=color:#099>10</span>) = <span style=color:#099>1</span> Mbps
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*</span> Sample Point = (<span style=color:#099>1</span><span style=color:#000;font-weight:700>+</span><span style=color:#099>1</span><span style=color:#000;font-weight:700>+</span><span style=color:#099>4</span>)<span style=color:#000;font-weight:700>/</span><span style=color:#099>10</span> = <span style=color:#099>60</span><span style=color:#998;font-style:italic>% (suitable for short bus)</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>*/</span>
</span></span></code></pre></div><h3 id=example-3-can-fd-with-data-phase-at-2-mbps>Example 3: CAN-FD with Data Phase at 2 Mbps</h3><p><strong>Application:</strong> High-throughput sensor data acquisition (SAM E70 only)</p><pre tabindex=0><code>Configuration:
  - CAN Module: MCAN1
  - Enable CAN-FD: On
  - Nominal Baud Rate: 500000 (500 kbps, arbitration phase)
  - Data Baud Rate: 2000000 (2 Mbps, data phase)
  - RX Pin: PC12 (MCAN1_RX)
  - TX Pin: PC14 (MCAN1_TX)
  - Data Buffer Size: 64 bytes
</code></pre><pre tabindex=0><code>/* CAN-FD allows different bit rates for arbitration and data phases:
 * Nominal Phase (arbitration): 500 kbps
 * Data Phase (payload): 2 Mbps
 *
 * Advantages:
 *   - Up to 64 bytes per message (vs 8 for CAN 2.0)
 *   - Faster data transfer during payload transmission
 *   - Backward compatible with CAN 2.0 nodes during arbitration
 */
</code></pre><h3 id=example-4-multi-node-network-configuration>Example 4: Multi-Node Network Configuration</h3><p><strong>Application:</strong> Motor controller with sensor nodes and HMI</p><pre tabindex=0><code>Network Topology:
  ┌──────────────┐     ┌──────────────┐     ┌──────────────┐
  │ Motor Control│─────│  Sensor Node │─────│     HMI      │
  │  (Controller)│     │   (Node 1)   │     │   Display    │
  └──────────────┘     └──────────────┘     └──────────────┘
         │                    │                     │
         └────────────────────┴─────────────────────┘
                    CAN Bus (250 kbps)

Configuration per node:
  - Baud Rate: 250 kbps (all nodes must match)
  - Termination: 120Ω at each end of bus
  - Message IDs:
      0x100-0x10F: Motor control commands
      0x200-0x20F: Sensor data
      0x300-0x30F: HMI updates
</code></pre><h2 id=filter-configuration-auto-managed>Filter Configuration (Auto-Managed)</h2><p>The CAN Config block automatically configures message filters based on CAN_Rx blocks in your model:</p><h3 id=filter-types>Filter Types</h3><table><thead><tr><th>Filter Type</th><th>Description</th><th>Configuration</th><th>Use Case</th></tr></thead><tbody><tr><td>Classic (Mask)</td><td>ID AND mask comparison</td><td>Message ID + Mask</td><td>Accept messages with specific bits matching</td></tr><tr><td>Dual ID</td><td>Accept either of two IDs</td><td>ID1 OR ID2</td><td>Two specific message types to same buffer</td></tr><tr><td>Range</td><td>Accept ID range</td><td>ID_Min to ID_Max</td><td>Group of related messages (e.g., 0x100-0x10F)</td></tr></tbody></table><h3 id=filter-configuration-examples>Filter Configuration Examples</h3><pre tabindex=0><code>/* Classic filter: Accept ID 0x123 only */
Filter ID:   0x123
Filter Mask: 0x7FF (all 11 bits must match)
Result: Accepts only 0x123

/* Range filter: Accept 0x100-0x10F */
ID1: 0x100 (minimum)
ID2: 0x10F (maximum)
Result: Accepts any ID from 0x100 to 0x10F

/* Dual ID filter */
ID1: 0x200
ID2: 0x300
Result: Accepts either 0x200 or 0x300
</code></pre><h2 id=troubleshooting>Troubleshooting</h2><h3 id=common-issues-and-solutions>Common Issues and Solutions</h3><pre><code>            Incorrect bit timing (baud rate mismatch)
            Missing or incorrect termination resistors
            Excessive noise or EMI on bus
            Hardware fault (shorted lines)
        
        Solutions:
        
            Verify all nodes use identical bit timing settings
            Check for 120Ω termination at both ends of bus
            Inspect CAN_H and CAN_L signals with oscilloscope
            Implement automatic bus-off recovery in software


        
            Verify CAN Config block is present in model
            Check filter configuration in CAN_Rx block
            Ensure message ID matches filter settings
            Verify buffer allocation (FIFO vs dedicated buffer)
            Check if buffer overflow occurred


        
            Review message ID assignment (lower ID = higher priority)
            Reduce bus load (transmission frequency)
            Use Tx buffers instead of Tx FIFO for time-critical messages
            Implement priority-based message scheduling
</code></pre><h3 id=bit-timing-issues>Bit Timing Issues</h3><table><thead><tr><th>Issue</th><th>Symptom</th><th>Solution</th></tr></thead><tbody><tr><td>Sample point too early</td><td>Frequent bit errors, poor noise immunity</td><td>Increase PHSEG1, decrease PHSEG2 (move sample point to 75-87.5%)</td></tr><tr><td>Sample point too late</td><td>Synchronization errors on long cables</td><td>Decrease PHSEG1, increase PHSEG2</td></tr><tr><td>SJW too small</td><td>Poor resynchronization, oscillator drift issues</td><td>Increase SJW (typically set to min(4, PHSEG2))</td></tr><tr><td>Baud rate mismatch</td><td>No communication, constant errors</td><td>Verify identical baud rate on all nodes, check clock source accuracy</td></tr></tbody></table><h3 id=hardware-troubleshooting-checklist>Hardware Troubleshooting Checklist</h3><ul><li>✓ Verify 120Ω termination resistors at both ends of CAN bus</li><li>✓ Check CAN_H voltage: 3.5V (recessive), 2.5V (dominant)</li><li>✓ Check CAN_L voltage: 1.5V (recessive), 2.5V (dominant)</li><li>✓ Measure differential voltage: ~0V (recessive), ~2V (dominant)</li><li>✓ Inspect for ground loops or poor grounding</li><li>✓ Verify twisted-pair cable for CAN_H/CAN_L</li><li>✓ Check maximum cable length for baud rate (40m @ 1Mbps, 1000m @ 50kbps)</li><li>✓ Confirm CAN transceiver is powered and not in standby mode</li></ul><h2 id=related-blocks>Related Blocks</h2><ul><li>[CAN Tx] - Transmit CAN messages</li><li>[CAN Rx] - Receive CAN messages with filtering</li><li>[Digital Output] - Control CAN transceiver enable/standby pins</li><li>[Interrupt Config] - Advanced interrupt priority configuration</li></ul><h2 id=references>References</h2><ul><li>ISO 11898-1:2015 - Controller Area Network (CAN) specification</li><li>Bosch CAN FD Specification Version 1.0</li><li>SAM E70/S70/V70/V71 Datasheet ([DS60001527])</li><li>SAM E5x/D5x Family Datasheet ([DS60001507])</li><li>Application Note: CAN Bus Network Design and Troubleshooting</li></ul><h2 id=see-also>See Also</h2><h3 id=datasheets>Datasheets</h3><ul><li><a href=https://www.microchip.com/DS60001527>DS60001527 - SAM E70/S70/V70/V71 Family Datasheet</a></li><li><a href=https://www.microchip.com/DS60001507>DS60001507 - SAM E54/E5x/D5x Family Datasheet</a></li></ul><div class=nav-footer><p>Last updated: January 2025 | MPLAB Blockset Documentation</p><p>&copy; 2025 Microchip Technology Inc. All rights reserved.</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
☰</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="🌙",n.textContent="Dark"):(t.textContent="☀️",n.textContent="Light")}(function(){const n=localStorage.getItem("theme"),s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}}),window.toggleSection=function(e){const t=document.getElementById("section-"+e);if(t&&(t.classList.toggle("expanded"),t.classList.contains("nav-section"))){const n=getExpandedSections();t.classList.contains("expanded")?n.add(e):n.delete(e),localStorage.setItem("expandedSections",JSON.stringify([...n]))}};function getExpandedSections(){const e=localStorage.getItem("expandedSections");return new Set(e?JSON.parse(e):[])}function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;if(n===e){t.classList.add("active");const n=t.closest(".nav-subsection");n&&!n.classList.contains("expanded")&&n.classList.add("expanded");const e=t.closest(".nav-section");if(e&&!e.classList.contains("expanded")){e.classList.add("expanded");const n=e.id.replace("section-",""),t=getExpandedSections();t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t]))}}})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage();const t=document.querySelector(".nav-link.active");if(t){const e=t.closest(".nav-section");if(e&&e.id){const n=e.id.replace("section-",""),t=getExpandedSections();t.has(n)||(t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t])))}}}()</script></body></html>