<!DOCTYPE html>
<html lang="en">
<head>
    <title>ADC HighSpeed SAR - High-Speed SAR ADC Block - MPLAB Blockset for MATLAB/Simulink</title>
    <meta charset="utf-8">
    <style>
         
         

         
        :root {
             
            --bg-primary: #f8f9fa;
            --bg-secondary: white;
            --bg-tertiary: #f8f9fa;
            --text-primary: #2c3e50;
            --text-secondary: #666;
            --text-tertiary: #6c757d;
            --text-heading: #003d5c;
            --border-color: #dee2e6;
            --border-light: #e1e8ed;
            --border-medium: #e9ecef;
            --accent-primary: #0076A8;
            --accent-secondary: #005a85;
            --accent-hover: #005580;
            --accent-light: #e3f2fd;
            --code-bg: #f4f4f4;
            --code-text: #c7254e;
            --pre-bg: linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);
            --pre-border: #d0d0d0;
            --table-hover: #e3f2fd;
            --table-stripe: #f8f9fa;
            --note-bg: linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);
            --note-border: #2196F3;
            --note-text: #1976D2;
            --warning-bg: linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);
            --warning-border: #ff9800;
            --warning-text: #f57c00;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 2px 8px rgba(0,0,0,0.08);
            --shadow-lg: 0 2px 12px rgba(0,0,0,0.08);
        }

        [data-theme="dark"] {
             
            --bg-primary: #1a1d23;
            --bg-secondary: #242831;
            --bg-tertiary: #2d3139;
            --text-primary: #e4e6eb;
            --text-secondary: #adb5bd;
            --text-tertiary: #8b95a1;
            --text-heading: #e4e6eb;
            --border-color: #3a3f4b;
            --border-light: #3a3f4b;
            --border-medium: #404654;
            --accent-primary: #4da6d6;
            --accent-secondary: #3d8ab5;
            --accent-hover: #60b4e0;
            --accent-light: #2d4556;
            --code-bg: #2d3139;
            --code-text: #ff6b9d;
            --pre-bg: linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);
            --pre-border: #3a3f4b;
            --table-hover: #2d4556;
            --table-stripe: #2d3139;
            --note-bg: linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);
            --note-border: #4da6d6;
            --note-text: #66b3e0;
            --warning-bg: linear-gradient(to right, #3d3520 0%, #3d3520 100%);
            --warning-border: #ffb347;
            --warning-text: #ffc870;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.3);
            --shadow-md: 0 2px 8px rgba(0,0,0,0.4);
            --shadow-lg: 0 2px 12px rgba(0,0,0,0.5);
        }

         
        
        :root {
             
            --content-max-width: 1000px;
            --content-margin-horizontal: 30px;
            --content-margin-vertical: 15px;
            --container-border-radius: 8px;
        }
        

         
        * {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-primary);
            font-size: 15px;
        }

         
        
         
        .doc-wrapper {
            display: flex;
            max-width: 1600px;
            margin: 0 auto;
            min-height: 100vh;
        }

        .sidebar {
            width: 280px;
            background-color: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            flex-shrink: 0;
        }

        .sidebar::-webkit-scrollbar {
            width: 8px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover {
            background: var(--accent-primary);
        }

        .content-wrapper {
            flex: 1;
            min-width: 0;
            background-color: var(--bg-primary);
        }

        .container {
            max-width: var(--content-max-width);
            margin: var(--content-margin-vertical) var(--content-margin-horizontal);
            background-color: var(--bg-secondary);
            padding: 30px;
            box-shadow: var(--shadow-lg);
            border-radius: var(--container-border-radius);
        }
        

         
        
        .sidebar-header {
            padding: 20px;
            border-bottom: 2px solid var(--border-light);
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
        }

        .sidebar-title {
            color: white;
            font-size: 16px;
            font-weight: 700;
            margin: 0;
            text-align: center;
        }

        .sidebar-nav {
            padding: 15px 0;
        }

        .nav-section {
            margin-bottom: 8px;
        }

        .nav-section-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
        }

        .nav-section-title:hover {
            background-color: var(--bg-tertiary);
            border-left-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .nav-section-title .icon {
            font-size: 16px;
            margin-right: 8px;
        }

        .nav-section-title .toggle-icon {
            font-size: 12px;
            transition: transform 0.2s ease;
        }

        .nav-section.expanded .toggle-icon {
            transform: rotate(90deg);
        }

        .nav-section-children {
            display: none;
            padding-left: 15px;
        }

        .nav-section.expanded > .nav-section-children {
            display: block;
        }

        .nav-link {
            display: block;
            padding: 8px 20px;
            padding-left: 45px;
            color: var(--text-secondary);
            font-size: 13px;
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
        }

        .nav-link:hover {
            background-color: var(--bg-tertiary);
            color: var(--accent-primary);
            border-left-color: var(--accent-light);
        }

        .nav-link.active {
            background-color: var(--accent-light);
            color: var(--accent-primary);
            border-left-color: var(--accent-primary);
            font-weight: 600;
        }

         
        .nav-subsection {
            margin-bottom: 4px;
        }

        .nav-subsection-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 20px;
            padding-left: 35px;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            background-color: var(--bg-tertiary);
        }

        .nav-subsection-title:hover {
            background-color: var(--bg-primary);
            border-left-color: var(--accent-secondary);
            color: var(--accent-secondary);
        }

        .nav-subsection-title .icon {
            font-size: 14px;
            margin-right: 6px;
        }

        .nav-subsection-title .toggle-icon {
            font-size: 10px;
            transition: transform 0.2s ease;
        }

        .nav-subsection.expanded .toggle-icon {
            transform: rotate(90deg);
        }

        .nav-subsection .nav-section-children {
            display: none;
            padding-left: 10px;
        }

        .nav-subsection.expanded > .nav-section-children {
            display: block;
        }

         
        .nav-block-link {
            display: block;
            padding: 6px 20px;
            padding-left: 55px;
            color: var(--text-secondary);
            font-size: 12px;
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
        }

        .nav-block-link:hover {
            background-color: var(--accent-light);
            color: var(--accent-primary);
            border-left-color: var(--accent-secondary);
        }

        .nav-block-link.active {
            background-color: var(--accent-light);
            color: var(--accent-primary);
            border-left-color: var(--accent-primary);
            font-weight: 600;
        }

        .mobile-nav-toggle {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--accent-primary);
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
        }

        .mobile-nav-toggle:hover {
            background: var(--accent-hover);
        }
        

         
        .theme-toggle {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 13px;
            color: var(--text-secondary);
            margin-left: 16px;
            user-select: none;
        }

        .theme-toggle:hover {
            background: var(--accent-light);
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .theme-icon {
            font-size: 16px;
        }

         
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0 12px 0;
            margin-bottom: 20px;
            border-bottom: 3px solid var(--border-light);
            position: relative;
        }

        .page-header::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 120px;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
        }

        .page-header h1 {
            margin: 0;
            color: var(--text-heading);
            font-size: 32px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .page-header-right {
            display: flex;
            align-items: center;
        }

        .microchip-logo {
            height: 55px;
        }

         
        .breadcrumbs {
            display: flex;
            align-items: center;
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            padding: 10px 14px;
            background: var(--bg-tertiary);
            border-radius: 6px;
            border-left: 3px solid var(--accent-primary);
        }

        .breadcrumbs a {
            color: var(--accent-primary);
            text-decoration: none;
            padding: 4px 8px;
            border-radius: 3px;
        }

        .breadcrumbs a:hover {
            background-color: var(--accent-light);
            color: var(--accent-hover);
        }

        .breadcrumbs span {
            margin: 0 8px;
            color: var(--text-tertiary);
        }

         
        h2 {
            color: var(--text-heading);
            font-weight: 600;
            font-size: 22px;
            letter-spacing: -0.5px;
            margin-top: 32px;
            margin-bottom: 12px;
            padding-bottom: 6px;
            border-bottom: 2px solid var(--border-light);
            position: relative;
        }

        h2::before {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
        }

        h3 {
            color: var(--text-primary);
            font-weight: 600;
            font-size: 17px;
            margin-top: 24px;
            margin-bottom: 10px;
        }

        h4 {
            color: var(--text-primary);
            font-weight: 500;
            font-size: 15px;
            margin-top: 18px;
            margin-bottom: 8px;
        }

         
        p {
            margin-bottom: 12px;
            line-height: 1.6;
            color: var(--text-primary);
        }

         
        table {
            border-collapse: separate;
            border-spacing: 0;
            width: 100%;
            margin: 18px 0;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        th {
            background: linear-gradient(to bottom, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            color: white;
            padding: 14px 16px;
            text-align: left;
            font-weight: 600;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid var(--accent-secondary);
        }

        td {
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-medium);
            vertical-align: top;
            color: var(--text-primary);
            background-color: var(--bg-secondary);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:nth-child(even) td {
            background-color: var(--table-stripe);
        }

        tbody tr:hover td {
            background-color: var(--table-hover);
        }

         
        code {
            background-color: var(--code-bg);
            padding: 3px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            color: var(--code-text);
            font-size: 14px;
        }

        pre {
            background: var(--pre-bg);
            border: 1px solid var(--pre-border);
            border-left: 4px solid var(--accent-primary);
            border-radius: 6px;
            padding: 16px;
            margin: 18px 0;
            box-shadow: var(--shadow-sm);
            overflow-x: auto;
            line-height: 1.5;
        }

        pre code {
            background-color: transparent;
            padding: 0;
            color: var(--text-primary);
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
        }

         
        .note {
            background: var(--note-bg);
            border-left: 5px solid var(--note-border);
            border-radius: 4px;
            padding: 14px 16px;
            margin: 18px 0;
            box-shadow: var(--shadow-md);
            position: relative;
        }

        .note::before {
            content: '\2139\FE0F  Note';
            display: block;
            font-weight: 600;
            color: var(--note-text);
            margin-bottom: 6px;
            font-size: 14px;
        }

        .note p {
            color: var(--text-primary);
        }

        .warning {
            background: var(--warning-bg);
            border-left: 5px solid var(--warning-border);
            border-radius: 4px;
            padding: 14px 16px;
            margin: 18px 0;
            box-shadow: var(--shadow-md);
            position: relative;
        }

        .warning::before {
            content: '\26A0\FE0F  Warning';
            display: block;
            font-weight: 600;
            color: var(--warning-text);
            margin-bottom: 6px;
            font-size: 14px;
        }

        .warning p {
            color: var(--text-primary);
        }

         
        ul, ol {
            margin: 12px 0;
            padding-left: 30px;
            line-height: 1.6;
        }

        li {
            margin: 6px 0;
            color: var(--text-primary);
        }

         
        a {
            color: var(--accent-primary);
            text-decoration: none;
        }

        a:hover {
            color: var(--accent-hover);
            text-decoration: underline;
        }

         
        .nav-footer {
            margin-top: 48px;
            padding: 20px 0 12px 0;
            border-top: 2px solid var(--border-light);
            font-size: 11px;
            color: var(--text-tertiary);
            text-align: center;
        }

        .nav-footer p {
            margin: 0;
            font-size: 11px;
        }

         
        .block-icon-container {
            display: table;
            width: 100%;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin: 24px 0;
            padding: 20px;
            box-shadow: var(--shadow-md);
            table-layout: fixed;
        }

        .block-icon-image {
            display: table-cell;
            width: 220px;
            vertical-align: middle;
            padding-right: 20px;
        }

        .block-icon-image img {
            width: 200px;
            height: auto;
            display: block;
        }

        .block-icon-description {
            display: table-cell;
            vertical-align: middle;
            font-size: 16px;
            line-height: 1.7;
            color: var(--text-primary);
        }

         
        p img, .container > img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
            border: 1px solid var(--border-light);
            border-radius: 4px;
            box-shadow: var(--shadow-sm);
        }

         
        @media (max-width: 768px) {
            body {
                padding: 10px 20px;
            }

            .container {
                padding: 20px;
            }

            .page-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .microchip-logo {
                height: 40px;
            }

            .page-header h1 {
                font-size: 24px;
            }

            h2 {
                font-size: 20px;
            }

            h3 {
                font-size: 16px;
            }
        }

         
        
        @media (max-width: 1024px) {
             
            .sidebar {
                position: fixed;
                left: -280px;
                top: 0;
                height: 100vh;
                z-index: 999;
                transition: left 0.3s ease;
                box-shadow: 2px 0 8px rgba(0,0,0,0.15);
            }

            .sidebar.mobile-visible {
                left: 0;
            }

             
            .mobile-nav-toggle {
                display: flex;
                align-items: center;
                justify-content: center;
            }

             
            .content-wrapper {
                width: 100%;
            }

            .container {
                margin: 10px 15px;
                padding: 20px;
            }

             
            .sidebar.mobile-visible::after {
                content: '';
                position: fixed;
                top: 0;
                left: 280px;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: -1;
            }
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }

            .page-header h1 {
                font-size: 22px;
            }

            .breadcrumbs {
                font-size: 12px;
                padding: 8px 12px;
            }

            .nav-section-title {
                font-size: 13px;
                padding: 8px 15px;
            }

            .nav-link {
                font-size: 12px;
                padding: 6px 15px;
                padding-left: 35px;
            }
        }
        

         
        .under-construction-banner {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            color: white;
            padding: 12px 20px;
            text-align: center;
            font-size: 14px;
            font-weight: 600;
            border-bottom: 3px solid #e65100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            margin-bottom: 20px;
        }

        .under-construction-banner .icon {
            font-size: 18px;
            margin-right: 8px;
        }

        .under-construction-banner strong {
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
    </style>
</head>
<body>
    
    
    <div class="doc-wrapper">
        
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2 class="sidebar-title">MPLAB Blockset</h2>
            </div>
            <div class="sidebar-nav">
                
                <div class="nav-section">
                    <a href="../../" class="nav-section-title" style="display: block; border-left: 3px solid transparent;">
                        <span><span class="icon">🏠</span>Home</span>
                    </a>
                </div>

                
                
                <div class="nav-section" id="section-getting-started">
                    
                    
                    <div class="nav-section-title" onclick="toggleSection('getting-started')">
                        <span><span class="icon">🚀</span>Getting Started</span>
                        <span class="toggle-icon">▶</span>
                    </div>
                    <div class="nav-section-children">
                        
                            
                            
                            <a href="../../getting_started/overview.html" class="nav-link">Overview</a>
                            
                        
                            
                            
                            <a href="../../getting_started/installation.html" class="nav-link">Installation</a>
                            
                        
                            
                            
                            <a href="../../getting_started/quick_start.html" class="nav-link">Quick Start Guide</a>
                            
                        
                            
                            
                            <a href="../../getting_started/board_templates.html" class="nav-link">Board Templates</a>
                            
                        
                            
                            
                            <a href="../../getting_started/motor_control_examples.html" class="nav-link">Motor Control Examples</a>
                            
                        
                            
                            
                            <a href="../../getting_started/scheduler_multitasking.html" class="nav-link">Scheduler &amp; Multitasking</a>
                            
                        
                            
                            
                            <a href="../../getting_started/external_mode_pil.html" class="nav-link">External Mode &amp; PIL</a>
                            
                        
                            
                            
                            <a href="../../getting_started/data_visualization.html" class="nav-link">Data Visualization</a>
                            
                        
                            
                            
                            <a href="../../getting_started/supported_devices.html" class="nav-link">Supported Devices</a>
                            
                        
                    </div>
                    
                </div>
                
                <div class="nav-section" id="section-user-guide">
                    
                    
                    <div class="nav-section-title" onclick="toggleSection('user-guide')">
                        <span><span class="icon">📚</span>User Guide</span>
                        <span class="toggle-icon">▶</span>
                    </div>
                    <div class="nav-section-children">
                        
                            
                            
                            <a href="../../user_guide/code_generation.html" class="nav-link">Code Generation</a>
                            
                        
                            
                            
                            <a href="../../user_guide/compiler_setup.html" class="nav-link">Compiler Setup</a>
                            
                        
                            
                            
                            <a href="../../user_guide/external_mode.html" class="nav-link">External Mode</a>
                            
                        
                            
                            
                            <a href="../../user_guide/pil_testing.html" class="nav-link">PIL Testing</a>
                            
                        
                    </div>
                    
                </div>
                
                <div class="nav-section" id="section-block-reference">
                    
                    
                    <div class="nav-section-title" onclick="toggleSection('block-reference')">
                        <span><span class="icon">🧩</span>Block Reference</span>
                        <span class="toggle-icon">▶</span>
                    </div>
                    <div class="nav-section-children">
                        
                            
                            
                            <div class="nav-subsection" id="section-pwm-timers">
                                <div class="nav-subsection-title" onclick="toggleSection('pwm-timers')">
                                    <span><span class="icon">⚡</span>PWM &amp; Timers</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm.html" class="nav-block-link">PWM</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm_highspeed.html" class="nav-block-link">PWM High-Speed</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm_hs_fep.html" class="nav-block-link">PWM HS FEP</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm_highspeed_override.html" class="nav-block-link">PWM HS Override</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/mcpwm.html" class="nav-block-link">MCPWM (PIC32)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm_sam7x.html" class="nav-block-link">PWM SAM7x</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/pwm_sam7x_override.html" class="nav-block-link">PWM SAM7x Override</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/pwm_io/tcc_pwm.html" class="nav-block-link">TCC PWM (SAM)</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-timers">
                                <div class="nav-subsection-title" onclick="toggleSection('timers')">
                                    <span><span class="icon">⏱️</span>Timers</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/timers/timer_config.html" class="nav-block-link">Timer Config</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/timers/input_capture.html" class="nav-block-link">Input Capture</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/timers/output_compare_hw.html" class="nav-block-link">Output Compare (HW)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/timers/output_compare_sw.html" class="nav-block-link">Output Compare (SW)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/timers/timer_pil_profiling.html" class="nav-block-link">PIL Profiling Timer</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-adc">
                                <div class="nav-subsection-title" onclick="toggleSection('adc')">
                                    <span><span class="icon">📊</span>ADC</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc.html" class="nav-block-link">ADC (dsPIC)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc_hs_12b.html" class="nav-block-link">ADC HS 12-bit</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc_highspeed_sar.html" class="nav-block-link">ADC High-Speed SAR</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc_highspeed_sar_dspic.html" class="nav-block-link">ADC HS SAR (dsPIC)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc_same5x.html" class="nav-block-link">ADC (SAM E5x)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/adc_samrh707x.html" class="nav-block-link">ADC (SAMRH707x)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/adc/afec_sam7x.html" class="nav-block-link">AFEC (SAM7x)</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-communication">
                                <div class="nav-subsection-title" onclick="toggleSection('communication')">
                                    <span><span class="icon">📡</span>Communication</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <div class="nav-subsection" id="section-uart">
                                            <div class="nav-subsection-title" onclick="toggleSection('uart')">
                                                <span><span class="icon"></span>UART</span>
                                                <span class="toggle-icon">▶</span>
                                            </div>
                                            <div class="nav-section-children">
                                                
                                                
                                                <a href="../../block_reference/communication/uart/uart_config.html" class="nav-block-link">UART Config</a>
                                                
                                                
                                                <a href="../../block_reference/communication/uart/uart_tx.html" class="nav-block-link">UART Tx</a>
                                                
                                                
                                                <a href="../../block_reference/communication/uart/uart_rx.html" class="nav-block-link">UART Rx</a>
                                                
                                                
                                                <a href="../../block_reference/communication/uart/uart_txmatlab.html" class="nav-block-link">UART Tx MATLAB</a>
                                                
                                                
                                                <a href="../../block_reference/communication/uart/uart_break_and_autobaud.html" class="nav-block-link">UART Break &amp; Autobaud</a>
                                                
                                            </div>
                                        </div>
                                        
                                    
                                        
                                        
                                        <div class="nav-subsection" id="section-can">
                                            <div class="nav-subsection-title" onclick="toggleSection('can')">
                                                <span><span class="icon"></span>CAN</span>
                                                <span class="toggle-icon">▶</span>
                                            </div>
                                            <div class="nav-section-children">
                                                
                                                
                                                <a href="../../block_reference/communication/can/can_config.html" class="nav-block-link">CAN Config</a>
                                                
                                                
                                                <a href="../../block_reference/communication/can/can_tx.html" class="nav-block-link">CAN Tx</a>
                                                
                                                
                                                <a href="../../block_reference/communication/can/can_rx.html" class="nav-block-link">CAN Rx</a>
                                                
                                            </div>
                                        </div>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/communication/i2c.html" class="nav-block-link">I2C Master/Slave</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/communication/spi.html" class="nav-block-link">SPI Master/Slave</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-digital-io">
                                <div class="nav-subsection-title" onclick="toggleSection('digital-io')">
                                    <span><span class="icon">🔌</span>Digital I/O</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/digital_io/digital_input.html" class="nav-block-link">Digital Input</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/digital_io/digital_output.html" class="nav-block-link">Digital Output</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/digital_io/digital_output_read.html" class="nav-block-link">Digital Output Read</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/digital_io/digital_output_write.html" class="nav-block-link">Digital Output Write</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-encoders">
                                <div class="nav-subsection-title" onclick="toggleSection('encoders')">
                                    <span><span class="icon">🔄</span>Encoders</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/encoders_counters/qei.html" class="nav-block-link">QEI (Quadrature Encoder)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/encoders_counters/pdec.html" class="nav-block-link">PDEC (SAM)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/encoders_counters/qdec_samx.html" class="nav-block-link">QDEC (SAM)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/encoders_counters/change_notification.html" class="nav-block-link">Change Notification</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-analog-io">
                                <div class="nav-subsection-title" onclick="toggleSection('analog-io')">
                                    <span><span class="icon">📉</span>Analog I/O</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html" class="nav-block-link">High-Speed Comparator</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html" class="nav-block-link">Comparator w/ Slope</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/analog_io/comparator_opamps_volt_ref/op_amp.html" class="nav-block-link">Op-Amp</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/analog_io/comparator_opamps_volt_ref/pga.html" class="nav-block-link">PGA (Programmable Gain Amp)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/analog_io/dac_samx.html" class="nav-block-link">DAC (SAM)</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-system-config">
                                <div class="nav-subsection-title" onclick="toggleSection('system-config')">
                                    <span><span class="icon">⚙️</span>System Config</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/master.html" class="nav-block-link">Master</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/interrupt.html" class="nav-block-link">Interrupt</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/compiler_options.html" class="nav-block-link">Compiler Options</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/scheduler_options.html" class="nav-block-link">Scheduler Options</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/idle_task.html" class="nav-block-link">Idle Task</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/mcu_load.html" class="nav-block-link">MCU Load</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/mcu_overload.html" class="nav-block-link">MCU Overload</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/tasks_state.html" class="nav-block-link">Tasks State</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/system_configuration/secondary_core.html" class="nav-block-link">Secondary Core</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                            
                            
                            <div class="nav-subsection" id="section-utility">
                                <div class="nav-subsection-title" onclick="toggleSection('utility')">
                                    <span><span class="icon">🔧</span>Utility Blocks</span>
                                    <span class="toggle-icon">▶</span>
                                </div>
                                <div class="nav-section-children">
                                    
                                        
                                        
                                        <a href="../../block_reference/user_functions/c_function_call.html" class="nav-block-link">C Function Call</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/utility/doc.html" class="nav-block-link">Documentation Block</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/utility/msi.html" class="nav-block-link">MSI (Model Sample Info)</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/utility/port_info.html" class="nav-block-link">Port Info</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/utility/timer_info.html" class="nav-block-link">Timer Info</a>
                                        
                                    
                                        
                                        
                                        <a href="../../block_reference/utility/simulink_reset_config.html" class="nav-block-link">Simulink Reset Config</a>
                                        
                                    
                                </div>
                            </div>
                            
                        
                    </div>
                    
                </div>
                
                <div class="nav-section" id="section-examples">
                    
                    
                    <div class="nav-section-title" onclick="toggleSection('examples')">
                        <span><span class="icon">📖</span>Examples</span>
                        <span class="toggle-icon">▶</span>
                    </div>
                    <div class="nav-section-children">
                        
                            
                            
                            <a href="../../examples/field_weakening.html" class="nav-link">Field Weakening</a>
                            
                        
                    </div>
                    
                </div>
                
                <div class="nav-section" id="section-github">
                    
                    
                    <a href="https://github.com/microchip-technology/mplab-blockset" class="nav-section-title" style="display: block; border-left: 3px solid transparent;">
                        <span><span class="icon">💻</span>GitHub</span>
                    </a>
                    
                </div>
                
            </div>
        </nav>

        
        <div class="content-wrapper">
            <div class="container">
                <div class="breadcrumbs">
                    <a href="../../">Home</a>
                    
                        <span>&gt;</span>
                        <a href="../../block_reference/adc.html">ADC Blocks</a>
                    
                    <span>&gt;</span>
                    <span>ADC HighSpeed SAR - High-Speed SAR ADC Block</span>
                </div>

                
                <div class="under-construction-banner">
                    <span class="icon">⚠️</span>
                    <strong>Documentation Under Construction</strong> —
                    This documentation is currently being developed. All information has not been validated by Microchip yet.
                </div>
                

                <div class="page-header">
                    <h1>ADC HighSpeed SAR - High-Speed SAR ADC Block</h1>
                    <div class="page-header-right">
                        <img src="../../images/microchip-logo.png" alt="Microchip Logo" class="microchip-logo">
                        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
                            <span class="theme-icon" id="theme-icon">☀️</span>
                            <span id="theme-text">Light</span>
                        </button>
                    </div>
                </div>

                
  <div class="block-icon-container">
    <picture class="block-icon-image">
        <source srcset="../../assets/images/blocks/analog/ADC_HighSpeed_SAR.svg" type="image/svg+xml">
        <img src="../../assets/images/blocks/analog/ADC_HighSpeed_SAR.png" alt="Adc Highspeed Sar Block Icon">
    </picture>
    <div class="block-icon-description">
        | Device Family | Module Type | Dedicated Cores | Shared ADC | |&mdash;|&mdash;|&mdash;|&mdash;| | PIC32MK | DOS_02508_adc_sar_ctrl_upb_v1_PIC32MK | 6 (ADC0-ADC5) | ADC7 (configurable) | | dsPIC33C (WACP) | DOS_02508_WACP_adc_sar_ctrl_upb_v1 | 3 (ADC0-ADC2) | ADC7 (configurable) | | dsPIC33C (Standard) | DOS_02508_adc_sar_ctrl_upb_v1 | 5 (ADC0-ADC4) | ADC7 (configurable) |
    </div>
</div>

<h2 id="supported-device-families">Supported Device Families</h2>
<ul>
<li><strong>PIC32MK</strong></li>
<li><strong>dsPIC33C (WAC)</strong></li>
<li><strong>dsPIC33C (Standard)</strong></li>
</ul>
<h2 id="key-features">Key Features</h2>
<p><strong>Resolution</strong> 6/8/10/12-bit selectable per core <strong>Dedicated Cores</strong> 3-6 dedicated ADC cores (chip dependent) <strong>Shared ADC7</strong> Software-configurable multiplexed core <strong>Speed</strong> Up to 3.25 Msps per core <strong>Triggers</strong> Independent triggers per core <strong>Special Inputs</strong> VBat, IVref, Temperature, CTMU</p>
<h2 id="adc-architecture">ADC Architecture</h2>
<h3 id="dedicated-adc-cores-adc0-adc6">Dedicated ADC Cores (ADC0-ADC6)</h3>
<ul>
<li><strong>Hard-wired inputs:</strong> Each dedicated core has a fixed analog input pin</li>
<li><strong>Independent operation:</strong> Each core can sample simultaneously with different triggers</li>
<li><strong>No multiplexing:</strong> Zero channel switching delay</li>
<li><strong>Ideal for:</strong> Multi-phase motor current sensing, multi-channel synchronous acquisition</li>
</ul>
<h3 id="shared-adc7">Shared ADC7</h3>
<ul>
<li><strong>Flexible input selection:</strong> Can be connected to any available ANx input</li>
<li><strong>Software-controlled multiplexing:</strong> Select input channel via mask parameters</li>
<li><strong>Excluded inputs:</strong> Cannot use same inputs as dedicated cores (AN0-AN6 typically reserved)</li>
<li><strong>Ideal for:</strong> Auxiliary measurements, voltage monitoring, additional channels</li>
</ul>
<h2 id="configuration-parameters">Configuration Parameters</h2>
<h3 id="dedicated-core-settings-adc0-adc6">Dedicated Core Settings (ADC0-ADC6)</h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
          <th>Options</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ADC0_Enable</td>
          <td>Enable ADC0 dedicated core</td>
          <td>on / off</td>
      </tr>
      <tr>
          <td>ADC0_pin</td>
          <td>Analog input pin assignment for ADC0</td>
          <td>Displays pin mapping (e.g., &ldquo;AN0 / PA0 / Pin[46]&rdquo;)</td>
      </tr>
      <tr>
          <td>ADC0_SELRES</td>
          <td>Resolution for ADC0</td>
          <td>6-bit / 8-bit / 10-bit / 12-bit</td>
      </tr>
      <tr>
          <td>ADC0_SAMC</td>
          <td>Sample time (in TAD cycles)</td>
          <td>0-1023 TAD</td>
      </tr>
      <tr>
          <td>ADC0_Trig</td>
          <td>Trigger source for ADC0</td>
          <td>Manual, PWM, Timer, External (dynamic list)</td>
      </tr>
      <tr>
          <td>&hellip; Similar parameters for ADC1-ADC6 (if available on chip)</td>
          <td></td>
          <td></td>
      </tr>
  </tbody>
</table>
<h3 id="shared-adc7-configuration">Shared ADC7 Configuration</h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
          <th>Options</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ADC7_Enable</td>
          <td>Enable shared ADC7</td>
          <td>on / off</td>
      </tr>
      <tr>
          <td>ADC7_ANx checkboxes</td>
          <td>Select which analog inputs to connect to ADC7</td>
          <td>Individual checkboxes for each available ANx (typically AN7+)</td>
      </tr>
      <tr>
          <td>ADC7_SELRES</td>
          <td>Resolution for ADC7</td>
          <td>6-bit / 8-bit / 10-bit / 12-bit</td>
      </tr>
      <tr>
          <td>ADC7_SAMC</td>
          <td>Sample time (in TAD cycles)</td>
          <td>0-1023 TAD</td>
      </tr>
      <tr>
          <td>ADC7_Trig</td>
          <td>Trigger source for ADC7</td>
          <td>Manual, PWM, Timer, External (dynamic list)</td>
      </tr>
  </tbody>
</table>
<h3 id="special-input-channels">Special Input Channels</h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
          <th>Availability</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Vbat</td>
          <td>Battery voltage monitoring</td>
          <td>PIC32MK, dsPIC33C-WACP</td>
      </tr>
      <tr>
          <td>IVref</td>
          <td>Internal voltage reference</td>
          <td>All variants</td>
      </tr>
      <tr>
          <td>IVTemp</td>
          <td>Internal temperature sensor</td>
          <td>All variants</td>
      </tr>
      <tr>
          <td>CTMU_Temp</td>
          <td>CTMU temperature measurement</td>
          <td>PIC32MK, dsPIC33C-WACP</td>
      </tr>
  </tbody>
</table>
<h3 id="timing-configuration">Timing Configuration</h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Description</th>
          <th>Formula/Range</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ADC_R (impedance)</td>
          <td>Source impedance selection</td>
          <td>&lt;200Ω to &lt;50kΩ (determines min TAD)</td>
      </tr>
      <tr>
          <td>SAMC</td>
          <td>Sample time in TAD cycles</td>
          <td>Calculated:</td>
      </tr>
      <tr>
          <td>TAD</td>
          <td>ADC clock period</td>
          <td>Function of system clock and dividers</td>
      </tr>
  </tbody>
</table>
<h2 id="trigger-sources">Trigger Sources</h2>
<h3 id="available-trigger-types">Available Trigger Types</h3>
<table>
  <thead>
      <tr>
          <th>Trigger Type</th>
          <th>Description</th>
          <th>Use Case</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Manual</td>
          <td>Software-initiated conversion</td>
          <td>On-demand sampling, debugging</td>
      </tr>
      <tr>
          <td>PWM Special Event</td>
          <td>Triggered by PWM generator at specific phase</td>
          <td>Motor control - current sensing at exact PWM point</td>
      </tr>
      <tr>
          <td>Timer Compare</td>
          <td>Triggered by timer match event</td>
          <td>Periodic sampling with precise timing</td>
      </tr>
      <tr>
          <td>External Pin</td>
          <td>Hardware trigger from external source</td>
          <td>Synchronization with external events</td>
      </tr>
      <tr>
          <td>Scan Trigger</td>
          <td>Sequential triggering of multiple cores</td>
          <td>Multi-channel coordinated acquisition</td>
      </tr>
  </tbody>
</table>
<p><strong>Independent Triggering Example:</strong></p>
<ul>
<li>ADC0 triggered by PWM1 Special Event (phase current U)</li>
<li>ADC1 triggered by PWM1 Special Event (phase current V)</li>
<li>ADC2 triggered by PWM2 Special Event (phase current W)</li>
<li>ADC7 triggered by Timer3 Compare (DC bus voltage monitoring)
All cores sample independently based on their respective triggers.</li>
</ul>
<h2 id="pwm-adc-synchronization-strategies">PWM-ADC Synchronization Strategies</h2>
<p>Proper synchronization between PWM generation and ADC sampling is essential for motor control and power conversion. The High-Speed SAR ADC with dedicated cores provides exceptional flexibility for implementing optimal sampling strategies. Understanding when and how to trigger ADC conversions directly impacts control accuracy and system performance.</p>
<h3 id="synchronization-strategy-overview">Synchronization Strategy Overview</h3>
<p>The MCHP_ADC_HighSpeed_SAR block supports four fundamental synchronization strategies for different control requirements:</p>
<picture>
    <source srcset="../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_0TrigTimer.svg" type="image/svg+xml">
    <img src="../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_0TrigTimer.png" alt="Timer Trigger Timing Diagram" style="width: 100%; max-width: 800px; margin: 20px 0;">
</picture>
<picture>
    <source srcset="../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_1TrigTimerADC.svg" type="image/svg+xml">
    <img src="../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_1TrigTimerADC.png" alt="Timer-ADC-Task Synchronization Diagram" style="width: 100%; max-width: 800px; margin: 20px 0;">
</picture>
<picture>
    <source srcset="../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_2TrigPWMADC.svg" type="image/svg+xml">
    <img src="../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_2TrigPWMADC.png" alt="PWM-ADC-Task Synchronization Diagram" style="width: 100%; max-width: 800px; margin: 20px 0;">
</picture>
<picture>
    <source srcset="../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_3TrigPWMADC.svg" type="image/svg+xml">
    <img src="../../assets/images/toolbox_concepts/synchronization/MCHP_TimeStep_3TrigPWMADC.png" alt="Multiple PWM-ADC Triggers Diagram" style="width: 100%; max-width: 800px; margin: 20px 0;">
</picture>
<h4 id="strategy-1-timer-based-trigger-independent-sampling">Strategy 1: Timer-Based Trigger (Independent Sampling)</h4>
<p><strong>ADC Configuration:</strong></p>
<ul>
<li>Set <code>ADCx_Trig = 'Timer3 Compare'</code> (or any timer)</li>
<li>Timer runs at fixed frequency independent of PWM</li>
<li>Control task triggered by ADC interrupt or DMA completion</li>
</ul>
<p><strong>When to Use:</strong></p>
<ul>
<li>General-purpose data acquisition</li>
<li>Sensor monitoring at fixed sample rates</li>
<li>Multi-rate control systems (different loops at different frequencies)</li>
<li>Applications where PWM synchronization is not critical</li>
</ul>
<p><strong>Limitations:</strong></p>
<ul>
<li>❌ Not synchronized with PWM switching edges</li>
<li>❌ May sample during switching noise transients</li>
<li>❌ Not suitable for phase current sensing in motor control</li>
</ul>
<h4 id="strategy-2-timer--adc--task-synchronized-acquisition">Strategy 2: Timer → ADC → Task (Synchronized Acquisition)</h4>
<p><strong>ADC Configuration:</strong></p>
<ul>
<li>Timer trigger starts ADC conversion</li>
<li>ADC interrupt triggers control task execution</li>
<li>Ensures fresh data before control algorithm runs</li>
</ul>
<p><strong>Key Benefit:</strong> Zero latency - control task always uses most recent ADC data (no stale samples).</p>
<p><strong>Configuration Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#998;font-style:italic">% ADC Block Configuration:</span>
</span></span><span style="display:flex;"><span>ADC0_Enable = <span style="color:#d14">&#39;on&#39;</span>;
</span></span><span style="display:flex;"><span>ADC1_Enable = <span style="color:#d14">&#39;on&#39;</span>;
</span></span><span style="display:flex;"><span>ADC0_Trig = <span style="color:#d14">&#39;Timer3 Compare&#39;</span>;  <span style="color:#998;font-style:italic">% Timer trigger</span>
</span></span><span style="display:flex;"><span>ADC1_Trig = <span style="color:#d14">&#39;Timer3 Compare&#39;</span>;  <span style="color:#998;font-style:italic">% Same timer</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Timer3 Configuration:</span>
</span></span><span style="display:flex;"><span>Period = <span style="color:#099">1</span><span style="color:#000;font-weight:bold">/</span><span style="color:#099">10e3</span>;  <span style="color:#998;font-style:italic">% 10 kHz sampling rate</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Scheduler Configuration:</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Set control task to trigger on ADC0 interrupt</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Task sample time = &#39;Inherited&#39; (follows ADC trigger rate)</span>
</span></span></code></pre></div><p><strong>Best For:</strong></p>
<ul>
<li>Feedback control systems requiring minimum latency</li>
<li>Data logging applications</li>
<li>Sensor monitoring with immediate processing</li>
</ul>
<h4 id="strategy-3-pwm--adc--task-motor-control-standard--recommended">Strategy 3: PWM → ADC → Task (Motor Control Standard) ⭐ RECOMMENDED</h4>
<p><strong>⭐ This is the STANDARD approach for motor control and power conversion applications.</strong></p>
<p><strong>Key Benefits:</strong></p>
<ul>
<li>✅ <strong>Optimal sampling timing:</strong> Sample when PWM low-side FET is ON</li>
<li>✅ <strong>Noise immunity:</strong> Avoid switching transients</li>
<li>✅ <strong>Accurate current sensing:</strong> Sample during shunt current flow</li>
<li>✅ <strong>Automatic synchronization:</strong> Control rate matches PWM frequency</li>
<li>✅ <strong>Simultaneous sampling:</strong> Dedicated cores sample all phases at same instant</li>
</ul>
<p><strong>ADC Configuration Example (3-Phase FOC with Dedicated Cores):</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#998;font-style:italic">% PWM Block Configuration (MCHP_PWM_HighSpeed or MCHP_MCPWM):</span>
</span></span><span style="display:flex;"><span>PWM_Mode = <span style="color:#d14">&#39;Center-aligned&#39;</span>;
</span></span><span style="display:flex;"><span>PWM_Frequency = <span style="color:#099">20e3</span>;  <span style="color:#998;font-style:italic">% 20 kHz</span>
</span></span><span style="display:flex;"><span>SEVTCMP = <span style="color:#099">0</span>;  <span style="color:#998;font-style:italic">% Trigger at PWM valley (center point)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% ADC Block Configuration (Dedicated Cores):</span>
</span></span><span style="display:flex;"><span>ADC0_Enable = <span style="color:#d14">&#39;on&#39;</span>;  <span style="color:#998;font-style:italic">% Phase A current (AN0)</span>
</span></span><span style="display:flex;"><span>ADC1_Enable = <span style="color:#d14">&#39;on&#39;</span>;  <span style="color:#998;font-style:italic">% Phase B current (AN1)</span>
</span></span><span style="display:flex;"><span>ADC2_Enable = <span style="color:#d14">&#39;on&#39;</span>;  <span style="color:#998;font-style:italic">% Phase C current (AN2)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% All triggered by PWM valley for simultaneous sampling:</span>
</span></span><span style="display:flex;"><span>ADC0_Trig = <span style="color:#d14">&#39;PWM1 Special Event&#39;</span>;
</span></span><span style="display:flex;"><span>ADC1_Trig = <span style="color:#d14">&#39;PWM1 Special Event&#39;</span>;
</span></span><span style="display:flex;"><span>ADC2_Trig = <span style="color:#d14">&#39;PWM1 Special Event&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% All use 12-bit resolution:</span>
</span></span><span style="display:flex;"><span>ADC0_SELRES = <span style="color:#d14">&#39;12-bit&#39;</span>;
</span></span><span style="display:flex;"><span>ADC1_SELRES = <span style="color:#d14">&#39;12-bit&#39;</span>;
</span></span><span style="display:flex;"><span>ADC2_SELRES = <span style="color:#d14">&#39;12-bit&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Appropriate sample time for low-impedance shunt:</span>
</span></span><span style="display:flex;"><span>ADC0_SAMC = <span style="color:#099">10</span>;  <span style="color:#998;font-style:italic">% TAD cycles</span>
</span></span><span style="display:flex;"><span>ADC1_SAMC = <span style="color:#099">10</span>;
</span></span><span style="display:flex;"><span>ADC2_SAMC = <span style="color:#099">10</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Result: All 3 phase currents sampled simultaneously at PWM valley (20 kHz rate)</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Control task triggered by ADC0 interrupt completion</span>
</span></span></code></pre></div><p><strong> Why Sample at PWM Valley?</strong> In center-aligned PWM for 3-phase motor control, the valley (center) is when <strong>all three low-side FETs are simultaneously ON</strong>. This is the <strong>only time</strong> when phase currents flow through shunt resistors, enabling accurate current measurement. The dedicated ADC cores allow <strong>true simultaneous sampling</strong> with zero multiplexing delay.
<strong>Configuration Example with Shared ADC7 for Auxiliary Measurements:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Dedicated cores for critical signals (simultaneous):</span>
</span></span><span style="display:flex;"><span>ADC0_Enable = <span style="color:#d14">&#39;on&#39;</span>;  <span style="color:#998;font-style:italic">% Phase A current</span>
</span></span><span style="display:flex;"><span>ADC1_Enable = <span style="color:#d14">&#39;on&#39;</span>;  <span style="color:#998;font-style:italic">% Phase B current</span>
</span></span><span style="display:flex;"><span>ADC2_Enable = <span style="color:#d14">&#39;on&#39;</span>;  <span style="color:#998;font-style:italic">% Phase C current</span>
</span></span><span style="display:flex;"><span>ADC0_Trig = ADC1_Trig = ADC2_Trig = <span style="color:#d14">&#39;PWM1 Special Event&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Shared ADC7 for slower auxiliary measurements:</span>
</span></span><span style="display:flex;"><span>ADC7_Enable = <span style="color:#d14">&#39;on&#39;</span>;
</span></span><span style="display:flex;"><span>ADC7_ANx = [AN10, AN15];  <span style="color:#998;font-style:italic">% DC bus voltage, temperature</span>
</span></span><span style="display:flex;"><span>ADC7_Trig = <span style="color:#d14">&#39;PWM1 Special Event&#39;</span>;  <span style="color:#998;font-style:italic">% Same instant or slower rate</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Result: 3 phase currents + 2 auxiliary channels sampled at PWM valley</span>
</span></span></code></pre></div><p><strong>Trigger Source Mapping (Device-Specific):</strong></p>
<table>
  <thead>
      <tr>
          <th>PWM Block</th>
          <th>PWM Configuration</th>
          <th>ADC Trigger Selection</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>MCHP_PWM_HighSpeed</td>
          <td>Set</td>
          <td>TrigOut</td>
      </tr>
      <tr>
          <td>MCHP_MCPWM</td>
          <td>Set</td>
          <td>TRIG1/2/3</td>
      </tr>
      <tr>
          <td>MCHP_PWM (Standard)</td>
          <td>Set</td>
          <td>PxSECMP</td>
      </tr>
  </tbody>
</table>
<h4 id="strategy-4-multiple-triggers-per-pwm-period-advanced-control">Strategy 4: Multiple Triggers per PWM Period (Advanced Control)</h4>
<p><strong>Use Case:</strong> High-performance control requiring multiple measurements per PWM cycle.</p>
<p><strong>Key Applications:</strong></p>
<ul>
<li><strong>Single-shunt FOC:</strong> Sample currents at multiple PWM sector transitions</li>
<li><strong>Dual sampling:</strong> Measure phase currents at peak and valley</li>
<li><strong>Sensorless FOC:</strong> Sample back-EMF at multiple rotor positions</li>
<li><strong>Digital power:</strong> Monitor voltage/current at different switching states</li>
</ul>
<p><strong>ADC Configuration Example (Single-Shunt FOC):</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-matlab" data-lang="matlab"><span style="display:flex;"><span><span style="color:#998;font-style:italic">% PWM Block (MCHP_PWM_HighSpeed or MCHP_MCPWM):</span>
</span></span><span style="display:flex;"><span>PWM_Mode = <span style="color:#d14">&#39;Center-aligned&#39;</span>;
</span></span><span style="display:flex;"><span>TrigOut = [<span style="color:#099">1</span> <span style="color:#099">1</span> <span style="color:#099">1</span>];  <span style="color:#998;font-style:italic">% Enable 3 trigger outputs</span>
</span></span><span style="display:flex;"><span>TRIG1 = Period <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">0.4</span>;   <span style="color:#998;font-style:italic">% Before valley (sector 1)</span>
</span></span><span style="display:flex;"><span>SEVTCMP = <span style="color:#099">0</span>;            <span style="color:#998;font-style:italic">% Valley (sector 2)</span>
</span></span><span style="display:flex;"><span>TRIG2 = Period <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">0.6</span>;   <span style="color:#998;font-style:italic">% After valley (sector 3)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% ADC Block Configuration (Dedicated cores for parallel sampling):</span>
</span></span><span style="display:flex;"><span>ADC0_Enable = <span style="color:#d14">&#39;on&#39;</span>;  <span style="color:#998;font-style:italic">% Shunt current - Sector 1</span>
</span></span><span style="display:flex;"><span>ADC0_Trig = <span style="color:#d14">&#39;PWM1 TRIG1&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ADC1_Enable = <span style="color:#d14">&#39;on&#39;</span>;  <span style="color:#998;font-style:italic">% Shunt current - Sector 2</span>
</span></span><span style="display:flex;"><span>ADC1_Trig = <span style="color:#d14">&#39;PWM1 Special Event&#39;</span>;  <span style="color:#998;font-style:italic">% Valley</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ADC2_Enable = <span style="color:#d14">&#39;on&#39;</span>;  <span style="color:#998;font-style:italic">% Shunt current - Sector 3</span>
</span></span><span style="display:flex;"><span>ADC2_Trig = <span style="color:#d14">&#39;PWM1 TRIG2&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% All measure same shunt at different PWM sectors</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">% Reconstruct 3-phase currents from single shunt</span>
</span></span></code></pre></div><p><strong>Advantages:</strong></p>
<ul>
<li>Maximum information extraction per PWM cycle</li>
<li>Cost reduction (single shunt vs. 3 shunts)</li>
<li>Improved state estimation for sensorless control</li>
<li>Faster transient response</li>
</ul>
<p><strong>Considerations:</strong></p>
<ul>
<li>⚠️ Increased CPU load (multiple ADC interrupts per PWM cycle)</li>
<li>⚠️ Careful timing analysis required (ensure ADC completes before next trigger)</li>
<li>⚠️ Complex current reconstruction algorithms</li>
</ul>
<h3 id="application-specific-recommendations">Application-Specific Recommendations</h3>
<table>
  <thead>
      <tr>
          <th>Application</th>
          <th>Recommended Strategy</th>
          <th>ADC Configuration</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>3-Phase FOC Motor Control</td>
          <td>PWM → ADC → Task (Strategy 3)</td>
          <td>• ADC0-2: 3 phase currents (dedicated cores)</td>
      </tr>
      <tr>
          <td>Single-Shunt FOC</td>
          <td>Multiple Triggers (Strategy 4)</td>
          <td>• ADC0-2: Shunt current at 3 PWM sectors</td>
      </tr>
      <tr>
          <td>BLDC Motor Control</td>
          <td>PWM → ADC → Task (Strategy 3)</td>
          <td>• ADC0: DC bus current</td>
      </tr>
      <tr>
          <td>Multi-Motor Control (2+ motors)</td>
          <td>Multiple independent PWM→ADC chains</td>
          <td>• ADC0-2: Motor 1 (PWM1 trigger)</td>
      </tr>
      <tr>
          <td>PFC Boost Converter</td>
          <td>PWM → ADC → Task (Strategy 3)</td>
          <td>• ADC0: Input current</td>
      </tr>
      <tr>
          <td>Interleaved DC-DC Converters</td>
          <td>PWM → ADC → Task (Strategy 3)</td>
          <td>• ADC0: Phase 1 current (PWM1 trigger)</td>
      </tr>
      <tr>
          <td>General Data Acquisition</td>
          <td>Timer → ADC → Task (Strategy 2)</td>
          <td>• ADC0-6: Multiple sensors at fixed rate</td>
      </tr>
  </tbody>
</table>
<h3 id="troubleshooting-synchronization-issues">Troubleshooting Synchronization Issues</h3>
<table>
  <thead>
      <tr>
          <th>Problem</th>
          <th>Likely Cause</th>
          <th>ADC Configuration Fix</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Phase currents read as zero</td>
          <td>ADC not triggered at PWM valley</td>
          <td>• Verify:</td>
      </tr>
      <tr>
          <td>Noisy ADC readings during operation</td>
          <td>Sampling during switching transients</td>
          <td>• Change trigger to PWM valley or after settling</td>
      </tr>
      <tr>
          <td>No PWM triggers in dropdown</td>
          <td>PWM block not configured with triggers</td>
          <td>• In PWM block: Enable</td>
      </tr>
      <tr>
          <td>Control task not synchronized with ADC</td>
          <td>Task triggered by timer, not ADC interrupt</td>
          <td>• In Scheduler: Set task trigger source to ADC interrupt</td>
      </tr>
      <tr>
          <td>Missing ADC samples (overrun)</td>
          <td>Next trigger before conversion complete</td>
          <td>• Calculate total conversion time: SAMC + Resolution_TAD</td>
      </tr>
      <tr>
          <td>Simultaneous sampling not working</td>
          <td>Cores not triggered by same source</td>
          <td>• Verify all cores use identical trigger:</td>
      </tr>
      <tr>
          <td>ADC7 channels interfering</td>
          <td>ADC7 scanning during dedicated core conversion</td>
          <td>• Use different trigger for ADC7 (slower rate)</td>
      </tr>
  </tbody>
</table>
<h3 id="performance-optimization-tips">Performance Optimization Tips</h3>
<ul>
<li><strong>Simultaneous Sampling:</strong> Assign critical signals (e.g., 3-phase currents) to dedicated cores ADC0-2 for true simultaneous acquisition</li>
<li><strong>Core Distribution:</strong> Balance channel assignment across available cores to maximize parallel conversion</li>
<li><strong>Resolution Selection:</strong> Use lowest resolution meeting accuracy requirements (10-bit often sufficient for motor control)</li>
<li><strong>SAMC Optimization:</strong> Calculate minimum SAMC based on source impedance: <code>SAMC_min = 0.002 × R_source + 3</code></li>
<li><strong>DMA Integration:</strong> Enable DMA for ADC results to minimize CPU overhead in high-speed applications</li>
<li><strong>Interrupt Priority:</strong> Set ADC interrupt priority higher than control task for immediate data availability</li>
<li><strong>ADC7 Management:</strong> Use shared ADC7 for slower auxiliary measurements to avoid interfering with fast dedicated cores
<strong> Quick Start Recommendation:</strong> For 3-phase motor control applications, start with <strong>Strategy 3 (PWM → ADC → Task)</strong>:</li>
<li>Configure PWM with center-aligned mode and <code>SEVTCMP = 0</code></li>
<li>Assign phase currents to dedicated cores ADC0-2</li>
<li>Set all ADC triggers to <code>'PWM1 Special Event'</code></li>
<li>Use 12-bit resolution with SAMC=10 for shunt resistors</li>
<li>Set control task to trigger on ADC0 interrupt
This configuration provides optimal current measurement with minimal setup complexity and leverages the dedicated core architecture for true simultaneous sampling.</li>
</ul>
<h3 id="comparison-with-other-adc-architectures">Comparison with Other ADC Architectures</h3>
<table>
  <thead>
      <tr>
          <th>Feature</th>
          <th>HS SAR (This Block)</th>
          <th>dsPIC33A HS 12b</th>
          <th>Standard ADC</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Simultaneous Sampling</td>
          <td>✅ Yes (dedicated cores)</td>
          <td>❌ No (software sequencing)</td>
          <td>❌ No (multiplexed)</td>
      </tr>
      <tr>
          <td>Multiple Triggers/Period</td>
          <td>✅ Yes (per core)</td>
          <td>✅ Yes (6 sequences)</td>
          <td>⚠️ Limited (1 special event)</td>
      </tr>
      <tr>
          <td>Channel Flexibility</td>
          <td>⚠️ Dedicated + 1 shared</td>
          <td>✅ Any channel, any sequence</td>
          <td>✅ Any channel</td>
      </tr>
      <tr>
          <td>Best For</td>
          <td>Multi-phase FOC, high-speed parallel acquisition</td>
          <td>Complex sequencing, single-shunt FOC</td>
          <td>Legacy support, simple acquisition</td>
      </tr>
  </tbody>
</table>
<h3 id="related-pwm-blocks-for-synchronization">Related PWM Blocks for Synchronization</h3>
<ul>
<li><a href="pwm_highspeed.html"><strong>MCHP_PWM_HighSpeed</strong></a> - High-speed PWM for dsPIC33C/CH/CK with multiple triggers</li>
<li><a href="mcpwm.html"><strong>MCHP_MCPWM</strong></a> - Motor Control PWM with advanced trigger capabilities</li>
<li><a href="pwm.html"><strong>MCHP_PWM</strong></a> - Standard PWM with special event trigger</li>
</ul>
<h2 id="block-inputsoutputs">Block Inputs/Outputs</h2>
<h3 id="dynamic-output-configuration">Dynamic Output Configuration</h3>
<p>The block automatically creates output ports based on enabled ADC cores:</p>
<ul>
<li><strong>Dedicated cores:</strong> One output per enabled ADC (ADC0_out, ADC1_out, etc.)</li>
<li><strong>Shared ADC7:</strong> One output per selected analog input</li>
<li><strong>Data type:</strong> Configurable (typically uint16)</li>
<li><strong>Output format:</strong> Raw ADC counts (right-aligned)
<strong>Example Output Configuration:</strong></li>
<li>ADC0 enabled → Output: ADC0_out (AN0 / PA0)</li>
<li>ADC1 enabled → Output: ADC1_out (AN1 / PA1)</li>
<li>ADC2 enabled → Output: ADC2_out (AN2 / PA2)</li>
<li>ADC7 with AN10, AN15 selected → Outputs: AN10_out, AN15_out
Total: 5 output ports</li>
</ul>
<h2 id="implementation-details">Implementation Details</h2>
<h3 id="key-registers-configured">Key Registers Configured</h3>
<table>
  <thead>
      <tr>
          <th>Register</th>
          <th>Purpose</th>
          <th>Key Fields</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ADCCONx</td>
          <td>ADC control for each core</td>
          <td>ON, AICEN, VREFSEL</td>
      </tr>
      <tr>
          <td>ADCTIMEx</td>
          <td>Timing configuration</td>
          <td>SAMC, ADCDIV, SELRES</td>
      </tr>
      <tr>
          <td>ADCTRGx</td>
          <td>Trigger source selection</td>
          <td>TRGSRC[4:0], STRGSRC</td>
      </tr>
      <tr>
          <td>ADCDATAx</td>
          <td>ADC result register</td>
          <td>DATA[11:0] (right-aligned)</td>
      </tr>
      <tr>
          <td>ADCIMCON1-3</td>
          <td>Input mode control (ADC7)</td>
          <td>Channel selection for shared ADC</td>
      </tr>
      <tr>
          <td>ADCCSS1-2</td>
          <td>Channel scan selection (ADC7)</td>
          <td>Bit-mapped channel enable</td>
      </tr>
  </tbody>
</table>
<h3 id="conversion-process">Conversion Process</h3>
<ul>
<li><strong>Trigger received</strong> → Core enters sampling phase</li>
<li><strong>Sample for SAMC TADs</strong> → Acquire input voltage on S&amp;H capacitor</li>
<li><strong>Hold and convert</strong> → SAR conversion (12/10/8/6 TAD depending on resolution)</li>
<li><strong>Result available</strong> → ADCDATAx register updated, interrupt/DMA triggered</li>
</ul>
<h2 id="usage-examples">Usage Examples</h2>
<h3 id="example-1-3-phase-motor-current-sensing">Example 1: 3-Phase Motor Current Sensing</h3>
<p><strong>Configuration:</strong></p>
<ul>
<li><strong>ADC0:</strong> Enabled, 12-bit, AN0 (Phase U current)</li>
<li><strong>ADC1:</strong> Enabled, 12-bit, AN1 (Phase V current)</li>
<li><strong>ADC2:</strong> Enabled, 12-bit, AN2 (Phase W current)</li>
<li><strong>ADC0/1/2 Trigger:</strong> PWM1 Special Event (valley sampling)</li>
<li><strong>ADC0/1/2 SAMC:</strong> 10 TAD (for &lt;1kΩ source impedance)
<strong>Result:</strong> Three phase currents sampled simultaneously at PWM valley, zero multiplexing delay, perfect for FOC algorithms.</li>
</ul>
<h3 id="example-2-multi-channel-data-acquisition">Example 2: Multi-Channel Data Acquisition</h3>
<p><strong>Configuration:</strong></p>
<ul>
<li><strong>ADC0-ADC4:</strong> All enabled, 10-bit, dedicated inputs AN0-AN4</li>
<li><strong>ADC7:</strong> Enabled, scan mode with AN10, AN15, AN20</li>
<li><strong>ADC0-4 Trigger:</strong> Timer3 Compare (100kHz)</li>
<li><strong>ADC7 Trigger:</strong> Scan trigger (auto-sequenced)
<strong>Result:</strong> 5 dedicated channels sampled at 100kHz + 3 scanned channels on ADC7 for auxiliary measurements.</li>
</ul>
<h3 id="example-3-battery-monitoring-with-temperature-compensation">Example 3: Battery Monitoring with Temperature Compensation</h3>
<p><strong>Configuration:</strong></p>
<ul>
<li><strong>Vbat:</strong> Enabled (battery voltage)</li>
<li><strong>IVTemp:</strong> Enabled (junction temperature)</li>
<li><strong>ADC7:</strong> Enabled, 12-bit, trigger: Timer2 (1kHz)
<strong>Result:</strong> Periodic monitoring of battery voltage and chip temperature for thermal management.</li>
</ul>
<h3 id="example-4-high-impedance-sensor-interface">Example 4: High-Impedance Sensor Interface</h3>
<p><strong>Configuration:</strong></p>
<ul>
<li><strong>ADC0:</strong> Enabled, 12-bit, AN0</li>
<li><strong>ADC_R:</strong> &lt;50kΩ (high-impedance source)</li>
<li><strong>SAMC:</strong> Auto-calculated to 103 TAD</li>
<li><strong>Trigger:</strong> Manual (software controlled)
<strong>Result:</strong> Accurate conversion from 50kΩ source with sufficient sampling time.</li>
</ul>
<h2 id="performance-considerations">Performance Considerations</h2>
<h3 id="conversion-speed-vs-resolution">Conversion Speed vs Resolution</h3>
<table>
  <thead>
      <tr>
          <th>Resolution</th>
          <th>Conversion Time</th>
          <th>Max Sample Rate (SAMC=3)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>6-bit</td>
          <td>6 TAD</td>
          <td>~3.25 Msps (@ TAD=307ns)</td>
      </tr>
      <tr>
          <td>8-bit</td>
          <td>8 TAD</td>
          <td>~2.4 Msps</td>
      </tr>
      <tr>
          <td>10-bit</td>
          <td>10 TAD</td>
          <td>~1.9 Msps</td>
      </tr>
      <tr>
          <td>12-bit</td>
          <td>12 TAD</td>
          <td>~1.6 Msps</td>
      </tr>
  </tbody>
</table>
<h3 id="multi-core-throughput">Multi-Core Throughput</h3>
<ul>
<li><strong>Parallel operation:</strong> All dedicated cores can convert simultaneously</li>
<li><strong>Aggregate throughput:</strong> Up to 6 cores × 1.6 Msps = 9.6 Msps total (PIC32MK)</li>
<li><strong>ADC7 scan mode:</strong> Adds sequential throughput for auxiliary channels</li>
</ul>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues">Common Issues</h3>
<pre><code>            Ensure chip has ADC7 shared core capability
            Check that desired ANx pins exist on selected chip
            Verify ANx not already used by dedicated cores

        
            Increase ADC_R impedance selection
            Verify SAMC auto-calculation meets minimum for source impedance
            Consider using buffer amplifier for sources &gt;10kΩ
</code></pre>
<div class="warning" style="background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0;">
    Issue: No trigger sources available in dropdown
Solution: Add PWM or Timer blocks with trigger output capability before configuring ADC block.
</div>

<h3 id="device-specific-notes">Device-Specific Notes</h3>
<ul>
<li><strong>PIC32MK:</strong> 6 dedicated cores (ADC0-5), full ADC7 scan capability, VBat/CTMU support</li>
<li><strong>dsPIC33C (WACP):</strong> 3 dedicated cores (ADC0-2), reduced ADC7 options, VBat/CTMU support</li>
<li><strong>dsPIC33C (Standard):</strong> 5 dedicated cores (ADC0-4), standard ADC7, no VBat/CTMU</li>
</ul>
<h2 id="related-blocks">Related Blocks</h2>
<ul>
<li>[MCHP_ADC] - Standard ADC for dsPIC30F/33F/33E</li>
<li>[MCHP_ADC_HighSpeed_SAR_dsPIC] - Alternative HS SAR for dsPIC33C</li>
<li>[MCHP_ADC_HS_12b] - 12-bit high-speed ADC for dsPIC33A</li>
<li>[MCHP_PWM_HS_FEP] - PWM with ADC trigger capability</li>
</ul>
<h2 id="see-also">See Also</h2>
<p>[ADC Blocks Overview] | <a href="../block_reference.html">Block Reference</a> | <a href="../motor_control_guide.html">Motor Control Application Guide</a></p>



                <div class="nav-footer">
                    <p>Last updated: January 2025 | MPLAB Blockset Documentation</p>
                    <p>&copy; 2025 Microchip Technology Inc. All rights reserved.</p>
                </div>
            </div>
        </div>

        
        <button class="mobile-nav-toggle" onclick="toggleMobileSidebar()" aria-label="Toggle navigation">
            ☰
        </button>
    </div>
    

    <script>
        
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeButton(newTheme);
        }

        function updateThemeButton(theme) {
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');

            if (theme === 'dark') {
                themeIcon.textContent = '🌙';
                themeText.textContent = 'Dark';
            } else {
                themeIcon.textContent = '☀️';
                themeText.textContent = 'Light';
            }
        }

        
        (function initTheme() {
            const storedTheme = localStorage.getItem('theme');
            const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = storedTheme || (systemPrefersDark ? 'dark' : 'light');

            document.documentElement.setAttribute('data-theme', theme);
            updateThemeButton(theme);
        })();

        
        if (window.matchMedia) {
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                if (!localStorage.getItem('theme')) {
                    const newTheme = e.matches ? 'dark' : 'light';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    updateThemeButton(newTheme);
                }
            });
        }

        
        

        
        window.toggleSection = function(identifier) {
            const section = document.getElementById('section-' + identifier);
            if (section) {
                section.classList.toggle('expanded');

                
                
                if (section.classList.contains('nav-section')) {
                    
                    const expandedSections = getExpandedSections();
                    if (section.classList.contains('expanded')) {
                        expandedSections.add(identifier);
                    } else {
                        expandedSections.delete(identifier);
                    }
                    localStorage.setItem('expandedSections', JSON.stringify([...expandedSections]));
                }
                
                
            }
        };

        
        function getExpandedSections() {
            const stored = localStorage.getItem('expandedSections');
            return new Set(stored ? JSON.parse(stored) : []);
        }

        
        function restoreExpandedSections() {
            const expandedSections = getExpandedSections();
            expandedSections.forEach(identifier => {
                const section = document.getElementById('section-' + identifier);
                if (section) {
                    section.classList.add('expanded');
                }
            });
        }

        
        function highlightActivePage() {
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]');

            navLinks.forEach(link => {
                const linkPath = new URL(link.href, window.location.origin).pathname;
                if (linkPath === currentPath) {
                    link.classList.add('active');

                    
                    const parentSubsection = link.closest('.nav-subsection');
                    if (parentSubsection && !parentSubsection.classList.contains('expanded')) {
                        parentSubsection.classList.add('expanded');
                        
                    }

                    
                    const parentSection = link.closest('.nav-section');
                    if (parentSection && !parentSection.classList.contains('expanded')) {
                        parentSection.classList.add('expanded');
                        
                        const identifier = parentSection.id.replace('section-', '');
                        const expandedSections = getExpandedSections();
                        expandedSections.add(identifier);
                        localStorage.setItem('expandedSections', JSON.stringify([...expandedSections]));
                    }
                }
            });
        }

        
        window.toggleMobileSidebar = function() {
            const sidebar = document.querySelector('.sidebar');
            if (sidebar) {
                sidebar.classList.toggle('mobile-visible');
            }
        };

        
        (function initSidebar() {
            restoreExpandedSections();
            highlightActivePage();

            
            const activeLink = document.querySelector('.nav-link.active');
            if (activeLink) {
                const parentSection = activeLink.closest('.nav-section');
                if (parentSection && parentSection.id) {
                    const identifier = parentSection.id.replace('section-', '');
                    const expandedSections = getExpandedSections();
                    if (!expandedSections.has(identifier)) {
                        expandedSections.add(identifier);
                        localStorage.setItem('expandedSections', JSON.stringify([...expandedSections]));
                    }
                }
            }
        })();
        
    </script>
</body>
</html>
