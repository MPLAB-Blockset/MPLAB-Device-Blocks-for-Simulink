<!DOCTYPE html>
<html>
<head>
    <title>MCHP_PWM_SAM7x - MCHP Blockset</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../assets/css/navigation.css">
    <script src="../../assets/js/navigation.js"></script>
</head>
<body>
    <!-- Mobile Navigation Toggle -->
    <button class="nav-toggle" aria-label="Toggle navigation">☰</button>

    <!-- Left Navigation Panel -->
    <nav class="doc-nav-container">
        <div class="doc-nav-header">
            <a href="../../index.html">MCHP Blockset Docs</a>
        </div>
        <ul class="doc-nav-menu">
            <li class="nav-item">
                <a href="../../index.html" class="nav-link">Home</a>
            </li>

            <!-- Getting Started Section -->
            <li class="nav-item">
                <div class="nav-category">Getting Started <span class="nav-category-icon">▼</span></div>
                <ul class="nav-list">
                    <li><a href="../../getting_started/overview.html" class="nav-link">Overview</a></li>
                    <li><a href="../../getting_started/installation.html" class="nav-link">Installation</a></li>
                    <li><a href="../../getting_started/quick_start.html" class="nav-link">Quick Start</a></li>
                    <li><a href="../../getting_started/board_templates.html" class="nav-link">Board Templates</a></li>
                    <li><a href="../../getting_started/supported_devices.html" class="nav-link">Supported Devices</a></li>
                </ul>
            </li>

            <!-- User Guide Section -->
            <li class="nav-item">
                <div class="nav-category">User Guide <span class="nav-category-icon">▼</span></div>
                <ul class="nav-list">
                    <li><a href="../../user_guide/index.html" class="nav-link">User Guide Overview</a></li>
                    <li><a href="../../user_guide/code_generation.html" class="nav-link">Code Generation</a></li>
                    <li><a href="../../user_guide/external_mode.html" class="nav-link">External Mode</a></li>
                </ul>
            </li>

            <!-- Block Reference Section -->
            <li class="nav-item">
                <div class="nav-category">Block Reference <span class="nav-category-icon">▼</span></div>
                <ul class="nav-list">
                    <li><a href="../../block_reference/index.html" class="nav-link">Block Reference Overview</a></li>
                </ul>
            </li>

            <!-- Examples Section -->
            <li class="nav-item">
                <div class="nav-category">Examples <span class="nav-category-icon">▼</span></div>
                <ul class="nav-list">
                    <li><a href="../../examples/field_weakening.html" class="nav-link">Field Weakening</a></li>
                </ul>
            </li>

            <!-- Release Notes -->
            <li class="nav-item">
                <a href="../../release_notes.html" class="nav-link">Release Notes</a>
            </li>
        </ul>
    </nav>

    <div class="doc-content-wrapper">
    <h1>MCHP_PWM_SAM7x - SAM7x PWM Block</h1>

    
    <!-- Block Icon -->
    <div class="block-image">
        <img src="../assets/images/blocks/pwm/PWM_SAMx7.svg"
             alt="PWM_SAMx7 Block Icon"
             onerror="this.onerror=null; this.src='../assets/images/blocks/pwm/PWM_SAMx7.png';">
        <div class="block-image-caption">
            PWM_SAMx7 Block Icon
        </div>
    </div>
<h2>Block Description</h2>
    <p>The MCHP_PWM_SAM7x block provides PWM peripheral control for Microchip SAM7x ARM-based microcontrollers (SAME5x, SAME7x, SAMC2x, SAMD2x families). This block offers high-resolution PWM with complementary outputs, dead-time insertion, and synchronized operation.</p>

    <h2>Supported Device Families</h2>
    <table>
        <tr>
            <th>Family</th>
            <th>Examples</th>
            <th>Features</th>
        </tr>
        <tr>
            <td><strong>SAME5x</strong></td>
            <td>SAME54, SAME53, SAME51</td>
            <td>Up to 4 PWM channels, 120 MHz, TCC peripherals</td>
        </tr>
        <tr>
            <td><strong>SAME7x</strong></td>
            <td>SAME70, SAMS70, SAMV71</td>
            <td>Up to 8 PWM channels, 300 MHz, advanced PWM features</td>
        </tr>
        <tr>
            <td><strong>SAMC2x</strong></td>
            <td>SAMC21, SAMC20</td>
            <td>Up to 4 PWM channels, 48 MHz, motor control optimized</td>
        </tr>
        <tr>
            <td><strong>SAMD2x</strong></td>
            <td>SAMD21, SAMD20</td>
            <td>Up to 3 PWM channels, 48 MHz, compact implementation</td>
        </tr>
    </table>

    <h2>Key Features</h2>
    <ul>
        <li>Complementary PWM output pairs with dead-time</li>
        <li>Independent period and duty cycle control</li>
        <li>Center-aligned and edge-aligned modes</li>
        <li>Fault input with configurable response</li>
        <li>Pattern generation for BLDC commutation</li>
        <li>Synchronized PWM update</li>
        <li>Dynamic dead-time adjustment</li>
    </ul>

    <h2>Configuration Parameters</h2>

    <h3>Basic Configuration</h3>
    <table>
        <tr>
            <th>Parameter</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><code>PWM_Channels</code></td>
            <td>Enabled PWM channel numbers (e.g., [0 1 2 3])</td>
        </tr>
        <tr>
            <td><code>PWM_Mode</code></td>
            <td>Edge-aligned or Center-aligned</td>
        </tr>
        <tr>
            <td><code>Period</code></td>
            <td>PWM period (constant or input)</td>
        </tr>
        <tr>
            <td><code>DutyCycle_Init</code></td>
            <td>Initial duty cycle values</td>
        </tr>
    </table>

    <h3>Dead Time</h3>
    <table>
        <tr>
            <th>Parameter</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><code>DeadTime_Enable</code></td>
            <td>Enable dead-time insertion</td>
        </tr>
        <tr>
            <td><code>DeadTimeH</code></td>
            <td>Dead-time for high-side output (seconds)</td>
        </tr>
        <tr>
            <td><code>DeadTimeL</code></td>
            <td>Dead-time for low-side output (seconds)</td>
        </tr>
    </table>

    <h2>Block Inputs/Outputs</h2>

    <h3>Inputs</h3>
    <table>
        <tr>
            <th>Input</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><code>Period</code></td>
            <td>Variable</td>
            <td>Optional period input (if enabled)</td>
        </tr>
        <tr>
            <td><code>DutyCycle 0..N</code></td>
            <td>Variable</td>
            <td>Duty cycle per enabled channel</td>
        </tr>
        <tr>
            <td><code>DeadTimeH 0..N</code></td>
            <td>uint16</td>
            <td>Dynamic high-side dead-time (if enabled)</td>
        </tr>
        <tr>
            <td><code>DeadTimeL 0..N</code></td>
            <td>uint16</td>
            <td>Dynamic low-side dead-time (if enabled)</td>
        </tr>
    </table>

    <h3>Outputs</h3>
    <table>
        <tr>
            <th>Output</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        <tr>
            <td><code>Fault_Status</code></td>
            <td>boolean</td>
            <td>Fault condition indicator (if fault enabled)</td>
        </tr>
    </table>

    <h2>Usage Example</h2>
    <pre><code>% SAME70 3-phase motor control:
PWM_Channels = [0 1 2];
PWM_Mode = 'Center-aligned';
Period = 1/20e3;  % 20 kHz

% Dead-time:
DeadTime_Enable = 'on';
DeadTimeH = [1e-6 1e-6 1e-6];  % 1 µs each phase
DeadTimeL = [1e-6 1e-6 1e-6];

% Connect duty cycle inputs from FOC algorithm
</code></pre>

    <h2>Related Blocks</h2>
    <ul>
        <li><a href="pwm_sam7x_override.html"><strong>MCHP_PWM_SAM7x_Override</strong></a> - Override control for SAM7x PWM</li>
        <li><a href="tcc_pwm.html"><strong>MCHP_TCC_PWM</strong></a> - TCC-based PWM for SAME5x/SAMC2x</li>
        <li><strong>MCHP_ADC_SAM</strong> - SAM ADC with PWM synchronization</li>
    </ul>

    <hr>
    <p><small>Last updated: January 2025 | MCHP Blockset Documentation</small></p>
    </div>
</body>
</html>
