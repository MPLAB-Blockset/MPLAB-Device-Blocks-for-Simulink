<!doctype html><html lang=en><head><title>Scheduler & Multitasking - MPLAB Device Blocks for Simulink - MPLAB Blockset for MATLAB/Simulink</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Microchip Blockset for MATLAB/Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers"><meta name=keywords content="Microchip,MPLAB,MATLAB,Simulink,dsPIC,PIC32,Embedded,Code Generation,Motor Control"><meta name=author content="Microchip Technology Inc."><meta name=robots content="index, follow"><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=canonical href=https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink/getting_started/scheduler_multitasking.html><link rel=icon type=image/x-icon href=../favicon.ico><style>:root{--bg-primary:#f8f9fa;--bg-secondary:white;--bg-tertiary:#f8f9fa;--text-primary:#2c3e50;--text-secondary:#666;--text-tertiary:#6c757d;--text-heading:#003d5c;--border-color:#dee2e6;--border-light:#e1e8ed;--border-medium:#e9ecef;--accent-primary:#0076A8;--accent-secondary:#005a85;--accent-hover:#005580;--accent-light:#e3f2fd;--code-bg:#f4f4f4;--code-text:#c7254e;--pre-bg:linear-gradient(to bottom, #e8e8e8 0%, #f0f0f0 100%);--pre-border:#d0d0d0;--table-hover:#e3f2fd;--table-stripe:#f8f9fa;--note-bg:linear-gradient(to right, #e7f3fe 0%, #f5fbff 100%);--note-border:#2196F3;--note-text:#1976D2;--warning-bg:linear-gradient(to right, #fff9e6 0%, #fffcf0 100%);--warning-border:#ff9800;--warning-text:#f57c00;--shadow-sm:0 2px 4px rgba(0,0,0,0.05);--shadow-md:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 2px 12px rgba(0,0,0,0.08)}[data-theme=dark]{--bg-primary:#1a1d23;--bg-secondary:#242831;--bg-tertiary:#2d3139;--text-primary:#e4e6eb;--text-secondary:#adb5bd;--text-tertiary:#8b95a1;--text-heading:#e4e6eb;--border-color:#3a3f4b;--border-light:#3a3f4b;--border-medium:#404654;--accent-primary:#4da6d6;--accent-secondary:#3d8ab5;--accent-hover:#60b4e0;--accent-light:#2d4556;--code-bg:#2d3139;--code-text:#ff6b9d;--pre-bg:linear-gradient(to bottom, #2d3139 0%, #2d3139 100%);--pre-border:#3a3f4b;--table-hover:#2d4556;--table-stripe:#2d3139;--note-bg:linear-gradient(to right, #1e3a52 0%, #1e3a52 100%);--note-border:#4da6d6;--note-text:#66b3e0;--warning-bg:linear-gradient(to right, #3d3520 0%, #3d3520 100%);--warning-border:#ffb347;--warning-text:#ffc870;--shadow-sm:0 2px 4px rgba(0,0,0,0.3);--shadow-md:0 2px 8px rgba(0,0,0,0.4);--shadow-lg:0 2px 12px rgba(0,0,0,0.5)}:root{--content-max-width:1000px;--content-margin-horizontal:30px;--content-margin-vertical:15px;--container-border-radius:8px}*{transition:background-color .3s ease,color .3s ease,border-color .3s ease}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,roboto,oxygen,ubuntu,cantarell,sans-serif;margin:0;padding:0;line-height:1.6;color:var(--text-primary);background-color:var(--bg-primary);font-size:15px}.doc-wrapper{display:flex;max-width:1600px;margin:0 auto;min-height:100vh}.sidebar{width:280px;background-color:var(--bg-secondary);border-right:1px solid var(--border-color);position:sticky;top:0;height:100vh;overflow-y:auto;overflow-x:hidden;flex-shrink:0}.sidebar::-webkit-scrollbar{width:8px}.sidebar::-webkit-scrollbar-track{background:var(--bg-tertiary)}.sidebar::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}.sidebar::-webkit-scrollbar-thumb:hover{background:var(--accent-primary)}.content-wrapper{flex:1;min-width:0;background-color:var(--bg-primary)}.container{max-width:var(--content-max-width);margin:var(--content-margin-vertical)var(--content-margin-horizontal);background-color:var(--bg-secondary);padding:30px;box-shadow:var(--shadow-lg);border-radius:var(--container-border-radius)}.sidebar-header{padding:20px;border-bottom:2px solid var(--border-light);background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%)}.sidebar-title{color:#fff;font-size:16px;font-weight:700;margin:0;text-align:center}.sidebar-nav{padding:15px 0}.nav-section{margin-bottom:8px}.nav-section-title{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;color:var(--text-primary);font-weight:600;font-size:14px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease}.nav-section-title:hover{background-color:var(--bg-tertiary);border-left-color:var(--accent-primary);color:var(--accent-primary)}.nav-section-title .icon{font-size:16px;margin-right:8px}.nav-section-title .toggle-icon{font-size:12px;transition:transform .2s ease}.nav-section.expanded .toggle-icon{transform:rotate(90deg)}.nav-section-children{display:none;padding-left:15px}.nav-section.expanded>.nav-section-children{display:block}.nav-link{display:block;padding:8px 20px;padding-left:45px;color:var(--text-secondary);font-size:13px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-link:hover{background-color:var(--bg-tertiary);color:var(--accent-primary);border-left-color:var(--accent-light)}.nav-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.nav-subsection{margin-bottom:4px}.nav-subsection-title{display:flex;align-items:center;justify-content:space-between;padding:8px 20px;padding-left:35px;color:var(--text-primary);font-weight:600;font-size:13px;cursor:pointer;border-left:3px solid transparent;transition:all .2s ease;background-color:var(--bg-tertiary)}.nav-subsection-title:hover{background-color:var(--bg-primary);border-left-color:var(--accent-secondary);color:var(--accent-secondary)}.nav-subsection-title .icon{font-size:14px;margin-right:6px}.nav-subsection-title .toggle-icon{font-size:10px;transition:transform .2s ease}.nav-subsection.expanded .toggle-icon{transform:rotate(90deg)}.nav-subsection .nav-section-children{display:none;padding-left:10px}.nav-subsection.expanded>.nav-section-children{display:block}.nav-block-link{display:block;padding:6px 20px;padding-left:55px;color:var(--text-secondary);font-size:12px;text-decoration:none;border-left:3px solid transparent;transition:all .2s ease}.nav-block-link:hover{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-secondary)}.nav-block-link.active{background-color:var(--accent-light);color:var(--accent-primary);border-left-color:var(--accent-primary);font-weight:600}.mobile-nav-toggle{display:none;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background:var(--accent-primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:var(--shadow-lg);z-index:1000}.mobile-nav-toggle:hover{background:var(--accent-hover)}.theme-toggle{display:inline-flex;align-items:center;gap:6px;cursor:pointer;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:20px;padding:6px 12px;font-size:13px;color:var(--text-secondary);margin-left:16px;user-select:none}.theme-toggle:hover{background:var(--accent-light);border-color:var(--accent-primary);color:var(--accent-primary)}.theme-icon{font-size:16px}.page-header{display:flex;justify-content:space-between;align-items:center;padding:16px 0 12px;margin-bottom:20px;border-bottom:3px solid var(--border-light);position:relative}.page-header::after{content:'';position:absolute;bottom:-3px;left:0;width:120px;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}.page-header h1{margin:0;color:var(--text-heading);font-size:32px;font-weight:700;letter-spacing:-.5px}.page-header-right{display:flex;align-items:center}.microchip-logo{height:55px}.breadcrumbs{display:flex;align-items:center;font-size:13px;color:var(--text-secondary);margin-bottom:16px;padding:10px 14px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-primary)}.breadcrumbs a{color:var(--accent-primary);text-decoration:none;padding:4px 8px;border-radius:3px}.breadcrumbs a:hover{background-color:var(--accent-light);color:var(--accent-hover)}.breadcrumbs span{margin:0 8px;color:var(--text-tertiary)}h2{color:var(--text-heading);font-weight:600;font-size:22px;letter-spacing:-.5px;margin-top:32px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid var(--border-light);position:relative}h2::before{content:'';position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-secondary))}h3{color:var(--text-primary);font-weight:600;font-size:17px;margin-top:24px;margin-bottom:10px}h4{color:var(--text-primary);font-weight:500;font-size:15px;margin-top:18px;margin-bottom:8px}p{margin-bottom:12px;line-height:1.6;color:var(--text-primary)}table{border-collapse:separate;border-spacing:0;width:100%;margin:18px 0;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;box-shadow:var(--shadow-md)}th{background:linear-gradient(to bottom,var(--accent-primary) 0%,var(--accent-secondary) 100%);color:#fff;padding:14px 16px;text-align:left;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid var(--accent-secondary)}td{padding:12px 16px;border-bottom:1px solid var(--border-medium);vertical-align:top;color:var(--text-primary);background-color:var(--bg-secondary)}tr:last-child td{border-bottom:none}tr:nth-child(even) td{background-color:var(--table-stripe)}tbody tr:hover td{background-color:var(--table-hover)}code{background-color:var(--code-bg);padding:3px 6px;border-radius:3px;font-family:consolas,monaco,courier new,monospace;color:var(--code-text);font-size:14px}pre{background:var(--pre-bg);border:1px solid var(--pre-border);border-left:4px solid var(--accent-primary);border-radius:6px;padding:16px;margin:18px 0;box-shadow:var(--shadow-sm);overflow-x:auto;line-height:1.5}pre code{background-color:initial;padding:0;color:var(--text-primary);font-family:consolas,monaco,courier new,monospace;font-size:14px}.note{background:var(--note-bg);border-left:5px solid var(--note-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.note::before{content:'\2139\FE0F  Note';display:block;font-weight:600;color:var(--note-text);margin-bottom:6px;font-size:14px}.note p{color:var(--text-primary)}.warning{background:var(--warning-bg);border-left:5px solid var(--warning-border);border-radius:4px;padding:14px 16px;margin:18px 0;box-shadow:var(--shadow-md);position:relative}.warning::before{content:'\26A0\FE0F  Warning';display:block;font-weight:600;color:var(--warning-text);margin-bottom:6px;font-size:14px}.warning p{color:var(--text-primary)}ul,ol{margin:12px 0;padding-left:30px;line-height:1.6}li{margin:6px 0;color:var(--text-primary)}a{color:var(--accent-primary);text-decoration:none}a:hover{color:var(--accent-hover);text-decoration:underline}.nav-footer{margin-top:48px;padding:20px 0 12px;border-top:2px solid var(--border-light);font-size:11px;color:var(--text-tertiary);text-align:center}.nav-footer p{margin:0;font-size:11px}.block-icon-container{display:table;width:100%;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;margin:24px 0;padding:20px;box-shadow:var(--shadow-md);table-layout:fixed}.block-icon-image{display:table-cell;width:220px;vertical-align:middle;padding-right:20px}.block-icon-image img{width:200px;height:auto;display:block}.block-icon-description{display:table-cell;vertical-align:middle;font-size:16px;line-height:1.7;color:var(--text-primary)}p img,.container>img{max-width:100%;height:auto;display:block;margin:20px auto;border:1px solid var(--border-light);border-radius:4px;box-shadow:var(--shadow-sm)}@media(max-width:768px){body{padding:10px 20px}.container{padding:20px}.page-header{flex-direction:column;align-items:flex-start;gap:16px}.microchip-logo{height:40px}.page-header h1{font-size:24px}h2{font-size:20px}h3{font-size:16px}}@media(max-width:1024px){.sidebar{position:fixed;left:-280px;top:0;height:100vh;z-index:999;transition:left .3s ease;box-shadow:2px 0 8px rgba(0,0,0,.15)}.sidebar.mobile-visible{left:0}.mobile-nav-toggle{display:flex;align-items:center;justify-content:center}.content-wrapper{width:100%}.container{margin:10px 15px;padding:20px}.sidebar.mobile-visible::after{content:'';position:fixed;top:0;left:280px;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:-1}}@media(max-width:768px){.container{margin:10px;padding:15px}.page-header h1{font-size:22px}.breadcrumbs{font-size:12px;padding:8px 12px}.nav-section-title{font-size:13px;padding:8px 15px}.nav-link{font-size:12px;padding:6px 15px;padding-left:35px}}.under-construction-banner{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);color:#fff;padding:12px 20px;text-align:center;font-size:14px;font-weight:600;border-bottom:3px solid #e65100;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-bottom:20px}.under-construction-banner .icon{font-size:18px;margin-right:8px}.under-construction-banner strong{color:#fff;text-transform:uppercase;letter-spacing:.5px}</style><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","name":"Scheduler \u0026 Multitasking - MPLAB Device Blocks for Simulink","description":"Microchip Blockset for MATLAB\/Simulink - Embedded Code Generation for dsPIC, PIC32, and SAM Microcontrollers","url":"https://mplab-blockset.github.io/MPLAB-Device-Blocks-for-Simulink\/getting_started\/scheduler_multitasking.html","author":{"@type":"Organization","name":"Microchip Technology Inc."},"datePublished":"2025-10-16","dateModified":"2025-10-16","inLanguage":"en-US"}</script></head><body><div class=doc-wrapper><nav class=sidebar><div class=sidebar-header><h2 class=sidebar-title>MPLAB Blockset</h2></div><div class=sidebar-nav><div class=nav-section><a href=../ class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>🏠</span>Home</span></a></div><div class=nav-section id=section-getting-started><div class=nav-section-title onclick='toggleSection("getting-started")'><span><span class=icon>🚀</span>Getting Started</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../getting_started/overview.html class=nav-link>Overview</a>
<a href=../getting_started/installation.html class=nav-link>Installation</a>
<a href=../getting_started/quick_start.html class=nav-link>Quick Start Guide</a>
<a href=../getting_started/board_templates.html class=nav-link>Board Templates</a>
<a href=../getting_started/motor_control_examples.html class=nav-link>Motor Control Examples</a>
<a href=../getting_started/scheduler_multitasking.html class=nav-link>Scheduler & Multitasking</a>
<a href=../getting_started/external_mode_pil.html class=nav-link>External Mode & PIL</a>
<a href=../getting_started/data_visualization.html class=nav-link>Data Visualization</a>
<a href=../getting_started/supported_devices.html class=nav-link>Supported Devices</a></div></div><div class=nav-section id=section-user-guide><div class=nav-section-title onclick='toggleSection("user-guide")'><span><span class=icon>📚</span>User Guide</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../user_guide/code_generation.html class=nav-link>Code Generation</a>
<a href=../user_guide/compiler_setup.html class=nav-link>Compiler Setup</a>
<a href=../user_guide/external_mode.html class=nav-link>External Mode</a>
<a href=../user_guide/pil_testing.html class=nav-link>PIL Testing</a></div></div><div class=nav-section id=section-block-reference><div class=nav-section-title onclick='toggleSection("block-reference")'><span><span class=icon>🧩</span>Block Reference</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><div class=nav-subsection id=section-pwm-timers><div class=nav-subsection-title onclick='toggleSection("pwm-timers")'><span><span class=icon>⚡</span>PWM & Timers</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/pwm_io/pwm.html class=nav-block-link>PWM</a>
<a href=../block_reference/pwm_io/pwm_highspeed.html class=nav-block-link>PWM High-Speed</a>
<a href=../block_reference/pwm_io/pwm_hs_fep.html class=nav-block-link>PWM HS FEP</a>
<a href=../block_reference/pwm_io/pwm_highspeed_override.html class=nav-block-link>PWM HS Override</a>
<a href=../block_reference/pwm_io/mcpwm.html class=nav-block-link>MCPWM (PIC32)</a>
<a href=../block_reference/pwm_io/pwm_sam7x.html class=nav-block-link>PWM SAM7x</a>
<a href=../block_reference/pwm_io/pwm_sam7x_override.html class=nav-block-link>PWM SAM7x Override</a>
<a href=../block_reference/pwm_io/tcc_pwm.html class=nav-block-link>TCC PWM (SAM)</a></div></div><div class=nav-subsection id=section-timers><div class=nav-subsection-title onclick='toggleSection("timers")'><span><span class=icon>⏱️</span>Timers</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/timers/timer_config.html class=nav-block-link>Timer Config</a>
<a href=../block_reference/timers/input_capture.html class=nav-block-link>Input Capture</a>
<a href=../block_reference/timers/output_compare_hw.html class=nav-block-link>Output Compare (HW)</a>
<a href=../block_reference/timers/output_compare_sw.html class=nav-block-link>Output Compare (SW)</a>
<a href=../block_reference/timers/timer_pil_profiling.html class=nav-block-link>PIL Profiling Timer</a></div></div><div class=nav-subsection id=section-adc><div class=nav-subsection-title onclick='toggleSection("adc")'><span><span class=icon>📊</span>ADC</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/adc/adc.html class=nav-block-link>ADC (dsPIC)</a>
<a href=../block_reference/adc/adc_hs_12b.html class=nav-block-link>ADC HS 12-bit</a>
<a href=../block_reference/adc/adc_highspeed_sar.html class=nav-block-link>ADC High-Speed SAR</a>
<a href=../block_reference/adc/adc_highspeed_sar_dspic.html class=nav-block-link>ADC HS SAR (dsPIC)</a>
<a href=../block_reference/adc/adc_same5x.html class=nav-block-link>ADC (SAM E5x)</a>
<a href=../block_reference/adc/adc_samrh707x.html class=nav-block-link>ADC (SAMRH707x)</a>
<a href=../block_reference/adc/afec_sam7x.html class=nav-block-link>AFEC (SAM7x)</a></div></div><div class=nav-subsection id=section-communication><div class=nav-subsection-title onclick='toggleSection("communication")'><span><span class=icon>📡</span>Communication</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><div class=nav-subsection id=section-uart><div class=nav-subsection-title onclick='toggleSection("uart")'><span><span class=icon></span>UART</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/communication/uart/uart_config.html class=nav-block-link>UART Config</a>
<a href=../block_reference/communication/uart/uart_tx.html class=nav-block-link>UART Tx</a>
<a href=../block_reference/communication/uart/uart_rx.html class=nav-block-link>UART Rx</a>
<a href=../block_reference/communication/uart/uart_txmatlab.html class=nav-block-link>UART Tx MATLAB</a>
<a href=../block_reference/communication/uart/uart_break_and_autobaud.html class=nav-block-link>UART Break & Autobaud</a></div></div><div class=nav-subsection id=section-can><div class=nav-subsection-title onclick='toggleSection("can")'><span><span class=icon></span>CAN</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/communication/can/can_config.html class=nav-block-link>CAN Config</a>
<a href=../block_reference/communication/can/can_tx.html class=nav-block-link>CAN Tx</a>
<a href=../block_reference/communication/can/can_rx.html class=nav-block-link>CAN Rx</a></div></div><a href=../block_reference/communication/i2c.html class=nav-block-link>I2C Master/Slave</a>
<a href=../block_reference/communication/spi.html class=nav-block-link>SPI Master/Slave</a></div></div><div class=nav-subsection id=section-digital-io><div class=nav-subsection-title onclick='toggleSection("digital-io")'><span><span class=icon>🔌</span>Digital I/O</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/digital_io/digital_input.html class=nav-block-link>Digital Input</a>
<a href=../block_reference/digital_io/digital_output.html class=nav-block-link>Digital Output</a>
<a href=../block_reference/digital_io/digital_output_read.html class=nav-block-link>Digital Output Read</a>
<a href=../block_reference/digital_io/digital_output_write.html class=nav-block-link>Digital Output Write</a></div></div><div class=nav-subsection id=section-encoders><div class=nav-subsection-title onclick='toggleSection("encoders")'><span><span class=icon>🔄</span>Encoders</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/encoders_counters/qei.html class=nav-block-link>QEI (Quadrature Encoder)</a>
<a href=../block_reference/encoders_counters/pdec.html class=nav-block-link>PDEC (SAM)</a>
<a href=../block_reference/encoders_counters/qdec_samx.html class=nav-block-link>QDEC (SAM)</a>
<a href=../block_reference/encoders_counters/change_notification.html class=nav-block-link>Change Notification</a></div></div><div class=nav-subsection id=section-analog-io><div class=nav-subsection-title onclick='toggleSection("analog-io")'><span><span class=icon>📉</span>Analog I/O</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator.html class=nav-block-link>High-Speed Comparator</a>
<a href=../block_reference/analog_io/comparator_opamps_volt_ref/highspeed_analogcomparator_wslope.html class=nav-block-link>Comparator w/ Slope</a>
<a href=../block_reference/analog_io/comparator_opamps_volt_ref/op_amp.html class=nav-block-link>Op-Amp</a>
<a href=../block_reference/analog_io/comparator_opamps_volt_ref/pga.html class=nav-block-link>PGA (Programmable Gain Amp)</a>
<a href=../block_reference/analog_io/dac_samx.html class=nav-block-link>DAC (SAM)</a></div></div><div class=nav-subsection id=section-system-config><div class=nav-subsection-title onclick='toggleSection("system-config")'><span><span class=icon>⚙️</span>System Config</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/system_configuration/master.html class=nav-block-link>Master</a>
<a href=../block_reference/system_configuration/interrupt.html class=nav-block-link>Interrupt</a>
<a href=../block_reference/system_configuration/compiler_options.html class=nav-block-link>Compiler Options</a>
<a href=../block_reference/system_configuration/scheduler_options.html class=nav-block-link>Scheduler Options</a>
<a href=../block_reference/system_configuration/idle_task.html class=nav-block-link>Idle Task</a>
<a href=../block_reference/system_configuration/mcu_load.html class=nav-block-link>MCU Load</a>
<a href=../block_reference/system_configuration/mcu_overload.html class=nav-block-link>MCU Overload</a>
<a href=../block_reference/system_configuration/tasks_state.html class=nav-block-link>Tasks State</a>
<a href=../block_reference/system_configuration/secondary_core.html class=nav-block-link>Secondary Core</a></div></div><div class=nav-subsection id=section-utility><div class=nav-subsection-title onclick='toggleSection("utility")'><span><span class=icon>🔧</span>Utility Blocks</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../block_reference/user_functions/c_function_call.html class=nav-block-link>C Function Call</a>
<a href=../block_reference/utility/doc.html class=nav-block-link>Documentation Block</a>
<a href=../block_reference/utility/msi.html class=nav-block-link>MSI (Model Sample Info)</a>
<a href=../block_reference/utility/port_info.html class=nav-block-link>Port Info</a>
<a href=../block_reference/utility/timer_info.html class=nav-block-link>Timer Info</a>
<a href=../block_reference/utility/simulink_reset_config.html class=nav-block-link>Simulink Reset Config</a></div></div></div></div><div class=nav-section id=section-examples><div class=nav-section-title onclick='toggleSection("examples")'><span><span class=icon>📖</span>Examples</span>
<span class=toggle-icon>▶</span></div><div class=nav-section-children><a href=../examples/field_weakening.html class=nav-link>Field Weakening</a></div></div><div class=nav-section id=section-github><a href=https://github.com/microchip-technology/mplab-blockset class=nav-section-title style="display:block;border-left:3px solid transparent"><span><span class=icon>💻</span>GitHub</span></a></div></div></nav><div class=content-wrapper><div class=container><div class=breadcrumbs><a href=../>Home</a>
<span>></span>
<a href=../getting_started/index.html>Getting Started</a>
<span>></span>
<span>Scheduler & Multitasking - MPLAB Device Blocks for Simulink</span></div><div class=under-construction-banner><span class=icon>⚠️</span>
<strong>Documentation Under Construction</strong> —
This documentation is currently being developed. All information has not been validated by Microchip yet.</div><div class=page-header><h1>Scheduler & Multitasking - MPLAB Device Blocks for Simulink</h1><div class=page-header-right><img src=../images/microchip-logo.png alt="Microchip Logo" class=microchip-logo>
<button class=theme-toggle onclick=toggleTheme() aria-label="Toggle dark mode">
<span class=theme-icon id=theme-icon>☀️</span>
<span id=theme-text>Light</span></button></div></div><p>The MPLAB Device Blocks for Simulink includes a sophisticated scheduler that enables efficient execution of multi-rate Simulink models on resource-constrained microcontrollers. This guide explains the scheduler concepts, configuration options, and best practices for optimal performance.</p><h2 id=single-rate-vs-multi-rate-models>Single-Rate vs Multi-Rate Models</h2><h2 id=simulink-models-can-be-designed-with-blocks-executing-at-the-same-rate-single-rate-or-at-different-rates-multi-rate>Simulink models can be designed with blocks executing at the same rate (single-rate) or at different rates (multi-rate):</h2><table><thead><tr><th>Model Type</th><th>Description</th><th>Example</th><th>Use Case</th></tr></thead><tbody><tr><td>Single-Rate</td><td>All blocks execute at the same sample time</td><td>All blocks at 1ms</td><td>Simple control loops, data acquisition</td></tr><tr><td>Multi-Rate</td><td>Blocks execute at different sample times</td><td>1ms, 10ms, 100ms tasks</td><td>Motor control (fast current loop, slow speed loop, UI)</td></tr></tbody></table><hr><div class=note style="background-color:#f0f8ff;border-left:4px solid #0076a8;padding:15px;margin:20px 0">💡 Why Multi-Rate?
Multi-rate models reduce CPU load by executing slow tasks (e.g., temperature monitoring, UI updates) less frequently than fast critical tasks (e.g., current control loops).</div><h2 id=single-tasking-vs-multi-tasking-implementation>Single-Tasking vs Multi-Tasking Implementation</h2><p>For multi-rate models, the MPLAB Device Blocks toolbox offers two execution modes:</p><h3 id=single-tasking-mode>Single-Tasking Mode</h3><p>In single-tasking mode, all tasks execute sequentially in a single loop. Fast tasks and slow tasks are called in order without preemption.</p><p><img src=../assets/images/toolbox_concepts/Scope_SingleTasking_70MIPS.png alt="Single-tasking execution on 70 MIPS chip"></p><p><strong>Figure 1:</strong> Single-tasking execution on a 70 MIPS dsPIC33. Tasks execute sequentially: fast 1ms task, then slow 10ms task when scheduled. No preemption occurs.</p><p><strong>Advantages:</strong></p><ul><li>Simple and predictable execution</li><li>No priority management needed</li><li>Easy to debug (linear execution flow)</li><li>No context switching overhead</li></ul><p><strong>Disadvantages:</strong></p><ul><li>CPU overload if total execution time exceeds base rate period</li><li>Slow tasks delay fast tasks</li><li>Not suitable for slow microcontrollers with tight timing requirements</li></ul><h4></h4><p><img src=../assets/images/toolbox_concepts/Scope_SingleTasking_20MIPS.png alt="Single-tasking overload on 20 MIPS chip"></p><hr><div class=warning style="background-color:#fff3cd;border-left:4px solid #ffc107;padding:15px;margin:20px 0"><p>⚠️ Overload Scenario - Single-Tasking
On slower chips or with computationally intensive algorithms, single-tasking can cause missed deadlines and timing violations:</p><pre><code>        Figure 2: Single-tasking overload on a 20 MIPS dsPIC33. The slow task (10ms) execution time extends beyond the 1ms base rate period, causing the fast task to miss its deadline. This results in timing violations and incorrect control behavior.
</code></pre></div><p><strong>Consequences of overload:</strong></p><ul><li>Fast control loops execute at incorrect rate</li><li>System instability (motor oscillations, overshoot)</li><li>Unpredictable behavior</li></ul><h3 id=multi-tasking-mode-rate-monotonic-scheduler>Multi-Tasking Mode (Rate-Monotonic Scheduler)</h3><p>In multi-tasking mode, tasks execute with priorities based on their execution rate. The scheduler implements the <strong>Rate-Monotonic Scheduling</strong> algorithm, where higher-rate tasks have higher priority.</p><p><img src=../assets/images/toolbox_concepts/Scheduler_MultiTasking_Scope.png alt="Rate-monotonic scheduler diagram"></p><p><strong>Figure 3:</strong> Rate-Monotonic Scheduler operation. <strong>Key principle</strong>: Higher rate tasks (faster execution frequency) have higher priority and can <strong>preempt</strong> slower tasks.</p><p><strong>How it works:</strong></p><ul><li>Each task is assigned a priority based on its rate (1ms > 10ms > 100ms)</li><li>When a high-priority task needs to execute, it preempts any running low-priority task</li><li>The preempted task resumes after the high-priority task completes</li><li>This ensures fast critical tasks always meet their deadlines</li></ul><p><img src=../assets/images/toolbox_concepts/Scope_MultiTasking_70MIPS.png alt="Multi-tasking execution on 70 MIPS chip"></p><p><strong>Figure 4:</strong> Multi-tasking execution on a 70 MIPS dsPIC33. The fast 1ms task (high priority) preempts the slow 10ms task (low priority) to meet its deadline. After completion, the 10ms task resumes execution.</p><p><strong>Advantages:</strong></p><ul><li>Better CPU utilization</li><li>Fast tasks always meet deadlines even when slow tasks run long</li><li>Prevents overload scenarios</li><li>Optimal fixed-priority scheduling (proven by Liu & Layland, 1973)</li></ul><p><strong>Disadvantages:</strong></p><ul><li>Slightly more complex than single-tasking</li><li>Small overhead from context switching (typically &lt;1%)</li><li>Requires understanding of task priorities</li></ul><h4></h4><p><img src=../assets/images/toolbox_concepts/Scope_MultiTasking_20MIPS.png alt="Multi-tasking on 20 MIPS chip"></p><hr><div class=note style="background-color:#f0f8ff;border-left:4px solid #0076a8;padding:15px;margin:20px 0"><p>💡 Overload Prevention with Multi-Tasking
Multi-tasking mode prevents the overload scenario seen in single-tasking mode:</p><pre><code>        Figure 5: Multi-tasking on a 20 MIPS dsPIC33. Even on this slower chip, the fast 1ms task executes on time by preempting the slow 10ms task. The system remains stable and all deadlines are met.
</code></pre></div><p><strong>Result:</strong> Fast control loops maintain correct execution rate, ensuring system stability.</p><h2 id=rate-monotonic-scheduling-theory>Rate-Monotonic Scheduling Theory</h2><p>The Rate-Monotonic Scheduling (RMS) algorithm is a mathematically proven optimal fixed-priority scheduling algorithm for periodic tasks.</p><h3 id=priority-assignment-rule>Priority Assignment Rule</h3><p>Tasks are assigned priorities inversely proportional to their period:</p><table><thead><tr><th>Task</th><th>Period (Sample Time)</th><th>Rate (Frequency)</th><th>Priority</th></tr></thead><tbody><tr><td>Fast Control Loop</td><td>1 ms</td><td>1000 Hz</td><td>Highest (1)</td></tr><tr><td>Speed Loop</td><td>10 ms</td><td>100 Hz</td><td>Medium (2)</td></tr><tr><td>UI Update</td><td>100 ms</td><td>10 Hz</td><td>Low (3)</td></tr><tr><td>Background Task</td><td>1000 ms</td><td>1 Hz</td><td>Lowest (4)</td></tr></tbody></table><h3 id=schedulability-analysis>Schedulability Analysis</h3><p>The RMS algorithm guarantees that all tasks will meet their deadlines if the following condition is met:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span>U <span style=color:#1f2328>=</span> Σ<span style=color:#1f2328>(</span>Ci <span style=color:#0550ae>/</span> Ti<span style=color:#1f2328>)</span> ≤ n<span style=color:#1f2328>(</span><span style=color:#0550ae>2</span>^<span style=color:#1f2328>(</span><span style=color:#0550ae>1</span><span style=color:#0550ae>/</span>n<span style=color:#1f2328>)</span> <span style=color:#0550ae>-</span> <span style=color:#0550ae>1</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Where<span style=color:#1f2328>:</span>
</span></span><span style=display:flex><span>  U  <span style=color:#1f2328>=</span> Total CPU utilization
</span></span><span style=display:flex><span>  Ci <span style=color:#1f2328>=</span> Execution time of task <span style=color:#6639ba>i</span>
</span></span><span style=display:flex><span>  Ti <span style=color:#1f2328>=</span> Period of task <span style=color:#6639ba>i</span>
</span></span><span style=display:flex><span>  n  <span style=color:#1f2328>=</span> Number of tasks
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>For <span style=color:#0550ae>3</span> tasks<span style=color:#1f2328>:</span> U ≤ <span style=color:#0550ae>0.78</span> <span style=color:#1f2328>(</span><span style=color:#0550ae>78</span><span style=color:#57606a>% CPU utilization)</span>
</span></span><span style=display:flex><span>For ∞ tasks<span style=color:#1f2328>:</span> U ≤ <span style=color:#0550ae>0.69</span> <span style=color:#1f2328>(</span><span style=color:#0550ae>69</span><span style=color:#57606a>% CPU utilization - conservative limit)</span>
</span></span></code></pre></div><hr><hr><div class=note style="background-color:#f0f8ff;border-left:4px solid #0076a8;padding:15px;margin:20px 0">💡 Practical Note:
The theoretical limit (69-78%) is conservative. In practice, many task sets are schedulable even above 90% CPU utilization. Use the MCU Load block to monitor actual CPU usage.</div><h2 id=when-to-use-single-tasking-vs-multi-tasking>When to Use Single-Tasking vs Multi-Tasking</h2><table><thead><tr><th>Scenario</th><th>Single-Tasking</th><th>Multi-Tasking</th><th>Recommendation</th></tr></thead><tbody><tr><td>Simple single-rate control loop</td><td>✅ Yes</td><td>Optional</td><td>Single-tasking for simplicity</td></tr><tr><td>Motor control (fast current + slow speed)</td><td>⚠️ Maybe</td><td>✅ Yes</td><td>Multi-tasking recommended</td></tr><tr><td>Slow chip (20-40 MIPS)</td><td>❌ No</td><td>✅ Required</td><td>Multi-tasking required</td></tr><tr><td>Fast chip (70+ MIPS) with margin</td><td>✅ OK</td><td>✅ Better</td><td>Either works, multi-tasking safer</td></tr><tr><td>Tight timing requirements</td><td>❌ Risky</td><td>✅ Yes</td><td>Multi-tasking for determinism</td></tr><tr><td>CPU utilization > 50%</td><td>⚠️ Caution</td><td>✅ Yes</td><td>Multi-tasking to prevent overload</td></tr></tbody></table><h2 id=configuration-in-mchp-master-block>Configuration in MCHP Master Block</h2><p>The scheduler mode is configured in the <strong>MCHP Master</strong> block:</p><h3 id=step-1-open-master-block-configuration>Step 1: Open Master Block Configuration</h3><pre tabindex=0><code>1. Double-click the MCHP_Master block in your model
2. Navigate to the &#34;Scheduler Options&#34; tab
3. Locate the &#34;Solver mode&#34; parameter
</code></pre><h3 id=step-2-select-scheduler-mode>Step 2: Select Scheduler Mode</h3><p>``****````</p><table><thead><tr><th>Option</th><th>Description</th><th>When to Use</th></tr></thead><tbody><tr><td>MultiTasking</td><td>Rate-monotonic scheduler with preemption</td><td>Default and recommended</td></tr><tr><td>SingleTasking</td><td>Sequential execution without preemption</td><td>Single-rate models or when preemption is not desired</td></tr><tr><td>Auto</td><td>Automatically selects based on model rates</td><td>Let toolbox choose optimal mode</td></tr></tbody></table><h3 id=step-3-verify-configuration>Step 3: Verify Configuration</h3><p>After building your model, check the generated code to verify the scheduler configuration:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#0550ae>/*</span> In <span style=color:#1f2328>[</span>ModelName<span style=color:#1f2328>].</span>c <span style=color:#0550ae>*/</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0550ae>/*</span> Multi<span style=color:#0550ae>-</span>tasking mode<span style=color:#1f2328>:</span> Task functions with priorities <span style=color:#0550ae>*/</span>
</span></span><span style=display:flex><span>void Task_1ms<span style=color:#1f2328>(</span>void<span style=color:#1f2328>)</span>   <span style=color:#0550ae>/*</span> Priority <span style=color:#0550ae>1</span> <span style=color:#1f2328>(</span>highest<span style=color:#1f2328>)</span> <span style=color:#0550ae>*/</span>
</span></span><span style=display:flex><span>void Task_10ms<span style=color:#1f2328>(</span>void<span style=color:#1f2328>)</span>  <span style=color:#0550ae>/*</span> Priority <span style=color:#0550ae>2</span> <span style=color:#0550ae>*/</span>
</span></span><span style=display:flex><span>void Task_100ms<span style=color:#1f2328>(</span>void<span style=color:#1f2328>)</span> <span style=color:#0550ae>/*</span> Priority <span style=color:#0550ae>3</span> <span style=color:#0550ae>*/</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0550ae>/*</span> Scheduler interrupt service routine <span style=color:#0550ae>*/</span>
</span></span><span style=display:flex><span>void __attribute__<span style=color:#1f2328>((</span>__interrupt__<span style=color:#1f2328>,</span> no_auto_psv<span style=color:#1f2328>))</span> _T1Interrupt<span style=color:#1f2328>(</span>void<span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>    <span style=color:#0550ae>/*</span> Check which tasks need to execute <span style=color:#0550ae>*/</span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span>counter_1ms <span style=color:#0550ae>&gt;</span><span style=color:#1f2328>=</span> <span style=color:#0550ae>1</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        counter_1ms <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>        Task_1ms<span style=color:#1f2328>();</span>  <span style=color:#0550ae>/*</span> Execute highest priority task <span style=color:#0550ae>*/</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span>counter_10ms <span style=color:#0550ae>&gt;</span><span style=color:#1f2328>=</span> <span style=color:#0550ae>10</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>        counter_10ms <span style=color:#1f2328>=</span> <span style=color:#0550ae>0</span><span style=color:#1f2328>;</span>
</span></span><span style=display:flex><span>        Task_10ms<span style=color:#1f2328>();</span>  <span style=color:#0550ae>/*</span> May be preempted by Task_1ms <span style=color:#0550ae>*/</span>
</span></span><span style=display:flex><span>    <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></div><h2 id=monitoring-cpu-load-and-task-execution>Monitoring CPU Load and Task Execution</h2><p>The MPLAB Device Blocks toolbox provides several blocks to monitor scheduler performance:</p><h3 id=mcu-load-block>MCU Load Block</h3><p>The <strong>MCU Load</strong> block measures actual CPU utilization:</p><ul><li>Outputs percentage of CPU time spent executing tasks</li><li>Updates in real-time during execution</li><li>Helps identify overload conditions before they occur</li></ul><p><strong>Usage:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-matlab data-lang=matlab><span style=display:flex><span><span style=color:#0550ae>1.</span> Add MCHP_MCU_Load block to your model
</span></span><span style=display:flex><span><span style=color:#0550ae>2.</span> Connect output to scope or data logging
</span></span><span style=display:flex><span><span style=color:#0550ae>3.</span> Monitor during testing to ensure load <span style=color:#0550ae>&lt;</span> <span style=color:#0550ae>80</span><span style=color:#57606a>%</span>
</span></span></code></pre></div><h3 id=tasks-state-block>Tasks State Block</h3><p>The <strong>Tasks State</strong> block provides detailed task execution information:</p><ul><li>Toggles output pin when each task executes</li><li>Allows oscilloscope measurement of actual task timing</li><li>Useful for verifying preemption behavior</li></ul><p>See the timing diagrams in Figures 3-5 above - these were captured using the Tasks State block with an oscilloscope.</p><h3 id=mcu-overload-block>MCU Overload Block</h3><p>The <strong>MCU Overload</strong> block detects timing violations:</p><ul><li>Triggers when a task exceeds its allocated time</li><li>Can halt execution or trigger error handling</li><li>Essential safety feature for production systems</li></ul><h2 id=best-practices>Best Practices</h2><h3 id=1-design-for-determinism>1. Design for Determinism</h3><ul><li>Use <strong>multi-tasking mode</strong> for multi-rate models</li><li>Keep fast tasks short and predictable</li><li>Move complex calculations to slower tasks when possible</li></ul><h3 id=2-monitor-cpu-load>2. Monitor CPU Load</h3><ul><li>Target <strong>&lt;70% CPU utilization</strong> for production systems</li><li>Use MCU Load block during development to track usage</li><li>Test worst-case scenarios (all tasks coinciding)</li></ul><h3 id=3-task-execution-time-guidelines>3. Task Execution Time Guidelines</h3><table><thead><tr><th>Task Priority</th><th>Maximum Execution Time</th><th>Guideline</th></tr></thead><tbody><tr><td>Highest (fastest rate)</td><td>&lt;50% of period</td><td>1ms task should execute in &lt;500μs</td></tr><tr><td>Medium</td><td>&lt;70% of period</td><td>10ms task should execute in &lt;7ms</td></tr><tr><td>Lowest (background)</td><td>&lt;90% of period</td><td>100ms task can use up to 90ms</td></tr></tbody></table><h3 id=4-handle-priority-inversion>4. Handle Priority Inversion</h3><p>Avoid shared resources between tasks of different priorities. If necessary, use:</p><ul><li>Atomic operations for simple variables</li><li>Disable interrupts briefly for critical sections</li><li>Design tasks to be independent when possible</li></ul><h3 id=5-testing-strategy>5. Testing Strategy</h3><ul><li><strong>Simulation</strong>: Verify algorithm correctness</li><li><strong>Single-rate test</strong>: Test all blocks at base rate first</li><li><strong>Multi-rate test</strong>: Enable different task rates</li><li><strong>Stress test</strong>: Add artificial load to verify overload handling</li><li><strong>Long-duration test</strong>: Run for hours to catch edge cases</li></ul><h2 id=troubleshooting>Troubleshooting</h2><h3 id=problem-model-execution-is-unstable>Problem: Model execution is unstable</h3><p><strong>Possible causes:</strong></p><ul><li>CPU overload (utilization > 100%)</li><li>Task execution time exceeds period</li><li>Timing violations in single-tasking mode</li></ul><p><strong>Solutions:</strong></p><ul><li>Switch to <strong>multi-tasking mode</strong></li><li>Use MCU Load block to measure utilization</li><li>Optimize slow code sections (use PIL for profiling)</li><li>Move non-critical code to slower tasks</li><li>Consider faster microcontroller</li></ul><h3 id=problem-fast-task-misses-deadlines>Problem: Fast task misses deadlines</h3><p><strong>In single-tasking mode:</strong></p><ul><li>Slow task is blocking fast task execution</li><li>Total execution time exceeds base rate period</li></ul><p><strong>Solution:</strong> Switch to multi-tasking mode to enable preemption</p><p><strong>In multi-tasking mode:</strong></p><ul><li>Fast task execution time is too long</li><li>Higher-priority interrupts are blocking task</li></ul><p><strong>Solution:</strong> Optimize fast task or increase base rate period</p><h3 id=problem-context-switching-overhead-is-high>Problem: Context switching overhead is high</h3><p>If multi-tasking overhead is significant (rare, typically &lt;1%):</p><ul><li>Reduce number of task rates</li><li>Combine tasks with similar periods</li><li>Consider if multi-tasking is actually needed</li></ul><h2 id=related-documentation>Related Documentation</h2><ul><li><a href=../block_reference/system_configuration/scheduler_options.html>MCHP_Scheduler_Options Block Reference</a></li><li><a href=../block_reference/system_configuration/master.html>MCHP_Master Block Reference</a></li><li><a href=../block_reference/system_configuration/mcu_load.html>MCHP_MCU_Load Block Reference</a></li><li><a href=../block_reference/system_configuration/mcu_overload.html>MCHP_MCU_Overload Block Reference</a></li><li><a href=../block_reference/system_configuration/tasks_state.html>MCHP_Tasks_State Block Reference</a></li><li><a href=external_mode_pil.html>External Mode & PIL Testing Guide</a></li></ul><h2 id=references>References</h2><ul><li>Liu, C. L., & Layland, J. W. (1973). &ldquo;Scheduling Algorithms for Multiprogramming in a Hard-Real-Time Environment&rdquo;. <em>Journal of the ACM</em>, 20(1), 46-61.</li><li>Buttazzo, G. C. (2011). <em>Hard Real-Time Computing Systems: Predictable Scheduling Algorithms and Applications</em> (3rd ed.). Springer.</li></ul><h2 id=see-also>See Also</h2><h3 id=other>Other</h3><div class=nav-footer><p>Last updated: January 2025 | MPLAB Blockset Documentation</p><p>&copy; 2025 Microchip Technology Inc. All rights reserved.</p></div></div></div><button class=mobile-nav-toggle onclick=toggleMobileSidebar() aria-label="Toggle navigation">
☰</button></div><script>function toggleTheme(){const t=document.documentElement,n=t.getAttribute("data-theme"),e=n==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e),updateThemeButton(e)}function updateThemeButton(e){const t=document.getElementById("theme-icon"),n=document.getElementById("theme-text");e==="dark"?(t.textContent="🌙",n.textContent="Dark"):(t.textContent="☀️",n.textContent="Light")}(function(){const n=localStorage.getItem("theme"),s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n||(s?"dark":"light");document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateThemeButton(t)}}),window.toggleSection=function(e){const t=document.getElementById("section-"+e);if(t&&(t.classList.toggle("expanded"),t.classList.contains("nav-section"))){const n=getExpandedSections();t.classList.contains("expanded")?n.add(e):n.delete(e),localStorage.setItem("expandedSections",JSON.stringify([...n]))}};function getExpandedSections(){const e=localStorage.getItem("expandedSections");return new Set(e?JSON.parse(e):[])}function restoreExpandedSections(){const e=getExpandedSections();e.forEach(e=>{const t=document.getElementById("section-"+e);t&&t.classList.add("expanded")})}function highlightActivePage(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link, .nav-block-link, .nav-section-title[href], .nav-subsection-title[href]");t.forEach(t=>{const n=new URL(t.href,window.location.origin).pathname;if(n===e){t.classList.add("active");const n=t.closest(".nav-subsection");n&&!n.classList.contains("expanded")&&n.classList.add("expanded");const e=t.closest(".nav-section");if(e&&!e.classList.contains("expanded")){e.classList.add("expanded");const n=e.id.replace("section-",""),t=getExpandedSections();t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t]))}}})}window.toggleMobileSidebar=function(){const e=document.querySelector(".sidebar");e&&e.classList.toggle("mobile-visible")},function(){restoreExpandedSections(),highlightActivePage();const t=document.querySelector(".nav-link.active");if(t){const e=t.closest(".nav-section");if(e&&e.id){const n=e.id.replace("section-",""),t=getExpandedSections();t.has(n)||(t.add(n),localStorage.setItem("expandedSections",JSON.stringify([...t])))}}}()</script></body></html>